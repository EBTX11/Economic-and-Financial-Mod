

#qiran
ai_buy_player_currency_1_qiran = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = player_qiran_to_gold
    }

    root = {
        save_scope_as = gold_to_qiran_seller
    }

    scope:gold_to_qiran_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_qiran_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_qiran_state_1_buy_in_gold_scripted_for_player
                }

                #########
                change_variable = {
                    name = stockpiling_qiran_state_1
                    add = owner.stockpiling_qiran_state_buy_vriablity
                }
            }
        }
        scope:player_qiran_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_qiran_state_1_buy_in_gold
                        value =  scope:gold_to_qiran_seller.stockpiling_qiran_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_qiran_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_qiran_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_qiran_state_1
                        subtract = scope:gold_to_qiran_seller.stockpiling_qiran_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_qiran_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            if = {
                limit = {
                    stockpiling_qiran_state_buy_vriablity > 1
                }
                set_variable = {
                    name = stockpiling_qiran_state_buy_vriablity_for_toast
                    value =  scope:gold_to_qiran_seller.stockpiling_qiran_state_buy_vriablity
                }
                post_notification = your_currency_qiran_are_buy_message
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                	name = stockpiling_qiran_state_1_buy_in_gold
                	value = 0
                }
            }
        }
    }
}
ai_sell_player_currency_1_qiran = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = player_qiran_to_gold
    }

    root = {
        save_scope_as = gold_to_qiran_seller
    }


    scope:gold_to_qiran_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_qiran_seller_capital_state

                set_variable = {
                    name = stockpiling_qiran_state_1_selle_in_gold
                    value = owner.stockpiling_qiran_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_qiran_state_1_selle_in_gold
                    multiply = scope:player_qiran_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_qiran_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_qiran_state_1
                    subtract = owner.stockpiling_qiran_state_sell_vriablity
                }
            }
        }
        scope:player_qiran_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_qiran_seller_capital_state.var:stockpiling_qiran_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_qiran_state_1
                        add = scope:gold_to_qiran_seller.stockpiling_qiran_state_sell_vriablity
                    }
                }
            }
            set_variable = {
                name = stockpiling_qiran_state_sell_vriablity_for_toast
                value =  scope:gold_to_qiran_seller.stockpiling_qiran_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_qiran_state_sell_vriablity > 1
                }
                post_notification = your_currency_qiran_are_sell_message
                #post_notification = your_currency_qiran_are_sell_toast
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                	name = stockpiling_qiran_state_1_selle_in_gold
                	value = 0
                }
            }
        }
    }
}















###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

central_bank_interest_actual = {
	remove_modifier = central_bank_interest
    add_modifier = {
        name = central_bank_interest
        multiplier = vo_interest_value
    }
}


###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

circulating_currency = {
    add_journal_entry = {
        type = law_bath_currency_je_1
    }
    add_journal_entry = {
        type = law_belgian_franc_currency_je_1
    }
    add_journal_entry = {
        type = law_rupee_currency_je_1
    }
    add_journal_entry = {
        type = law_brazilian_real_currency_je_1
    }
    add_journal_entry = {
        type = law_yuan_currency_je_1
    }
    add_journal_entry = {
        type = law_dinar_currency_je_1
    }
    add_journal_entry = {
        type = law_drachma_currency_je_1
    }
    add_journal_entry = {
        type = law_franc_currency_je_1
    }
    add_journal_entry = {
        type = law_sterling_currency_je_2
    }
    add_journal_entry = {
        type = law_mark_currency_je_1
    }
    add_journal_entry = {
        type = law_lira_currency_je_1
    }
    add_journal_entry = {
        type = law_yen_currency_je_1
    }
    add_journal_entry = {
        type = law_krone_currency_je_1
    }
    add_journal_entry = {
        type = law_leu_currency_je_1
    }
    add_journal_entry = {
        type = law_florin_currency_je_1
    }
    add_journal_entry = {
        type = law_peso_currency_je_1
    }
    add_journal_entry = {
        type = law_real_currency_je_1
    }
    add_journal_entry = {
        type = law_qiran_currency_je_1
    }
    add_journal_entry = {
        type = law_rupee_currency_je_1
    }
    add_journal_entry = {
        type = law_rouble_currency_je_1
    }
    add_journal_entry = {
        type = law_money_currency_je_1
    }
    add_journal_entry = {
        type = law_swiss_franc_currency_je_1
    }
    add_journal_entry = {
        type = law_ottoman_lira_currency_je_1
    }
    add_journal_entry = {
        type = law_dollar_currency_je_1
    }
    add_journal_entry = {
        type = law_sterling_currency_je_1
    }
    add_journal_entry = {
        type = law_gulden_currency_je_1
    }
}

###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

ef_ai_currency_exchange_decisions = {
    change_variable = {
		name = ai_against_global_monetary_reference_1
		subtract = 1
	}
}

###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

sell_limit_currency_var_0 = {
	set_variable = {
		name = sell_limit_currency_var_1
		value = 0
	}
}

###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

money_value_target_time_reset = {
	set_variable = {
		name = money_value_target_time
		value = 0
	}
}

###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

# ███████╗██╗     ██╗   ██╗ ██████╗████████╗██╗   ██╗ █████╗ ████████╗██╗ ██████╗ ███╗   ██╗███████╗        ███╗   ███╗ ██████╗ ███╗   ██╗███████╗██╗   ██╗    ██╗   ██╗ █████╗ ██╗     ██╗   ██╗███████╗
# ██╔════╝██║     ██║   ██║██╔════╝╚══██╔══╝██║   ██║██╔══██╗╚══██╔══╝██║██╔═══██╗████╗  ██║██╔════╝        ████╗ ████║██╔═══██╗████╗  ██║██╔════╝╚██╗ ██╔╝    ██║   ██║██╔══██╗██║     ██║   ██║██╔════╝
# █████╗  ██║     ██║   ██║██║        ██║   ██║   ██║███████║   ██║   ██║██║   ██║██╔██╗ ██║███████╗        ██╔████╔██║██║   ██║██╔██╗ ██║█████╗   ╚████╔╝     ██║   ██║███████║██║     ██║   ██║█████╗
# ██╔══╝  ██║     ██║   ██║██║        ██║   ██║   ██║██╔══██║   ██║   ██║██║   ██║██║╚██╗██║╚════██║        ██║╚██╔╝██║██║   ██║██║╚██╗██║██╔══╝    ╚██╔╝      ╚██╗ ██╔╝██╔══██║██║     ██║   ██║██╔══╝
# ██║     ███████╗╚██████╔╝╚██████╗   ██║   ╚██████╔╝██║  ██║   ██║   ██║╚██████╔╝██║ ╚████║███████║███████╗██║ ╚═╝ ██║╚██████╔╝██║ ╚████║███████╗   ██║███████╗╚████╔╝ ██║  ██║███████╗╚██████╔╝███████╗
# ╚═╝     ╚══════╝ ╚═════╝  ╚═════╝   ╚═╝    ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚═╝ ╚═════╝ ╚═╝  ╚═══╝╚══════╝╚══════╝╚═╝     ╚═╝ ╚═════╝ ╚═╝  ╚═══╝╚══════╝   ╚═╝╚══════╝ ╚═══╝  ╚═╝  ╚═╝╚══════╝ ╚═════╝ ╚══════╝

###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

fluctuations_money_value_1_year = {
	change_variable = {
		name = money_value_fixe_var_1_1Y
		add = 1
	}

    if = {
        limit = {
            var:money_value_fixe_var_1_1Y = 1
        }
        set_variable = {
            name = money_value_var_half_1_year
            value = money_value_rapported_inflation
        }
    }
    if = {
        limit = {
            var:money_value_fixe_var_1_1Y = 2
        }
        set_variable = {
            name = money_value_var_1_year
            value = money_value_rapported_inflation
        }
        set_variable = {
            name = money_value_dif_1
            value = 0
        }
        change_variable = {
            name = money_value_dif_1
            add = var:money_value_var_1_year
        }
        change_variable = {
            name = money_value_dif_1
            divide = var:money_value_var_half_1_year
        }

        set_variable = {
            name = money_value_fixe_var_1_1Y
            value = 0
        }
    }
}

fluctuations_money_value_5_year = {
	change_variable = {
		name = money_value_fixe_var_1_5Y
		add = 1
	}

    if = {
        limit = {
            var:money_value_fixe_var_1_5Y = 1
        }
        set_variable = {
            name = money_value_var_half_5_year
            value = money_value_rapported_inflation
        }
    }
    if = {
        limit = {
            var:money_value_fixe_var_1_5Y = 5
        }
        set_variable = {
            name = money_value_var_5_year
            value = money_value_rapported_inflation
        }
        set_variable = {
            name = money_value_dif_5
            value = 0
        }
        change_variable = {
            name = money_value_dif_5
            add = var:money_value_var_5_year
        }
        change_variable = {
            name = money_value_dif_5
            divide = var:money_value_var_half_5_year
        }

        set_variable = {
            name = money_value_fixe_var_1_5Y
            value = 0
        }
    }
}

fluctuations_money_value_10_year = {
	change_variable = {
		name = money_value_fixe_var_1_10Y
		add = 1
	}

    if = {
        limit = {
            var:money_value_fixe_var_1_10Y = 1
        }
        set_variable = {
            name = money_value_var_half_10_year
            value = money_value_rapported_inflation
        }
    }
    if = {
        limit = {
            var:money_value_fixe_var_1_10Y = 10
        }
        set_variable = {
            name = money_value_var_10_year
            value = money_value_rapported_inflation
        }
        set_variable = {
            name = money_value_dif_10
            value = 0
        }
        change_variable = {
            name = money_value_dif_10
            add = var:money_value_var_10_year
        }
        change_variable = {
            name = money_value_dif_10
            divide = var:money_value_var_half_10_year
        }

        set_variable = {
            name = money_value_fixe_var_1_10Y
            value = 0
        }
    }
}

################################################################################################################################
################################################################################################################################
################################################################################################################################
################################################################################################################################

#money
stockpiling_money_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_money_c_var_1
        value = stockpiling_money_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_money_c_var_2
        value = 0
    }
    if = {
        limit = {
            money_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_money_c_var_2
            add = money_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_money_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_money_c_var_1
            add = var:stockpiling_money_c_var_2
        }
    }
    circulating_money_c_1 = yes
}
circulating_money_c_1 = {
    set_variable = {
        name = circulating_money_c_var_2
        value = 0
    }
    if = {
        limit = {
            money_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_money_c_var_2
            add = money_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_money_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_money_c_var_1
            add = var:circulating_money_c_var_2
        }
    }
    stockpiling_money_c_state_1 = yes
}
stockpiling_money_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_money_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_money_state_1
                                value = root.var:stockpiling_money_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_money_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_money_state_1
                                value = root.var:stockpiling_money_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_money_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_money_state_1
                                value = root.var:stockpiling_money_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#franc
stockpiling_franc_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_franc_c_var_1
        value = stockpiling_franc_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_franc_c_var_2
        value = 0
    }
    if = {
        limit = {
            franc_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_franc_c_var_2
            add = franc_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_franc_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_franc_c_var_1
            add = var:stockpiling_franc_c_var_2
        }
    }
    circulating_franc_c_1 = yes
}
circulating_franc_c_1 = {
    set_variable = {
        name = circulating_franc_c_var_2
        value = 0
    }
    if = {
        limit = {
            franc_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_franc_c_var_2
            add = franc_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_franc_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_franc_c_var_1
            add = var:circulating_franc_c_var_2
        }
    }
    stockpiling_franc_c_state_1 = yes
}
stockpiling_franc_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_franc_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_franc_state_1
                                value = root.var:stockpiling_franc_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_franc_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_franc_state_1
                                value = root.var:stockpiling_franc_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_franc_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_franc_state_1
                                value = root.var:stockpiling_franc_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#dollar
stockpiling_dollar_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_dollar_c_var_1
        value = stockpiling_dollar_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_dollar_c_var_2
        value = 0
    }
    if = {
        limit = {
            dollar_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_dollar_c_var_2
            add = dollar_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_dollar_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_dollar_c_var_1
            add = var:stockpiling_dollar_c_var_2
        }
    }
    circulating_dollar_c_1 = yes
}
circulating_dollar_c_1 = {
    set_variable = {
        name = circulating_dollar_c_var_2
        value = 0
    }
    if = {
        limit = {
            dollar_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_dollar_c_var_2
            add = dollar_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_dollar_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_dollar_c_var_1
            add = var:circulating_dollar_c_var_2
        }
    }
    stockpiling_dollar_c_state_1 = yes
}
stockpiling_dollar_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_dollar_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_dollar_state_1
                                value = root.var:stockpiling_dollar_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_dollar_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_dollar_state_1
                                value = root.var:stockpiling_dollar_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_dollar_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_dollar_state_1
                                value = root.var:stockpiling_dollar_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#mark
stockpiling_mark_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_mark_c_var_1
        value = stockpiling_mark_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_mark_c_var_2
        value = 0
    }
    if = {
        limit = {
            mark_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_mark_c_var_2
            add = mark_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_mark_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_mark_c_var_1
            add = var:stockpiling_mark_c_var_2
        }
    }
    circulating_mark_c_1 = yes
}
circulating_mark_c_1 = {
    set_variable = {
        name = circulating_mark_c_var_2
        value = 0
    }
    if = {
        limit = {
            mark_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_mark_c_var_2
            add = mark_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_mark_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_mark_c_var_1
            add = var:circulating_mark_c_var_2
        }
    }
    stockpiling_mark_c_state_1 = yes
}
stockpiling_mark_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_mark_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_mark_state_1
                                value = root.var:stockpiling_mark_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_mark_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_mark_state_1
                                value = root.var:stockpiling_mark_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_mark_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_mark_state_1
                                value = root.var:stockpiling_mark_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#sterling
stockpiling_sterling_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_sterling_c_var_1
        value = stockpiling_sterling_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_sterling_c_var_2
        value = 0
    }
    if = {
        limit = {
            sterling_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_sterling_c_var_2
            add = sterling_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_sterling_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_sterling_c_var_1
            add = var:stockpiling_sterling_c_var_2
        }
    }
    circulating_sterling_c_1 = yes
}
circulating_sterling_c_1 = {
    set_variable = {
        name = circulating_sterling_c_var_2
        value = 0
    }
    if = {
        limit = {
            sterling_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_sterling_c_var_2
            add = sterling_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_sterling_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_sterling_c_var_1
            add = var:circulating_sterling_c_var_2
        }
    }
    stockpiling_sterling_c_state_1 = yes
}
stockpiling_sterling_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_sterling_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_sterling_state_1
                                value = root.var:stockpiling_sterling_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_sterling_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_sterling_state_1
                                value = root.var:stockpiling_sterling_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_sterling_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_sterling_state_1
                                value = root.var:stockpiling_sterling_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#real
stockpiling_real_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_real_c_var_1
        value = stockpiling_real_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_real_c_var_2
        value = 0
    }
    if = {
        limit = {
            real_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_real_c_var_2
            add = real_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_real_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_real_c_var_1
            add = var:stockpiling_real_c_var_2
        }
    }
    circulating_real_c_1 = yes
}
circulating_real_c_1 = {
    set_variable = {
        name = circulating_real_c_var_2
        value = 0
    }
    if = {
        limit = {
            real_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_real_c_var_2
            add = real_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_real_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_real_c_var_1
            add = var:circulating_real_c_var_2
        }
    }
    stockpiling_real_c_state_1 = yes
}
stockpiling_real_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_real_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_real_state_1
                                value = root.var:stockpiling_real_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_real_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_real_state_1
                                value = root.var:stockpiling_real_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_real_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_real_state_1
                                value = root.var:stockpiling_real_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#gulden
stockpiling_gulden_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_gulden_c_var_1
        value = stockpiling_gulden_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_gulden_c_var_2
        value = 0
    }
    if = {
        limit = {
            gulden_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_gulden_c_var_2
            add = gulden_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_gulden_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_gulden_c_var_1
            add = var:stockpiling_gulden_c_var_2
        }
    }
    circulating_gulden_c_1 = yes
}
circulating_gulden_c_1 = {
    set_variable = {
        name = circulating_gulden_c_var_2
        value = 0
    }
    if = {
        limit = {
            gulden_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_gulden_c_var_2
            add = gulden_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_gulden_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_gulden_c_var_1
            add = var:circulating_gulden_c_var_2
        }
    }
    stockpiling_gulden_c_state_1 = yes
}
stockpiling_gulden_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_gulden_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_gulden_state_1
                                value = root.var:stockpiling_gulden_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_gulden_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_gulden_state_1
                                value = root.var:stockpiling_gulden_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_gulden_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_gulden_state_1
                                value = root.var:stockpiling_gulden_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#yuan
stockpiling_yuan_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_yuan_c_var_1
        value = stockpiling_yuan_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_yuan_c_var_2
        value = 0
    }
    if = {
        limit = {
            yuan_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_yuan_c_var_2
            add = yuan_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_yuan_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_yuan_c_var_1
            add = var:stockpiling_yuan_c_var_2
        }
    }
    circulating_yuan_c_1 = yes
}
circulating_yuan_c_1 = {
    set_variable = {
        name = circulating_yuan_c_var_2
        value = 0
    }
    if = {
        limit = {
            yuan_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_yuan_c_var_2
            add = yuan_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_yuan_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_yuan_c_var_1
            add = var:circulating_yuan_c_var_2
        }
    }
    stockpiling_yuan_c_state_1 = yes
}
stockpiling_yuan_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_yuan_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_yuan_state_1
                                value = root.var:stockpiling_yuan_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_yuan_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_yuan_state_1
                                value = root.var:stockpiling_yuan_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_yuan_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_yuan_state_1
                                value = root.var:stockpiling_yuan_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#rupee
stockpiling_rupee_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_rupee_c_var_1
        value = stockpiling_rupee_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_rupee_c_var_2
        value = 0
    }
    if = {
        limit = {
            rupee_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_rupee_c_var_2
            add = rupee_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_rupee_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_rupee_c_var_1
            add = var:stockpiling_rupee_c_var_2
        }
    }
    circulating_rupee_c_1 = yes
}
circulating_rupee_c_1 = {
    set_variable = {
        name = circulating_rupee_c_var_2
        value = 0
    }
    if = {
        limit = {
            rupee_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_rupee_c_var_2
            add = rupee_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_rupee_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_rupee_c_var_1
            add = var:circulating_rupee_c_var_2
        }
    }
    stockpiling_rupee_c_state_1 = yes
}
stockpiling_rupee_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_rupee_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_rupee_state_1
                                value = root.var:stockpiling_rupee_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_rupee_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_rupee_state_1
                                value = root.var:stockpiling_rupee_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_rupee_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_rupee_state_1
                                value = root.var:stockpiling_rupee_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#yen
stockpiling_yen_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_yen_c_var_1
        value = stockpiling_yen_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_yen_c_var_2
        value = 0
    }
    if = {
        limit = {
            yen_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_yen_c_var_2
            add = yen_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_yen_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_yen_c_var_1
            add = var:stockpiling_yen_c_var_2
        }
    }
    circulating_yen_c_1 = yes
}
circulating_yen_c_1 = {
    set_variable = {
        name = circulating_yen_c_var_2
        value = 0
    }
    if = {
        limit = {
            yen_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_yen_c_var_2
            add = yen_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_yen_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_yen_c_var_1
            add = var:circulating_yen_c_var_2
        }
    }
    stockpiling_yen_c_state_1 = yes
}
stockpiling_yen_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_yen_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_yen_state_1
                                value = root.var:stockpiling_yen_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_yen_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_yen_state_1
                                value = root.var:stockpiling_yen_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_yen_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_yen_state_1
                                value = root.var:stockpiling_yen_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#peseta
stockpiling_peseta_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_peseta_c_var_1
        value = stockpiling_peseta_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_peseta_c_var_2
        value = 0
    }
    if = {
        limit = {
            peseta_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_peseta_c_var_2
            add = peseta_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_peseta_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_peseta_c_var_1
            add = var:stockpiling_peseta_c_var_2
        }
    }
    circulating_peseta_c_1 = yes
}
circulating_peseta_c_1 = {
    set_variable = {
        name = circulating_peseta_c_var_2
        value = 0
    }
    if = {
        limit = {
            peseta_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_peseta_c_var_2
            add = peseta_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_peseta_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_peseta_c_var_1
            add = var:circulating_peseta_c_var_2
        }
    }
    stockpiling_peseta_c_state_1 = yes
}
stockpiling_peseta_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_peseta_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_peseta_state_1
                                value = root.var:stockpiling_peseta_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_peseta_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_peseta_state_1
                                value = root.var:stockpiling_peseta_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_peseta_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_peseta_state_1
                                value = root.var:stockpiling_peseta_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#ottoman_lira
stockpiling_ottoman_lira_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_ottoman_lira_c_var_1
        value = stockpiling_ottoman_lira_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_ottoman_lira_c_var_2
        value = 0
    }
    if = {
        limit = {
            ottoman_lira_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_ottoman_lira_c_var_2
            add = ottoman_lira_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_ottoman_lira_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_ottoman_lira_c_var_1
            add = var:stockpiling_ottoman_lira_c_var_2
        }
    }
    circulating_ottoman_lira_c_1 = yes
}
circulating_ottoman_lira_c_1 = {
    set_variable = {
        name = circulating_ottoman_lira_c_var_2
        value = 0
    }
    if = {
        limit = {
            ottoman_lira_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_ottoman_lira_c_var_2
            add = ottoman_lira_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_ottoman_lira_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_ottoman_lira_c_var_1
            add = var:circulating_ottoman_lira_c_var_2
        }
    }
    stockpiling_ottoman_lira_c_state_1 = yes
}
stockpiling_ottoman_lira_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_ottoman_lira_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_ottoman_lira_state_1
                                value = root.var:stockpiling_ottoman_lira_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_ottoman_lira_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_ottoman_lira_state_1
                                value = root.var:stockpiling_ottoman_lira_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_ottoman_lira_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_ottoman_lira_state_1
                                value = root.var:stockpiling_ottoman_lira_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#lira
stockpiling_lira_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_lira_c_var_1
        value = stockpiling_lira_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_lira_c_var_2
        value = 0
    }
    if = {
        limit = {
            lira_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_lira_c_var_2
            add = lira_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_lira_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_lira_c_var_1
            add = var:stockpiling_lira_c_var_2
        }
    }
    circulating_lira_c_1 = yes
}
circulating_lira_c_1 = {
    set_variable = {
        name = circulating_lira_c_var_2
        value = 0
    }
    if = {
        limit = {
            lira_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_lira_c_var_2
            add = lira_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_lira_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_lira_c_var_1
            add = var:circulating_lira_c_var_2
        }
    }
    stockpiling_lira_c_state_1 = yes
}
stockpiling_lira_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_lira_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_lira_state_1
                                value = root.var:stockpiling_lira_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_lira_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_lira_state_1
                                value = root.var:stockpiling_lira_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_lira_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_lira_state_1
                                value = root.var:stockpiling_lira_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#peso
stockpiling_peso_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_peso_c_var_1
        value = stockpiling_peso_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_peso_c_var_2
        value = 0
    }
    if = {
        limit = {
            peso_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_peso_c_var_2
            add = peso_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_peso_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_peso_c_var_1
            add = var:stockpiling_peso_c_var_2
        }
    }
    circulating_peso_c_1 = yes
}
circulating_peso_c_1 = {
    set_variable = {
        name = circulating_peso_c_var_2
        value = 0
    }
    if = {
        limit = {
            peso_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_peso_c_var_2
            add = peso_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_peso_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_peso_c_var_1
            add = var:circulating_peso_c_var_2
        }
    }
    stockpiling_peso_c_state_1 = yes
}
stockpiling_peso_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_peso_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_peso_state_1
                                value = root.var:stockpiling_peso_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_peso_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_peso_state_1
                                value = root.var:stockpiling_peso_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_peso_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_peso_state_1
                                value = root.var:stockpiling_peso_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#rouble
stockpiling_rouble_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_rouble_c_var_1
        value = stockpiling_rouble_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_rouble_c_var_2
        value = 0
    }
    if = {
        limit = {
            rouble_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_rouble_c_var_2
            add = rouble_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_rouble_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_rouble_c_var_1
            add = var:stockpiling_rouble_c_var_2
        }
    }
    circulating_rouble_c_1 = yes
}
circulating_rouble_c_1 = {
    set_variable = {
        name = circulating_rouble_c_var_2
        value = 0
    }
    if = {
        limit = {
            rouble_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_rouble_c_var_2
            add = rouble_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_rouble_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_rouble_c_var_1
            add = var:circulating_rouble_c_var_2
        }
    }
    stockpiling_rouble_c_state_1 = yes
}
stockpiling_rouble_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_rouble_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_rouble_state_1
                                value = root.var:stockpiling_rouble_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_rouble_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_rouble_state_1
                                value = root.var:stockpiling_rouble_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_rouble_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_rouble_state_1
                                value = root.var:stockpiling_rouble_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#swiss_franc
stockpiling_swiss_franc_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_swiss_franc_c_var_1
        value = stockpiling_swiss_franc_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_swiss_franc_c_var_2
        value = 0
    }
    if = {
        limit = {
            swiss_franc_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_swiss_franc_c_var_2
            add = swiss_franc_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_swiss_franc_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_swiss_franc_c_var_1
            add = var:stockpiling_swiss_franc_c_var_2
        }
    }
    circulating_swiss_franc_c_1 = yes
}
circulating_swiss_franc_c_1 = {
    set_variable = {
        name = circulating_swiss_franc_c_var_2
        value = 0
    }
    if = {
        limit = {
            swiss_franc_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_swiss_franc_c_var_2
            add = swiss_franc_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_swiss_franc_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_swiss_franc_c_var_1
            add = var:circulating_swiss_franc_c_var_2
        }
    }
    stockpiling_swiss_franc_c_state_1 = yes
}
stockpiling_swiss_franc_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_swiss_franc_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_swiss_franc_state_1
                                value = root.var:stockpiling_swiss_franc_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_swiss_franc_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_swiss_franc_state_1
                                value = root.var:stockpiling_swiss_franc_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_swiss_franc_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_swiss_franc_state_1
                                value = root.var:stockpiling_swiss_franc_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#belgian_franc
stockpiling_belgian_franc_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_belgian_franc_c_var_1
        value = stockpiling_belgian_franc_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_belgian_franc_c_var_2
        value = 0
    }
    if = {
        limit = {
            belgian_franc_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_belgian_franc_c_var_2
            add = belgian_franc_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_belgian_franc_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_belgian_franc_c_var_1
            add = var:stockpiling_belgian_franc_c_var_2
        }
    }
    circulating_belgian_franc_c_1 = yes
}
circulating_belgian_franc_c_1 = {
    set_variable = {
        name = circulating_belgian_franc_c_var_2
        value = 0
    }
    if = {
        limit = {
            belgian_franc_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_belgian_franc_c_var_2
            add = belgian_franc_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_belgian_franc_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_belgian_franc_c_var_1
            add = var:circulating_belgian_franc_c_var_2
        }
    }
    stockpiling_belgian_franc_c_state_1 = yes
}
stockpiling_belgian_franc_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_belgian_franc_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_belgian_franc_state_1
                                value = root.var:stockpiling_belgian_franc_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_belgian_franc_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_belgian_franc_state_1
                                value = root.var:stockpiling_belgian_franc_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_belgian_franc_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_belgian_franc_state_1
                                value = root.var:stockpiling_belgian_franc_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#florin
stockpiling_florin_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_florin_c_var_1
        value = stockpiling_florin_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_florin_c_var_2
        value = 0
    }
    if = {
        limit = {
            florin_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_florin_c_var_2
            add = florin_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_florin_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_florin_c_var_1
            add = var:stockpiling_florin_c_var_2
        }
    }
    circulating_florin_c_1 = yes
}
circulating_florin_c_1 = {
    set_variable = {
        name = circulating_florin_c_var_2
        value = 0
    }
    if = {
        limit = {
            florin_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_florin_c_var_2
            add = florin_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_florin_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_florin_c_var_1
            add = var:circulating_florin_c_var_2
        }
    }
    stockpiling_florin_c_state_1 = yes
}
stockpiling_florin_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_florin_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_florin_state_1
                                value = root.var:stockpiling_florin_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_florin_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_florin_state_1
                                value = root.var:stockpiling_florin_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_florin_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_florin_state_1
                                value = root.var:stockpiling_florin_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#brazilian_real
stockpiling_brazilian_real_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_brazilian_real_c_var_1
        value = stockpiling_brazilian_real_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_brazilian_real_c_var_2
        value = 0
    }
    if = {
        limit = {
            brazilian_real_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_brazilian_real_c_var_2
            add = brazilian_real_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_brazilian_real_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_brazilian_real_c_var_1
            add = var:stockpiling_brazilian_real_c_var_2
        }
    }
    circulating_brazilian_real_c_1 = yes
}
circulating_brazilian_real_c_1 = {
    set_variable = {
        name = circulating_brazilian_real_c_var_2
        value = 0
    }
    if = {
        limit = {
            brazilian_real_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_brazilian_real_c_var_2
            add = brazilian_real_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_brazilian_real_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_brazilian_real_c_var_1
            add = var:circulating_brazilian_real_c_var_2
        }
    }
    stockpiling_brazilian_real_c_state_1 = yes
}
stockpiling_brazilian_real_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_brazilian_real_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_brazilian_real_state_1
                                value = root.var:stockpiling_brazilian_real_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_brazilian_real_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_brazilian_real_state_1
                                value = root.var:stockpiling_brazilian_real_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_brazilian_real_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_brazilian_real_state_1
                                value = root.var:stockpiling_brazilian_real_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#dinar
stockpiling_dinar_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_dinar_c_var_1
        value = stockpiling_dinar_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_dinar_c_var_2
        value = 0
    }
    if = {
        limit = {
            dinar_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_dinar_c_var_2
            add = dinar_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_dinar_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_dinar_c_var_1
            add = var:stockpiling_dinar_c_var_2
        }
    }
    circulating_dinar_c_1 = yes
}
circulating_dinar_c_1 = {
    set_variable = {
        name = circulating_dinar_c_var_2
        value = 0
    }
    if = {
        limit = {
            dinar_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_dinar_c_var_2
            add = dinar_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_dinar_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_dinar_c_var_1
            add = var:circulating_dinar_c_var_2
        }
    }
    stockpiling_dinar_c_state_1 = yes
}
stockpiling_dinar_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_dinar_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_dinar_state_1
                                value = root.var:stockpiling_dinar_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_dinar_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_dinar_state_1
                                value = root.var:stockpiling_dinar_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_dinar_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_dinar_state_1
                                value = root.var:stockpiling_dinar_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#krone
stockpiling_krone_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_krone_c_var_1
        value = stockpiling_krone_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_krone_c_var_2
        value = 0
    }
    if = {
        limit = {
            krone_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_krone_c_var_2
            add = krone_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_krone_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_krone_c_var_1
            add = var:stockpiling_krone_c_var_2
        }
    }
    circulating_krone_c_1 = yes
}
circulating_krone_c_1 = {
    set_variable = {
        name = circulating_krone_c_var_2
        value = 0
    }
    if = {
        limit = {
            krone_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_krone_c_var_2
            add = krone_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_krone_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_krone_c_var_1
            add = var:circulating_krone_c_var_2
        }
    }
    stockpiling_krone_c_state_1 = yes
}
stockpiling_krone_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_krone_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_krone_state_1
                                value = root.var:stockpiling_krone_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_krone_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_krone_state_1
                                value = root.var:stockpiling_krone_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_krone_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_krone_state_1
                                value = root.var:stockpiling_krone_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#leu
stockpiling_leu_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_leu_c_var_1
        value = stockpiling_leu_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_leu_c_var_2
        value = 0
    }
    if = {
        limit = {
            leu_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_leu_c_var_2
            add = leu_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_leu_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_leu_c_var_1
            add = var:stockpiling_leu_c_var_2
        }
    }
    circulating_leu_c_1 = yes
}
circulating_leu_c_1 = {
    set_variable = {
        name = circulating_leu_c_var_2
        value = 0
    }
    if = {
        limit = {
            leu_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_leu_c_var_2
            add = leu_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_leu_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_leu_c_var_1
            add = var:circulating_leu_c_var_2
        }
    }
    stockpiling_leu_c_state_1 = yes
}
stockpiling_leu_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_leu_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_leu_state_1
                                value = root.var:stockpiling_leu_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_leu_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_leu_state_1
                                value = root.var:stockpiling_leu_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_leu_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_leu_state_1
                                value = root.var:stockpiling_leu_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#drachma
stockpiling_drachma_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_drachma_c_var_1
        value = stockpiling_drachma_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_drachma_c_var_2
        value = 0
    }
    if = {
        limit = {
            drachma_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_drachma_c_var_2
            add = drachma_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_drachma_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_drachma_c_var_1
            add = var:stockpiling_drachma_c_var_2
        }
    }
    circulating_drachma_c_1 = yes
}
circulating_drachma_c_1 = {
    set_variable = {
        name = circulating_drachma_c_var_2
        value = 0
    }
    if = {
        limit = {
            drachma_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_drachma_c_var_2
            add = drachma_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_drachma_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_drachma_c_var_1
            add = var:circulating_drachma_c_var_2
        }
    }
    stockpiling_drachma_c_state_1 = yes
}
stockpiling_drachma_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_drachma_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_drachma_state_1
                                value = root.var:stockpiling_drachma_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_drachma_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_drachma_state_1
                                value = root.var:stockpiling_drachma_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_drachma_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_drachma_state_1
                                value = root.var:stockpiling_drachma_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#bath
stockpiling_bath_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_bath_c_var_1
        value = stockpiling_bath_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_bath_c_var_2
        value = 0
    }
    if = {
        limit = {
            bath_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_bath_c_var_2
            add = bath_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_bath_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_bath_c_var_1
            add = var:stockpiling_bath_c_var_2
        }
    }
    circulating_bath_c_1 = yes
}
circulating_bath_c_1 = {
    set_variable = {
        name = circulating_bath_c_var_2
        value = 0
    }
    if = {
        limit = {
            bath_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_bath_c_var_2
            add = bath_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_bath_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_bath_c_var_1
            add = var:circulating_bath_c_var_2
        }
    }
    stockpiling_bath_c_state_1 = yes
}
stockpiling_bath_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_bath_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_bath_state_1
                                value = root.var:stockpiling_bath_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_bath_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_bath_state_1
                                value = root.var:stockpiling_bath_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_bath_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_bath_state_1
                                value = root.var:stockpiling_bath_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}
#qiran
stockpiling_qiran_c_1 = {
    #######################################################################
    #cela est pour récupérer la valeur de l'etat
    set_variable = {
        name = stockpiling_qiran_c_var_1
        value = stockpiling_qiran_state
    }
    #######################################################################

    set_variable = {
        name = stockpiling_qiran_c_var_2
        value = 0
    }
    if = {
        limit = {
            qiran_c_market_goods_delta > 0
        }
        change_variable = {
            name = stockpiling_qiran_c_var_2
            add = qiran_c_market_goods_delta
        }
        change_variable = {
            name = stockpiling_qiran_c_var_2
            multiply = 4
        }
        change_variable = {
            name = stockpiling_qiran_c_var_1
            add = var:stockpiling_qiran_c_var_2
        }
    }
    circulating_qiran_c_1 = yes
}
circulating_qiran_c_1 = {
    set_variable = {
        name = circulating_qiran_c_var_2
        value = 0
    }
    if = {
        limit = {
            qiran_c_market_goods_buy_orders > 0
        }
        change_variable = {
            name = circulating_qiran_c_var_2
            add = qiran_c_market_goods_buy_orders
        }
        change_variable = {
            name = circulating_qiran_c_var_2
            multiply = 4
        }
        change_variable = {
            name = circulating_qiran_c_var_1
            add = var:circulating_qiran_c_var_2
        }
    }
    stockpiling_qiran_c_state_1 = yes
}
stockpiling_qiran_c_state_1 = {
    if = {
        if = {
            limit = {
                AND = {
                    has_law = law_type:law_qiran_currency
                    money_supply < money_value_target
                    any_scope_building = {
                        or = {
                            has_active_production_method = pm_no_monetary_policy
                            has_active_production_method = pm_revaluation_25
                            has_active_production_method = pm_revaluation_50
                            has_active_production_method = pm_revaluation_75
                            has_active_production_method = pm_revaluation_100
                        }
                    }
                    not  = {
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                        }
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_qiran_state_1
                                value = root.var:stockpiling_qiran_c_var_1
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_law = law_type:law_qiran_currency
                any_scope_building = {
                    or = {
                        has_active_production_method = pm_devaluation_25
                        has_active_production_method = pm_devaluation_50
                        has_active_production_method = pm_devaluation_75
                        has_active_production_method = pm_devaluation_100
                    }
                }
                not  = {
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_qiran_state_1
                                value = root.var:stockpiling_qiran_c_var_1 
                            }
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                not  = {
                    has_law = law_type:law_qiran_currency
                    or = {
                        is_subject = yes
                        is_subject_type = subject_type_customs_union
                    }
                }
            }
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    save_scope_as = central_bank_site
                    scope:central_bank_site = {
                        if = {
                            set_variable = {
                                name = stockpiling_qiran_state_1
                                value = root.var:stockpiling_qiran_c_var_1
                            }
                        }
                    }
                }
            }
        }
    }
}

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

#  ██████╗███████╗███╗   ██╗████████╗██████╗  █████╗ ██╗         ██████╗  █████╗ ███╗   ██╗██╗  ██╗     ██████╗  ██████╗ ██╗     ██████╗ 
# ██╔════╝██╔════╝████╗  ██║╚══██╔══╝██╔══██╗██╔══██╗██║         ██╔══██╗██╔══██╗████╗  ██║██║ ██╔╝    ██╔════╝ ██╔═══██╗██║     ██╔══██╗
# ██║     █████╗  ██╔██╗ ██║   ██║   ██████╔╝███████║██║         ██████╔╝███████║██╔██╗ ██║█████╔╝     ██║  ███╗██║   ██║██║     ██║  ██║
# ██║     ██╔══╝  ██║╚██╗██║   ██║   ██╔══██╗██╔══██║██║         ██╔══██╗██╔══██║██║╚██╗██║██╔═██╗     ██║   ██║██║   ██║██║     ██║  ██║
# ╚██████╗███████╗██║ ╚████║   ██║   ██║  ██║██║  ██║███████╗    ██████╔╝██║  ██║██║ ╚████║██║  ██╗    ╚██████╔╝╚██████╔╝███████╗██████╔╝
#  ╚═════╝╚══════╝╚═╝  ╚═══╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝    ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═══╝╚═╝  ╚═╝     ╚═════╝  ╚═════╝ ╚══════╝╚═════╝ 
#                                                                                                                                        
# ██████╗ ███████╗███████╗███████╗██████╗ ██╗   ██╗███████╗███████╗                                                                      
# ██╔══██╗██╔════╝██╔════╝██╔════╝██╔══██╗██║   ██║██╔════╝██╔════╝                                                                      
# ██████╔╝█████╗  ███████╗█████╗  ██████╔╝██║   ██║█████╗  ███████╗                                                                      
# ██╔══██╗██╔══╝  ╚════██║██╔══╝  ██╔══██╗╚██╗ ██╔╝██╔══╝  ╚════██║                                                                      
# ██║  ██║███████╗███████║███████╗██║  ██║ ╚████╔╝ ███████╗███████║                                                                      
# ╚═╝  ╚═╝╚══════╝╚══════╝╚══════╝╚═╝  ╚═╝  ╚═══╝  ╚══════╝╚══════╝                                                                      

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

country_gold_reserve_unlimited = {
    if = {
        limit = {
            has_modifier = country_gold_reserve_unlimited
        }
        remove_modifier = country_gold_reserve_unlimited
    }
    add_modifier = {
        name = country_gold_reserve_unlimited
    }
}

stockpiling_central_bank_gold_reserves_1 = {
    set_variable = {
        name = stockpiling_central_bank_gold_reserves_var_2
        value = 0
    }
    if = {
        limit = {
            central_bank_gold_reserves_market_goods_sell_orders > 0
        }
        change_variable = {
            name = stockpiling_central_bank_gold_reserves_var_2
            add = central_bank_gold_reserves_market_goods_sell_orders
        }
        change_variable = {
            name = stockpiling_central_bank_gold_reserves_var_2
            multiply = 1000
        }
        change_variable = {
            name = stockpiling_central_bank_gold_reserves_var_2
            multiply = 4
        }
    }
}
stockpiling_central_bank_gold_reserves_state = {
    every_scope_state = {
        if = {
            limit = {
                has_modifier = bank_central_historic_place
				is_capital = yes
                #is_homeland_of_country_cultures = ROOT
            }
            save_scope_as = central_bank_site
            scope:central_bank_site = {
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = root.var:stockpiling_central_bank_gold_reserves_var_2
                }
            }
        }
    }
}


gold_balance = {
	if = {
		change_variable = {
			name = gold_balance
			add = delta_value
		}
	}
}

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

# ██╗ █████╗     ███╗   ███╗ ██████╗ ███╗   ██╗███████╗██╗   ██╗    ██╗   ██╗ █████╗ ██╗     ██╗   ██╗███████╗    ████████╗ █████╗ ██████╗  ██████╗ ███████╗████████╗
# ██║██╔══██╗    ████╗ ████║██╔═══██╗████╗  ██║██╔════╝╚██╗ ██╔╝    ██║   ██║██╔══██╗██║     ██║   ██║██╔════╝    ╚══██╔══╝██╔══██╗██╔══██╗██╔════╝ ██╔════╝╚══██╔══╝
# ██║███████║    ██╔████╔██║██║   ██║██╔██╗ ██║█████╗   ╚████╔╝     ██║   ██║███████║██║     ██║   ██║█████╗         ██║   ███████║██████╔╝██║  ███╗█████╗     ██║
# ██║██╔══██║    ██║╚██╔╝██║██║   ██║██║╚██╗██║██╔══╝    ╚██╔╝      ╚██╗ ██╔╝██╔══██║██║     ██║   ██║██╔══╝         ██║   ██╔══██║██╔══██╗██║   ██║██╔══╝     ██║
# ██║██║  ██║    ██║ ╚═╝ ██║╚██████╔╝██║ ╚████║███████╗   ██║        ╚████╔╝ ██║  ██║███████╗╚██████╔╝███████╗       ██║   ██║  ██║██║  ██║╚██████╔╝███████╗   ██║
# ╚═╝╚═╝  ╚═╝    ╚═╝     ╚═╝ ╚═════╝ ╚═╝  ╚═══╝╚══════╝   ╚═╝         ╚═══╝  ╚═╝  ╚═╝╚══════╝ ╚═════╝ ╚══════╝       ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚══════╝   ╚═╝

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################


insufficient_currency_production_player = {
    if = {
        limit = {
            money_supply_montly < 10
        }
        change_variable  = {
            name = half_year_insufficient_currency_production
            add = 1
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
            add_modifier = {
                name = insufficient_currency_production
                multiplier = var:half_year_insufficient_currency_production
            }
        }
    }
    if = {
        limit = {
            money_supply_montly > 10
        }
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
}

insufficient_currency_production = {
    if = {
        limit = {
            money_supply_montly < 10
        }
        change_variable  = {
            name = half_year_insufficient_currency_production
            add = 1
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
            add_modifier = {
                name = insufficient_currency_production
                multiplier = var:half_year_insufficient_currency_production
            }
        }
    }

    ###############
    if = {
        limit = {
           var:half_year_insufficient_currency_production >= 2
           var:money_value_target_1 >  0.5
           var:money_value_target_1 <= 1
            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
			name = money_value_target_1
			value = 0.5
		}
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    if = {
        limit = {
            var:half_year_insufficient_currency_production >= 2
            var:money_value_target_1 >  1
            var:money_value_target_1 <=  2.5
            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
			name = money_value_target_1
			value = 1
		}
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    if = {
        limit = {
            var:half_year_insufficient_currency_production >= 2
            var:money_value_target_1 > 2.5
            var:money_value_target_1 <=  5
            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
			name = money_value_target_1
			value = 2.5
		}
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    if = {
        limit = {
            var:half_year_insufficient_currency_production >= 2
            var:money_value_target_1 > 5
            var:money_value_target_1 <= 10
            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
			name = money_value_target_1
			value = 5
		}
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    if = {
        limit = {
            var:half_year_insufficient_currency_production >= 2
            var:money_value_target_1 > 10
            var:money_value_target_1 <= 15
            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
			name = money_value_target_1
			value = 10
		}
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    if = {
        limit = {
            var:half_year_insufficient_currency_production >= 2
            var:money_value_target_1 > 15
            var:money_value_target_1 <= 20

            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
			name = money_value_target_1
			value = 15
		}
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    if = {
        limit = {
            var:half_year_insufficient_currency_production >= 2
            var:money_value_target_1 > 20
            var:money_value_target_1 <= 25

            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
            name = money_value_target_1
            value = 20
        }
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    if = {
        limit = {
            var:half_year_insufficient_currency_production >= 2
            var:money_value_target_1 > 25
            var:money_value_target_1 <= 30
    
            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
            name = money_value_target_1
            value = 30
        }
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    if = {
        limit = {
            var:half_year_insufficient_currency_production >= 2
            var:money_value_target_1 > 25
            var:money_value_target_1 <= 30
    
            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
            name = money_value_target_1
            value = 30
        }
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    if = {
        limit = {
            var:half_year_insufficient_currency_production >= 2
            var:money_value_target_1 > 30
            var:money_value_target_1 <= 35
    
            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
            name = money_value_target_1
            value = 30
        }
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    if = {
        limit = {
            var:half_year_insufficient_currency_production >= 2
            var:money_value_target_1 > 35
            var:money_value_target_1 <= 40

            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
            name = money_value_target_1
            value = 40
        }
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    if = {
        limit = {
            var:half_year_insufficient_currency_production >= 2
            var:money_value_target_1 > 40
            var:money_value_target_1 <= 45

            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
            name = money_value_target_1
            value = 45
        }
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    if = {
        limit = {
            var:half_year_insufficient_currency_production >= 2
            var:money_value_target_1 > 45
            var:money_value_target_1 <= 50

            not = {
                or = {
                    has_law = law_type:law_revaluation_25
                    has_law = law_type:law_revaluation_50
                    has_law = law_type:law_revaluation_75
                    has_law = law_type:law_revaluation_100
                }
            }
        }
        set_variable = {
            name = money_value_target_1
            value = 50
        }
        set_variable  = {
            name = half_year_insufficient_currency_production
            value = 0
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
}

sufficient_currency_production = {
    if = {
        limit = {
            money_supply_montly > 10
        }
        change_variable  = {
            name = half_year_sufficient_currency_production
            add = 1
        }
        random_scope_building = {
            limit = {
                is_building_group = bg_bank
            }
            remove_modifier = insufficient_currency_production
        }
    }
    
    ###############
    if = {
        limit = {
            var:half_year_sufficient_currency_production >= 2
            var:money_value_target_1 >=  0.5
            var:money_value_target_1 < 1
            not = {
                or = {
                    has_law = law_type:law_devaluation_25
                    has_law = law_type:law_devaluation_50
                    has_law = law_type:law_devaluation_75
                    has_law = law_type:law_devaluation_100
                }
            }
        }
        set_variable = {
			name = money_value_target_1
			value = 1
		}
        set_variable  = {
            name = half_year_sufficient_currency_production
            value = 0
        }
    }
    if = {
        limit = {
            var:half_year_sufficient_currency_production >= 2
            var:money_value_target_1 >=  1
            var:money_value_target_1 < 2.5
            not = {
                or = {
                    has_law = law_type:law_devaluation_25
                    has_law = law_type:law_devaluation_50
                    has_law = law_type:law_devaluation_75
                    has_law = law_type:law_devaluation_100
                }
            }
        }
        set_variable = {
			name = money_value_target_1
			value = 2.5
		}
        set_variable  = {
            name = half_year_sufficient_currency_production
            value = 0
        }
    }
    if = {
        limit = {
            var:half_year_sufficient_currency_production >= 2
            var:money_value_target_1 >=  2.5
            var:money_value_target_1 < 5
            not = {
                or = {
                    has_law = law_type:law_devaluation_25
                    has_law = law_type:law_devaluation_50
                    has_law = law_type:law_devaluation_75
                    has_law = law_type:law_devaluation_100
                }
            }
        }
        set_variable = {
			name = money_value_target_1
			value = 5
		}
        set_variable  = {
            name = half_year_sufficient_currency_production
            value = 0
        }
    }
    if = {
        limit = {
            var:half_year_sufficient_currency_production >= 2
            var:money_value_target_1 >=  5
            var:money_value_target_1 < 10
            not = {
                or = {
                    has_law = law_type:law_devaluation_25
                    has_law = law_type:law_devaluation_50
                    has_law = law_type:law_devaluation_75
                    has_law = law_type:law_devaluation_100
                }
            }
        }
        set_variable = {
			name = money_value_target_1
			value = 10
		}
        set_variable  = {
            name = half_year_sufficient_currency_production
            value = 0
        }
    }
    if = {
        limit = {
            var:half_year_sufficient_currency_production >= 2
            var:money_value_target_1 >=  10
            var:money_value_target_1 < 15
            not = {
                or = {
                    has_law = law_type:law_devaluation_25
                    has_law = law_type:law_devaluation_50
                    has_law = law_type:law_devaluation_75
                    has_law = law_type:law_devaluation_100
                }
            }
        }
        set_variable = {
			name = money_value_target_1
			value = 15
		}
        set_variable  = {
            name = half_year_sufficient_currency_production
            value = 0
        }
    }
    if = {
        limit = {
            var:half_year_sufficient_currency_production >= 2
            var:money_value_target_1 >=  15
            var:money_value_target_1 < 20
            not = {
                or = {
                    has_law = law_type:law_devaluation_25
                    has_law = law_type:law_devaluation_50
                    has_law = law_type:law_devaluation_75
                    has_law = law_type:law_devaluation_100
                }
            }
        }
        set_variable = {
			name = money_value_target_1
			value = 20
		}
        set_variable  = {
            name = half_year_sufficient_currency_production
            value = 0
        }
    }
}

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################


############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

stockpiling_capital_state_transfert = {
    every_scope_state = {
        if = {
            limit = {
                has_modifier = bank_central_historic_place
                is_capital = yes
            }
            save_scope_as = central_bank_site_capital
        }

        if = {
            limit = {
                has_modifier = bank_central_historic_place
                is_capital = no
            }
            save_scope_as = central_bank_site_no_capital

            #actual Capital
            scope:central_bank_site_capital = {

                #gold
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:central_bank_gold_reserves_state_1
                        }
                    }
                }

                #Financial product
                change_variable = {
                    name = stockpiling_bond_var_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_bond_var_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_company_stock_var_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_company_stock_var_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_mining_stock_var_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_mining_stock_var_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_railroad_stock_var_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_railroad_stock_var_state_1
                        }
                    }
                }

                #Goods
                change_variable = {
                    name = stockpiling_grain_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_grain_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_wood_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_wood_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_coal_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_coal_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_iron_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_iron_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_sulfur_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_sulfur_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_lead_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_lead_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_oil_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_oil_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_dye_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_dye_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_silk_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_silk_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_rubber_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_rubber_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_ammunition_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_ammunition_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_small_arms_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_small_arms_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_artillery_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_artillery_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_tanks_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_tanks_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_aeroplanes_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_aeroplanes_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_manowars_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_manowars_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_ironclads_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_ironclads_state_1
                        }
                    }
                }

                #Currency
                change_variable = {
                    name = stockpiling_money_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_money_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_franc_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_franc_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_dollar_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_dollar_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_mark_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_mark_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_sterling_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_sterling_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_real_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_real_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_gulden_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_gulden_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_yuan_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_yuan_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_rupee_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_rupee_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_yen_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_yen_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_peseta_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_peseta_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_ottoman_lira_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_ottoman_lira_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_lira_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_lira_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_peso_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_peso_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_rouble_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_rouble_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_swiss_franc_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_swiss_franc_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_belgian_franc_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_belgian_franc_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_florin_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_florin_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_brazilian_real_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_brazilian_real_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_dinar_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_dinar_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_krone_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_krone_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_leu_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_leu_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_drachma_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_drachma_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_bath_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_bath_state_1
                        }
                    }
                }
                change_variable = {
                    name = stockpiling_qiran_state_1
                    add = {
                        scope:central_bank_site_no_capital = {
                            add = var:stockpiling_qiran_state_1
                        }
                    }
                }
            }

            #actual Capital
            scope:central_bank_site_no_capital = {
                #gold
                set_variable = {
                    name = central_bank_gold_reserves_state_1
                    value = 0
                }

                #financial product
                set_variable = {
                    name = stockpiling_bond_var_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_company_stock_var_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_mining_stock_var_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_railroad_stock_var_state_1
                    value = 0
                }

                #goods
                set_variable = {
                    name = stockpiling_grain_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_wood_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_coal_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_iron_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_sulfur_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_lead_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_oil_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_dye_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_silk_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_rubber_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_ammunition_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_small_arms_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_artillery_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_tanks_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_aeroplanes_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_manowars_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_ironclads_state_1
                    value = 0
                }

                #Currency
                set_variable = {
                    name = stockpiling_money_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_franc_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_dollar_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_mark_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_sterling_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_real_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_gulden_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_yuan_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_rupee_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_yen_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_peseta_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_ottoman_lira_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_lira_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_peso_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_rouble_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_swiss_franc_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_belgian_franc_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_florin_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_brazilian_real_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_dinar_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_krone_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_leu_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_drachma_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_bath_state_1
                    value = 0
                }
                set_variable = {
                    name = stockpiling_qiran_state_1
                    value = 0
                }

                remove_modifier = bank_central_place
                remove_modifier = bank_central_historic_place

                remove_modifier = financial_center_place
                remove_modifier = financial_center_historic_place

                remove_modifier = national_stockpile_place
                remove_modifier = national_stockpile_historic_place

                add_modifier = {
                    name = bank_central_place
                    months = 1
                }
                add_modifier = {
                    name = bank_central_historic_place
                    months = 1
                }

                add_modifier = {
                    name = financial_center_place
                    months = 1
                }
                add_modifier = {
                    name = financial_center_historic_place
                    months = 1
                }

                add_modifier = {
                    name = national_stockpile_place
                    months = 1
                }
                add_modifier = {
                    name = national_stockpile_historic_place
                    months = 1
                }
            }
        }
    }
}

###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

#  █████╗ ██╗        ██████╗ ██╗   ██╗██╗   ██╗     ███████╗███████╗██╗     ██╗             ██████╗ ███████╗███████╗███████╗██████╗ ███████╗███╗   ██╗ ██████╗███████╗         ██████╗██╗   ██╗██████╗ ██████╗ ███████╗███╗   ██╗ ██████╗██╗   ██╗
# ██╔══██╗██║        ██╔══██╗██║   ██║╚██╗ ██╔╝     ██╔════╝██╔════╝██║     ██║             ██╔══██╗██╔════╝██╔════╝██╔════╝██╔══██╗██╔════╝████╗  ██║██╔════╝██╔════╝        ██╔════╝██║   ██║██╔══██╗██╔══██╗██╔════╝████╗  ██║██╔════╝╚██╗ ██╔╝
# ███████║██║        ██████╔╝██║   ██║ ╚████╔╝      ███████╗█████╗  ██║     ██║             ██████╔╝█████╗  █████╗  █████╗  ██████╔╝█████╗  ██╔██╗ ██║██║     █████╗          ██║     ██║   ██║██████╔╝██████╔╝█████╗  ██╔██╗ ██║██║      ╚████╔╝
# ██╔══██║██║        ██╔══██╗██║   ██║  ╚██╔╝       ╚════██║██╔══╝  ██║     ██║             ██╔══██╗██╔══╝  ██╔══╝  ██╔══╝  ██╔══██╗██╔══╝  ██║╚██╗██║██║     ██╔══╝          ██║     ██║   ██║██╔══██╗██╔══██╗██╔══╝  ██║╚██╗██║██║       ╚██╔╝
# ██║  ██║██║███████╗██████╔╝╚██████╔╝   ██║███████╗███████║███████╗███████╗███████╗███████╗██║  ██║███████╗██║     ███████╗██║  ██║███████╗██║ ╚████║╚██████╗███████╗███████╗╚██████╗╚██████╔╝██║  ██║██║  ██║███████╗██║ ╚████║╚██████╗   ██║
# ╚═╝  ╚═╝╚═╝╚══════╝╚═════╝  ╚═════╝    ╚═╝╚══════╝╚══════╝╚══════╝╚══════╝╚══════╝╚══════╝╚═╝  ╚═╝╚══════╝╚═╝     ╚══════╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═══╝ ╚═════╝╚══════╝╚══════╝ ╚═════╝ ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═══╝ ╚═════╝   ╚═╝

###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
#money
ai_buy_global_monetary_reference_1_money = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_money_currency
        }
        save_scope_as = global_monetary_reference_money_to_gold
    }

    root = {
        save_scope_as = gold_to_money_seller
    }

    scope:gold_to_money_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_money_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_money_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_money_state_1
                    add = owner.stockpiling_money_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_money_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_money_state_1_buy_in_gold
                        value =  scope:gold_to_money_seller.stockpiling_money_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_money_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_money_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_money_state_1
                        subtract = scope:gold_to_money_seller.stockpiling_money_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_money_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_money_state_1_buy_in_gold_for_toast
                value = scope:gold_to_money_seller.stockpiling_money_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_money_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_money_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_money_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_money_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_money = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_money_currency
        }
        save_scope_as = global_monetary_reference_money_to_gold
    }

    root = {
        save_scope_as = gold_to_money_seller
    }

    scope:gold_to_money_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_money_seller_capital_state

                set_variable = {
                    name = stockpiling_money_state_1_selle_in_gold
                    value = owner.stockpiling_money_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_money_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_money_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_money_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_money_state_1
                    subtract = owner.stockpiling_money_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_money_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_money_seller_capital_state.var:stockpiling_money_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_money_state_1
                        add = scope:gold_to_money_seller.stockpiling_money_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_money_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_money_seller.stockpiling_money_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_money_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_money_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_money_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_money_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#franc
ai_buy_global_monetary_reference_1_franc = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_franc_currency
        }
        save_scope_as = global_monetary_reference_franc_to_gold
    }

    root = {
        save_scope_as = gold_to_franc_seller
    }

    scope:gold_to_franc_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_franc_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_franc_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_franc_state_1
                    add = owner.stockpiling_franc_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_franc_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_franc_state_1_buy_in_gold
                        value =  scope:gold_to_franc_seller.stockpiling_franc_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_franc_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_franc_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_franc_state_1
                        subtract = scope:gold_to_franc_seller.stockpiling_franc_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_franc_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_franc_state_1_buy_in_gold_for_toast
                value = scope:gold_to_franc_seller.stockpiling_franc_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_franc_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_franc_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_franc_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_franc_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_franc = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_franc_currency
        }
        save_scope_as = global_monetary_reference_franc_to_gold
    }

    root = {
        save_scope_as = gold_to_franc_seller
    }

    scope:gold_to_franc_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_franc_seller_capital_state

                set_variable = {
                    name = stockpiling_franc_state_1_selle_in_gold
                    value = owner.stockpiling_franc_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_franc_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_franc_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_franc_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_franc_state_1
                    subtract = owner.stockpiling_franc_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_franc_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_franc_seller_capital_state.var:stockpiling_franc_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_franc_state_1
                        add = scope:gold_to_franc_seller.stockpiling_franc_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_franc_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_franc_seller.stockpiling_franc_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_franc_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_franc_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_franc_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_franc_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#dollar
ai_buy_global_monetary_reference_1_dollar = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_dollar_currency
        }
        save_scope_as = global_monetary_reference_dollar_to_gold
    }

    root = {
        save_scope_as = gold_to_dollar_seller
    }

    scope:gold_to_dollar_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_dollar_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_dollar_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_dollar_state_1
                    add = owner.stockpiling_dollar_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_dollar_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_dollar_state_1_buy_in_gold
                        value =  scope:gold_to_dollar_seller.stockpiling_dollar_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_dollar_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_dollar_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_dollar_state_1
                        subtract = scope:gold_to_dollar_seller.stockpiling_dollar_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_dollar_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_dollar_state_1_buy_in_gold_for_toast
                value = scope:gold_to_dollar_seller.stockpiling_dollar_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_dollar_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_dollar_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_dollar_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_dollar_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_dollar = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_dollar_currency
        }
        save_scope_as = global_monetary_reference_dollar_to_gold
    }

    root = {
        save_scope_as = gold_to_dollar_seller
    }

    scope:gold_to_dollar_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_dollar_seller_capital_state

                set_variable = {
                    name = stockpiling_dollar_state_1_selle_in_gold
                    value = owner.stockpiling_dollar_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_dollar_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_dollar_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_dollar_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_dollar_state_1
                    subtract = owner.stockpiling_dollar_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_dollar_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_dollar_seller_capital_state.var:stockpiling_dollar_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_dollar_state_1
                        add = scope:gold_to_dollar_seller.stockpiling_dollar_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_dollar_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_dollar_seller.stockpiling_dollar_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_dollar_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_dollar_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_dollar_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_dollar_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#mark
ai_buy_global_monetary_reference_1_mark = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_mark_currency
        }
        save_scope_as = global_monetary_reference_mark_to_gold
    }

    root = {
        save_scope_as = gold_to_mark_seller
    }

    scope:gold_to_mark_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_mark_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_mark_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_mark_state_1
                    add = owner.stockpiling_mark_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_mark_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_mark_state_1_buy_in_gold
                        value =  scope:gold_to_mark_seller.stockpiling_mark_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_mark_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_mark_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_mark_state_1
                        subtract = scope:gold_to_mark_seller.stockpiling_mark_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_mark_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_mark_state_1_buy_in_gold_for_toast
                value = scope:gold_to_mark_seller.stockpiling_mark_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_mark_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_mark_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_mark_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_mark_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_mark = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_mark_currency
        }
        save_scope_as = global_monetary_reference_mark_to_gold
    }

    root = {
        save_scope_as = gold_to_mark_seller
    }

    scope:gold_to_mark_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_mark_seller_capital_state

                set_variable = {
                    name = stockpiling_mark_state_1_selle_in_gold
                    value = owner.stockpiling_mark_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_mark_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_mark_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_mark_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_mark_state_1
                    subtract = owner.stockpiling_mark_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_mark_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_mark_seller_capital_state.var:stockpiling_mark_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_mark_state_1
                        add = scope:gold_to_mark_seller.stockpiling_mark_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_mark_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_mark_seller.stockpiling_mark_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_mark_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_mark_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_mark_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_mark_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#sterling
ai_buy_global_monetary_reference_1_sterling = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_sterling_currency
        }
        save_scope_as = global_monetary_reference_sterling_to_gold
    }

    root = {
        save_scope_as = buyer
    }

    scope:buyer = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = buyer_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_sterling_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_sterling_state_1
                    add = owner.stockpiling_sterling_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_sterling_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_sterling_state_1_buy_in_gold
                        value =  scope:buyer.stockpiling_sterling_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_sterling_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_sterling_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_sterling_state_1
                        subtract = scope:buyer.stockpiling_sterling_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_sterling_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_sterling_state_1_buy_in_gold_for_toast
                value = scope:buyer.stockpiling_sterling_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_sterling_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_sterling_buy_message
                #scope:is_player_for_notification = {
                #    post_notification = global_monetary_reference_are_sterling_buy_message
                #}
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_sterling_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_sterling = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_sterling_currency
        }
        save_scope_as = global_monetary_reference_sterling_to_gold
    }

    root = {
        save_scope_as = buyer
    }

    scope:buyer = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = buyer_capital_state

                set_variable = {
                    name = stockpiling_sterling_state_1_selle_in_gold
                    value = owner.stockpiling_sterling_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_sterling_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_sterling_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_sterling_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_sterling_state_1
                    subtract = owner.stockpiling_sterling_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_sterling_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:buyer_capital_state.var:stockpiling_sterling_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_sterling_state_1
                        add = scope:buyer.stockpiling_sterling_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_sterling_state_1_sell_in_gold_for_toast
                value =  scope:buyer.stockpiling_sterling_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_sterling_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_sterling_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_sterling_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_sterling_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#real
ai_buy_global_monetary_reference_1_real = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_real_currency
        }
        save_scope_as = global_monetary_reference_real_to_gold
    }

    root = {
        save_scope_as = gold_to_real_seller
    }

    scope:gold_to_real_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_real_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_real_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_real_state_1
                    add = owner.stockpiling_real_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_real_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_real_state_1_buy_in_gold
                        value =  scope:gold_to_real_seller.stockpiling_real_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_real_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_real_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_real_state_1
                        subtract = scope:gold_to_real_seller.stockpiling_real_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_real_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_real_state_1_buy_in_gold_for_toast
                value = scope:gold_to_real_seller.stockpiling_real_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_real_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_real_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_real_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_real_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_real = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_real_currency
        }
        save_scope_as = global_monetary_reference_real_to_gold
    }

    root = {
        save_scope_as = gold_to_real_seller
    }

    scope:gold_to_real_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_real_seller_capital_state

                set_variable = {
                    name = stockpiling_real_state_1_selle_in_gold
                    value = owner.stockpiling_real_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_real_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_real_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_real_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_real_state_1
                    subtract = owner.stockpiling_real_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_real_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_real_seller_capital_state.var:stockpiling_real_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_real_state_1
                        add = scope:gold_to_real_seller.stockpiling_real_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_real_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_real_seller.stockpiling_real_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_real_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_real_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_real_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_real_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#gulden
ai_buy_global_monetary_reference_1_gulden = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_gulden_currency
        }
        save_scope_as = global_monetary_reference_gulden_to_gold
    }

    root = {
        save_scope_as = gold_to_gulden_seller
    }

    scope:gold_to_gulden_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_gulden_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_gulden_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_gulden_state_1
                    add = owner.stockpiling_gulden_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_gulden_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_gulden_state_1_buy_in_gold
                        value =  scope:gold_to_gulden_seller.stockpiling_gulden_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_gulden_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_gulden_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_gulden_state_1
                        subtract = scope:gold_to_gulden_seller.stockpiling_gulden_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_gulden_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_gulden_state_1_buy_in_gold_for_toast
                value = scope:gold_to_gulden_seller.stockpiling_gulden_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_gulden_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_gulden_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_gulden_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_gulden_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_gulden = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_gulden_currency
        }
        save_scope_as = global_monetary_reference_gulden_to_gold
    }

    root = {
        save_scope_as = gold_to_gulden_seller
    }

    scope:gold_to_gulden_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_gulden_seller_capital_state

                set_variable = {
                    name = stockpiling_gulden_state_1_selle_in_gold
                    value = owner.stockpiling_gulden_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_gulden_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_gulden_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_gulden_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_gulden_state_1
                    subtract = owner.stockpiling_gulden_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_gulden_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_gulden_seller_capital_state.var:stockpiling_gulden_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_gulden_state_1
                        add = scope:gold_to_gulden_seller.stockpiling_gulden_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_gulden_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_gulden_seller.stockpiling_gulden_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_gulden_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_gulden_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_gulden_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_gulden_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#yuan
ai_buy_global_monetary_reference_1_yuan = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_yuan_currency
        }
        save_scope_as = global_monetary_reference_yuan_to_gold
    }

    root = {
        save_scope_as = gold_to_yuan_seller
    }

    scope:gold_to_yuan_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_yuan_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_yuan_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_yuan_state_1
                    add = owner.stockpiling_yuan_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_yuan_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_yuan_state_1_buy_in_gold
                        value =  scope:gold_to_yuan_seller.stockpiling_yuan_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_yuan_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_yuan_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_yuan_state_1
                        subtract = scope:gold_to_yuan_seller.stockpiling_yuan_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_yuan_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_yuan_state_1_buy_in_gold_for_toast
                value = scope:gold_to_yuan_seller.stockpiling_yuan_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_yuan_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_yuan_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_yuan_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_yuan_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_yuan = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_yuan_currency
        }
        save_scope_as = global_monetary_reference_yuan_to_gold
    }

    root = {
        save_scope_as = gold_to_yuan_seller
    }

    scope:gold_to_yuan_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_yuan_seller_capital_state

                set_variable = {
                    name = stockpiling_yuan_state_1_selle_in_gold
                    value = owner.stockpiling_yuan_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_yuan_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_yuan_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_yuan_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_yuan_state_1
                    subtract = owner.stockpiling_yuan_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_yuan_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_yuan_seller_capital_state.var:stockpiling_yuan_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_yuan_state_1
                        add = scope:gold_to_yuan_seller.stockpiling_yuan_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_yuan_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_yuan_seller.stockpiling_yuan_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_yuan_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_yuan_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_yuan_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_yuan_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#rupee
ai_buy_global_monetary_reference_1_rupee = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_rupee_currency
        }
        save_scope_as = global_monetary_reference_rupee_to_gold
    }

    root = {
        save_scope_as = gold_to_rupee_seller
    }

    scope:gold_to_rupee_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_rupee_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_rupee_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_rupee_state_1
                    add = owner.stockpiling_rupee_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_rupee_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_rupee_state_1_buy_in_gold
                        value =  scope:gold_to_rupee_seller.stockpiling_rupee_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_rupee_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_rupee_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_rupee_state_1
                        subtract = scope:gold_to_rupee_seller.stockpiling_rupee_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_rupee_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_rupee_state_1_buy_in_gold_for_toast
                value = scope:gold_to_rupee_seller.stockpiling_rupee_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_rupee_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_rupee_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_rupee_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_rupee_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_rupee = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_rupee_currency
        }
        save_scope_as = global_monetary_reference_rupee_to_gold
    }

    root = {
        save_scope_as = gold_to_rupee_seller
    }

    scope:gold_to_rupee_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_rupee_seller_capital_state

                set_variable = {
                    name = stockpiling_rupee_state_1_selle_in_gold
                    value = owner.stockpiling_rupee_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_rupee_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_rupee_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_rupee_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_rupee_state_1
                    subtract = owner.stockpiling_rupee_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_rupee_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_rupee_seller_capital_state.var:stockpiling_rupee_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_rupee_state_1
                        add = scope:gold_to_rupee_seller.stockpiling_rupee_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_rupee_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_rupee_seller.stockpiling_rupee_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_rupee_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_rupee_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_rupee_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_rupee_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#yen
ai_buy_global_monetary_reference_1_yen = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_yen_currency
        }
        save_scope_as = global_monetary_reference_yen_to_gold
    }

    root = {
        save_scope_as = gold_to_yen_seller
    }

    scope:gold_to_yen_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_yen_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_yen_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_yen_state_1
                    add = owner.stockpiling_yen_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_yen_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_yen_state_1_buy_in_gold
                        value =  scope:gold_to_yen_seller.stockpiling_yen_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_yen_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_yen_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_yen_state_1
                        subtract = scope:gold_to_yen_seller.stockpiling_yen_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_yen_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_yen_state_1_buy_in_gold_for_toast
                value = scope:gold_to_yen_seller.stockpiling_yen_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_yen_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_yen_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_yen_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_yen_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_yen = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_yen_currency
        }
        save_scope_as = global_monetary_reference_yen_to_gold
    }

    root = {
        save_scope_as = gold_to_yen_seller
    }

    scope:gold_to_yen_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_yen_seller_capital_state

                set_variable = {
                    name = stockpiling_yen_state_1_selle_in_gold
                    value = owner.stockpiling_yen_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_yen_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_yen_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_yen_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_yen_state_1
                    subtract = owner.stockpiling_yen_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_yen_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_yen_seller_capital_state.var:stockpiling_yen_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_yen_state_1
                        add = scope:gold_to_yen_seller.stockpiling_yen_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_yen_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_yen_seller.stockpiling_yen_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_yen_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_yen_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_yen_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_yen_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#peseta
ai_buy_global_monetary_reference_1_peseta = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_peseta_currency
        }
        save_scope_as = global_monetary_reference_peseta_to_gold
    }

    root = {
        save_scope_as = gold_to_peseta_seller
    }

    scope:gold_to_peseta_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_peseta_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_peseta_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_peseta_state_1
                    add = owner.stockpiling_peseta_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_peseta_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_peseta_state_1_buy_in_gold
                        value =  scope:gold_to_peseta_seller.stockpiling_peseta_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_peseta_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_peseta_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_peseta_state_1
                        subtract = scope:gold_to_peseta_seller.stockpiling_peseta_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_peseta_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_peseta_state_1_buy_in_gold_for_toast
                value = scope:gold_to_peseta_seller.stockpiling_peseta_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_peseta_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_peseta_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_peseta_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_peseta_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_peseta = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_peseta_currency
        }
        save_scope_as = global_monetary_reference_peseta_to_gold
    }

    root = {
        save_scope_as = gold_to_peseta_seller
    }

    scope:gold_to_peseta_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_peseta_seller_capital_state

                set_variable = {
                    name = stockpiling_peseta_state_1_selle_in_gold
                    value = owner.stockpiling_peseta_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_peseta_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_peseta_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_peseta_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_peseta_state_1
                    subtract = owner.stockpiling_peseta_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_peseta_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_peseta_seller_capital_state.var:stockpiling_peseta_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_peseta_state_1
                        add = scope:gold_to_peseta_seller.stockpiling_peseta_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_peseta_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_peseta_seller.stockpiling_peseta_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_peseta_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_peseta_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_peseta_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_peseta_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#ottoman_lira
ai_buy_global_monetary_reference_1_ottoman_lira = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_ottoman_lira_currency
        }
        save_scope_as = global_monetary_reference_ottoman_lira_to_gold
    }

    root = {
        save_scope_as = gold_to_ottoman_lira_seller
    }

    scope:gold_to_ottoman_lira_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_ottoman_lira_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_ottoman_lira_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_ottoman_lira_state_1
                    add = owner.stockpiling_ottoman_lira_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_ottoman_lira_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_ottoman_lira_state_1_buy_in_gold
                        value =  scope:gold_to_ottoman_lira_seller.stockpiling_ottoman_lira_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_ottoman_lira_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_ottoman_lira_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_ottoman_lira_state_1
                        subtract = scope:gold_to_ottoman_lira_seller.stockpiling_ottoman_lira_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_ottoman_lira_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_ottoman_lira_state_1_buy_in_gold_for_toast
                value = scope:gold_to_ottoman_lira_seller.stockpiling_ottoman_lira_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_ottoman_lira_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_ottoman_lira_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_ottoman_lira_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_ottoman_lira_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_ottoman_lira = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_ottoman_lira_currency
        }
        save_scope_as = global_monetary_reference_ottoman_lira_to_gold
    }

    root = {
        save_scope_as = gold_to_ottoman_lira_seller
    }

    scope:gold_to_ottoman_lira_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_ottoman_lira_seller_capital_state

                set_variable = {
                    name = stockpiling_ottoman_lira_state_1_selle_in_gold
                    value = owner.stockpiling_ottoman_lira_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_ottoman_lira_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_ottoman_lira_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_ottoman_lira_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_ottoman_lira_state_1
                    subtract = owner.stockpiling_ottoman_lira_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_ottoman_lira_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_ottoman_lira_seller_capital_state.var:stockpiling_ottoman_lira_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_ottoman_lira_state_1
                        add = scope:gold_to_ottoman_lira_seller.stockpiling_ottoman_lira_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_ottoman_lira_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_ottoman_lira_seller.stockpiling_ottoman_lira_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_ottoman_lira_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_ottoman_lira_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_ottoman_lira_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_ottoman_lira_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#lira
ai_buy_global_monetary_reference_1_lira = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_lira_currency
        }
        save_scope_as = global_monetary_reference_lira_to_gold
    }

    root = {
        save_scope_as = gold_to_lira_seller
    }

    scope:gold_to_lira_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_lira_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_lira_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_lira_state_1
                    add = owner.stockpiling_lira_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_lira_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_lira_state_1_buy_in_gold
                        value =  scope:gold_to_lira_seller.stockpiling_lira_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_lira_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_lira_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_lira_state_1
                        subtract = scope:gold_to_lira_seller.stockpiling_lira_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_lira_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_lira_state_1_buy_in_gold_for_toast
                value = scope:gold_to_lira_seller.stockpiling_lira_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_lira_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_lira_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_lira_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_lira_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_lira = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_lira_currency
        }
        save_scope_as = global_monetary_reference_lira_to_gold
    }

    root = {
        save_scope_as = gold_to_lira_seller
    }

    scope:gold_to_lira_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_lira_seller_capital_state

                set_variable = {
                    name = stockpiling_lira_state_1_selle_in_gold
                    value = owner.stockpiling_lira_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_lira_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_lira_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_lira_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_lira_state_1
                    subtract = owner.stockpiling_lira_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_lira_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_lira_seller_capital_state.var:stockpiling_lira_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_lira_state_1
                        add = scope:gold_to_lira_seller.stockpiling_lira_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_lira_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_lira_seller.stockpiling_lira_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_lira_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_lira_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_lira_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_lira_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#peso
ai_buy_global_monetary_reference_1_peso = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_peso_currency
        }
        save_scope_as = global_monetary_reference_peso_to_gold
    }

    root = {
        save_scope_as = gold_to_peso_seller
    }

    scope:gold_to_peso_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_peso_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_peso_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_peso_state_1
                    add = owner.stockpiling_peso_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_peso_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_peso_state_1_buy_in_gold
                        value =  scope:gold_to_peso_seller.stockpiling_peso_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_peso_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_peso_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_peso_state_1
                        subtract = scope:gold_to_peso_seller.stockpiling_peso_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_peso_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_peso_state_1_buy_in_gold_for_toast
                value = scope:gold_to_peso_seller.stockpiling_peso_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_peso_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_peso_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_peso_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_peso_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_peso = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_peso_currency
        }
        save_scope_as = global_monetary_reference_peso_to_gold
    }

    root = {
        save_scope_as = gold_to_peso_seller
    }

    scope:gold_to_peso_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_peso_seller_capital_state

                set_variable = {
                    name = stockpiling_peso_state_1_selle_in_gold
                    value = owner.stockpiling_peso_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_peso_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_peso_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_peso_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_peso_state_1
                    subtract = owner.stockpiling_peso_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_peso_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_peso_seller_capital_state.var:stockpiling_peso_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_peso_state_1
                        add = scope:gold_to_peso_seller.stockpiling_peso_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_peso_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_peso_seller.stockpiling_peso_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_peso_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_peso_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_peso_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_peso_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#rouble
ai_buy_global_monetary_reference_1_rouble = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_rouble_currency
        }
        save_scope_as = global_monetary_reference_rouble_to_gold
    }

    root = {
        save_scope_as = gold_to_rouble_seller
    }

    scope:gold_to_rouble_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_rouble_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_rouble_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_rouble_state_1
                    add = owner.stockpiling_rouble_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_rouble_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_rouble_state_1_buy_in_gold
                        value =  scope:gold_to_rouble_seller.stockpiling_rouble_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_rouble_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_rouble_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_rouble_state_1
                        subtract = scope:gold_to_rouble_seller.stockpiling_rouble_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_rouble_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_rouble_state_1_buy_in_gold_for_toast
                value = scope:gold_to_rouble_seller.stockpiling_rouble_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_rouble_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_rouble_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_rouble_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_rouble_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_rouble = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_rouble_currency
        }
        save_scope_as = global_monetary_reference_rouble_to_gold
    }

    root = {
        save_scope_as = gold_to_rouble_seller
    }

    scope:gold_to_rouble_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_rouble_seller_capital_state

                set_variable = {
                    name = stockpiling_rouble_state_1_selle_in_gold
                    value = owner.stockpiling_rouble_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_rouble_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_rouble_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_rouble_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_rouble_state_1
                    subtract = owner.stockpiling_rouble_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_rouble_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_rouble_seller_capital_state.var:stockpiling_rouble_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_rouble_state_1
                        add = scope:gold_to_rouble_seller.stockpiling_rouble_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_rouble_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_rouble_seller.stockpiling_rouble_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_rouble_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_rouble_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_rouble_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_rouble_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#swiss_franc
ai_buy_global_monetary_reference_1_swiss_franc = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_swiss_franc_currency
        }
        save_scope_as = global_monetary_reference_swiss_franc_to_gold
    }

    root = {
        save_scope_as = gold_to_swiss_franc_seller
    }

    scope:gold_to_swiss_franc_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_swiss_franc_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_swiss_franc_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_swiss_franc_state_1
                    add = owner.stockpiling_swiss_franc_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_swiss_franc_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_swiss_franc_state_1_buy_in_gold
                        value =  scope:gold_to_swiss_franc_seller.stockpiling_swiss_franc_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_swiss_franc_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_swiss_franc_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_swiss_franc_state_1
                        subtract = scope:gold_to_swiss_franc_seller.stockpiling_swiss_franc_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_swiss_franc_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_swiss_franc_state_1_buy_in_gold_for_toast
                value = scope:gold_to_swiss_franc_seller.stockpiling_swiss_franc_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_swiss_franc_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_swiss_franc_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_swiss_franc_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_swiss_franc_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_swiss_franc = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_swiss_franc_currency
        }
        save_scope_as = global_monetary_reference_swiss_franc_to_gold
    }

    root = {
        save_scope_as = gold_to_swiss_franc_seller
    }

    scope:gold_to_swiss_franc_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_swiss_franc_seller_capital_state

                set_variable = {
                    name = stockpiling_swiss_franc_state_1_selle_in_gold
                    value = owner.stockpiling_swiss_franc_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_swiss_franc_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_swiss_franc_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_swiss_franc_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_swiss_franc_state_1
                    subtract = owner.stockpiling_swiss_franc_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_swiss_franc_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_swiss_franc_seller_capital_state.var:stockpiling_swiss_franc_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_swiss_franc_state_1
                        add = scope:gold_to_swiss_franc_seller.stockpiling_swiss_franc_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_swiss_franc_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_swiss_franc_seller.stockpiling_swiss_franc_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_swiss_franc_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_swiss_franc_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_swiss_franc_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_swiss_franc_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#belgian_franc
ai_buy_global_monetary_reference_1_belgian_franc = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_belgian_franc_currency
        }
        save_scope_as = global_monetary_reference_belgian_franc_to_gold
    }

    root = {
        save_scope_as = gold_to_belgian_franc_seller
    }

    scope:gold_to_belgian_franc_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_belgian_franc_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_belgian_franc_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_belgian_franc_state_1
                    add = owner.stockpiling_belgian_franc_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_belgian_franc_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_belgian_franc_state_1_buy_in_gold
                        value =  scope:gold_to_belgian_franc_seller.stockpiling_belgian_franc_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_belgian_franc_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_belgian_franc_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_belgian_franc_state_1
                        subtract = scope:gold_to_belgian_franc_seller.stockpiling_belgian_franc_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_belgian_franc_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_belgian_franc_state_1_buy_in_gold_for_toast
                value = scope:gold_to_belgian_franc_seller.stockpiling_belgian_franc_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_belgian_franc_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_belgian_franc_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_belgian_franc_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_belgian_franc_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_belgian_franc = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_belgian_franc_currency
        }
        save_scope_as = global_monetary_reference_belgian_franc_to_gold
    }

    root = {
        save_scope_as = gold_to_belgian_franc_seller
    }

    scope:gold_to_belgian_franc_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_belgian_franc_seller_capital_state

                set_variable = {
                    name = stockpiling_belgian_franc_state_1_selle_in_gold
                    value = owner.stockpiling_belgian_franc_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_belgian_franc_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_belgian_franc_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_belgian_franc_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_belgian_franc_state_1
                    subtract = owner.stockpiling_belgian_franc_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_belgian_franc_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_belgian_franc_seller_capital_state.var:stockpiling_belgian_franc_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_belgian_franc_state_1
                        add = scope:gold_to_belgian_franc_seller.stockpiling_belgian_franc_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_belgian_franc_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_belgian_franc_seller.stockpiling_belgian_franc_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_belgian_franc_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_belgian_franc_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_belgian_franc_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_belgian_franc_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#florin
ai_buy_global_monetary_reference_1_florin = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_florin_currency
        }
        save_scope_as = global_monetary_reference_florin_to_gold
    }

    root = {
        save_scope_as = gold_to_florin_seller
    }

    scope:gold_to_florin_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_florin_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_florin_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_florin_state_1
                    add = owner.stockpiling_florin_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_florin_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_florin_state_1_buy_in_gold
                        value =  scope:gold_to_florin_seller.stockpiling_florin_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_florin_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_florin_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_florin_state_1
                        subtract = scope:gold_to_florin_seller.stockpiling_florin_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_florin_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_florin_state_1_buy_in_gold_for_toast
                value = scope:gold_to_florin_seller.stockpiling_florin_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_florin_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_florin_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_florin_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_florin_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_florin = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_florin_currency
        }
        save_scope_as = global_monetary_reference_florin_to_gold
    }

    root = {
        save_scope_as = gold_to_florin_seller
    }

    scope:gold_to_florin_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_florin_seller_capital_state

                set_variable = {
                    name = stockpiling_florin_state_1_selle_in_gold
                    value = owner.stockpiling_florin_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_florin_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_florin_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_florin_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_florin_state_1
                    subtract = owner.stockpiling_florin_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_florin_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_florin_seller_capital_state.var:stockpiling_florin_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_florin_state_1
                        add = scope:gold_to_florin_seller.stockpiling_florin_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_florin_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_florin_seller.stockpiling_florin_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_florin_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_florin_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_florin_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_florin_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#brazilian_real
ai_buy_global_monetary_reference_1_brazilian_real = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_brazilian_real_currency
        }
        save_scope_as = global_monetary_reference_brazilian_real_to_gold
    }

    root = {
        save_scope_as = gold_to_brazilian_real_seller
    }

    scope:gold_to_brazilian_real_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_brazilian_real_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_brazilian_real_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_brazilian_real_state_1
                    add = owner.stockpiling_brazilian_real_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_brazilian_real_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_brazilian_real_state_1_buy_in_gold
                        value =  scope:gold_to_brazilian_real_seller.stockpiling_brazilian_real_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_brazilian_real_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_brazilian_real_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_brazilian_real_state_1
                        subtract = scope:gold_to_brazilian_real_seller.stockpiling_brazilian_real_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_brazilian_real_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_brazilian_real_state_1_buy_in_gold_for_toast
                value = scope:gold_to_brazilian_real_seller.stockpiling_brazilian_real_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_brazilian_real_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_brazilian_real_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_brazilian_real_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_brazilian_real_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_brazilian_real = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_brazilian_real_currency
        }
        save_scope_as = global_monetary_reference_brazilian_real_to_gold
    }

    root = {
        save_scope_as = gold_to_brazilian_real_seller
    }

    scope:gold_to_brazilian_real_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_brazilian_real_seller_capital_state

                set_variable = {
                    name = stockpiling_brazilian_real_state_1_selle_in_gold
                    value = owner.stockpiling_brazilian_real_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_brazilian_real_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_brazilian_real_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_brazilian_real_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_brazilian_real_state_1
                    subtract = owner.stockpiling_brazilian_real_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_brazilian_real_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_brazilian_real_seller_capital_state.var:stockpiling_brazilian_real_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_brazilian_real_state_1
                        add = scope:gold_to_brazilian_real_seller.stockpiling_brazilian_real_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_brazilian_real_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_brazilian_real_seller.stockpiling_brazilian_real_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_brazilian_real_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_brazilian_real_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_brazilian_real_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_brazilian_real_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#dinar
ai_buy_global_monetary_reference_1_dinar = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_dinar_currency
        }
        save_scope_as = global_monetary_reference_dinar_to_gold
    }

    root = {
        save_scope_as = gold_to_dinar_seller
    }

    scope:gold_to_dinar_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_dinar_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_dinar_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_dinar_state_1
                    add = owner.stockpiling_dinar_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_dinar_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_dinar_state_1_buy_in_gold
                        value =  scope:gold_to_dinar_seller.stockpiling_dinar_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_dinar_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_dinar_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_dinar_state_1
                        subtract = scope:gold_to_dinar_seller.stockpiling_dinar_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_dinar_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_dinar_state_1_buy_in_gold_for_toast
                value = scope:gold_to_dinar_seller.stockpiling_dinar_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_dinar_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_dinar_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_dinar_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_dinar_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_dinar = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_dinar_currency
        }
        save_scope_as = global_monetary_reference_dinar_to_gold
    }

    root = {
        save_scope_as = gold_to_dinar_seller
    }

    scope:gold_to_dinar_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_dinar_seller_capital_state

                set_variable = {
                    name = stockpiling_dinar_state_1_selle_in_gold
                    value = owner.stockpiling_dinar_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_dinar_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_dinar_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_dinar_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_dinar_state_1
                    subtract = owner.stockpiling_dinar_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_dinar_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_dinar_seller_capital_state.var:stockpiling_dinar_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_dinar_state_1
                        add = scope:gold_to_dinar_seller.stockpiling_dinar_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_dinar_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_dinar_seller.stockpiling_dinar_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_dinar_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_dinar_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_dinar_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_dinar_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#krone
ai_buy_global_monetary_reference_1_krone = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_krone_currency
        }
        save_scope_as = global_monetary_reference_krone_to_gold
    }

    root = {
        save_scope_as = gold_to_krone_seller
    }

    scope:gold_to_krone_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_krone_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_krone_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_krone_state_1
                    add = owner.stockpiling_krone_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_krone_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_krone_state_1_buy_in_gold
                        value =  scope:gold_to_krone_seller.stockpiling_krone_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_krone_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_krone_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_krone_state_1
                        subtract = scope:gold_to_krone_seller.stockpiling_krone_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_krone_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_krone_state_1_buy_in_gold_for_toast
                value = scope:gold_to_krone_seller.stockpiling_krone_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_krone_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_krone_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_krone_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_krone_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_krone = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_krone_currency
        }
        save_scope_as = global_monetary_reference_krone_to_gold
    }

    root = {
        save_scope_as = gold_to_krone_seller
    }

    scope:gold_to_krone_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_krone_seller_capital_state

                set_variable = {
                    name = stockpiling_krone_state_1_selle_in_gold
                    value = owner.stockpiling_krone_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_krone_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_krone_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_krone_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_krone_state_1
                    subtract = owner.stockpiling_krone_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_krone_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_krone_seller_capital_state.var:stockpiling_krone_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_krone_state_1
                        add = scope:gold_to_krone_seller.stockpiling_krone_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_krone_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_krone_seller.stockpiling_krone_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_krone_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_krone_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_krone_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_krone_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#leu
ai_buy_global_monetary_reference_1_leu = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_leu_currency
        }
        save_scope_as = global_monetary_reference_leu_to_gold
    }

    root = {
        save_scope_as = gold_to_leu_seller
    }

    scope:gold_to_leu_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_leu_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_leu_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_leu_state_1
                    add = owner.stockpiling_leu_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_leu_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_leu_state_1_buy_in_gold
                        value =  scope:gold_to_leu_seller.stockpiling_leu_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_leu_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_leu_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_leu_state_1
                        subtract = scope:gold_to_leu_seller.stockpiling_leu_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_leu_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_leu_state_1_buy_in_gold_for_toast
                value = scope:gold_to_leu_seller.stockpiling_leu_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_leu_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_leu_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_leu_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_leu_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_leu = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_leu_currency
        }
        save_scope_as = global_monetary_reference_leu_to_gold
    }

    root = {
        save_scope_as = gold_to_leu_seller
    }

    scope:gold_to_leu_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_leu_seller_capital_state

                set_variable = {
                    name = stockpiling_leu_state_1_selle_in_gold
                    value = owner.stockpiling_leu_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_leu_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_leu_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_leu_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_leu_state_1
                    subtract = owner.stockpiling_leu_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_leu_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_leu_seller_capital_state.var:stockpiling_leu_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_leu_state_1
                        add = scope:gold_to_leu_seller.stockpiling_leu_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_leu_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_leu_seller.stockpiling_leu_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_leu_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_leu_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_leu_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_leu_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#drachma
ai_buy_global_monetary_reference_1_drachma = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_drachma_currency
        }
        save_scope_as = global_monetary_reference_drachma_to_gold
    }

    root = {
        save_scope_as = gold_to_drachma_seller
    }

    scope:gold_to_drachma_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_drachma_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_drachma_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_drachma_state_1
                    add = owner.stockpiling_drachma_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_drachma_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_drachma_state_1_buy_in_gold
                        value =  scope:gold_to_drachma_seller.stockpiling_drachma_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_drachma_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_drachma_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_drachma_state_1
                        subtract = scope:gold_to_drachma_seller.stockpiling_drachma_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_drachma_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_drachma_state_1_buy_in_gold_for_toast
                value = scope:gold_to_drachma_seller.stockpiling_drachma_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_drachma_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_drachma_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_drachma_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_drachma_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_drachma = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_drachma_currency
        }
        save_scope_as = global_monetary_reference_drachma_to_gold
    }

    root = {
        save_scope_as = gold_to_drachma_seller
    }

    scope:gold_to_drachma_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_drachma_seller_capital_state

                set_variable = {
                    name = stockpiling_drachma_state_1_selle_in_gold
                    value = owner.stockpiling_drachma_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_drachma_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_drachma_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_drachma_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_drachma_state_1
                    subtract = owner.stockpiling_drachma_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_drachma_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_drachma_seller_capital_state.var:stockpiling_drachma_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_drachma_state_1
                        add = scope:gold_to_drachma_seller.stockpiling_drachma_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_drachma_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_drachma_seller.stockpiling_drachma_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_drachma_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_drachma_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_drachma_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_drachma_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#bath
ai_buy_global_monetary_reference_1_bath = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_bath_currency
        }
        save_scope_as = global_monetary_reference_bath_to_gold
    }

    root = {
        save_scope_as = gold_to_bath_seller
    }

    scope:gold_to_bath_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_bath_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_bath_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_bath_state_1
                    add = owner.stockpiling_bath_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_bath_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_bath_state_1_buy_in_gold
                        value =  scope:gold_to_bath_seller.stockpiling_bath_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_bath_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_bath_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_bath_state_1
                        subtract = scope:gold_to_bath_seller.stockpiling_bath_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_bath_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_bath_state_1_buy_in_gold_for_toast
                value = scope:gold_to_bath_seller.stockpiling_bath_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_bath_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_bath_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_bath_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_bath_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_bath = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_bath_currency
        }
        save_scope_as = global_monetary_reference_bath_to_gold
    }

    root = {
        save_scope_as = gold_to_bath_seller
    }

    scope:gold_to_bath_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_bath_seller_capital_state

                set_variable = {
                    name = stockpiling_bath_state_1_selle_in_gold
                    value = owner.stockpiling_bath_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_bath_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_bath_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_bath_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_bath_state_1
                    subtract = owner.stockpiling_bath_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_bath_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_bath_seller_capital_state.var:stockpiling_bath_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_bath_state_1
                        add = scope:gold_to_bath_seller.stockpiling_bath_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_bath_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_bath_seller.stockpiling_bath_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_bath_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_bath_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_bath_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_bath_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}

#qiran
ai_buy_global_monetary_reference_1_qiran = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_qiran_currency
        }
        save_scope_as = global_monetary_reference_qiran_to_gold
    }

    root = {
        save_scope_as = gold_to_qiran_seller
    }

    scope:gold_to_qiran_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_qiran_seller_capital_state

                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    subtract = stockpiling_qiran_state_1_buy_in_gold_scripted
                }

                #########
                change_variable = {
                    name = stockpiling_qiran_state_1
                    add = owner.stockpiling_qiran_state_buy_vriablity
                }
            }
        }
        scope:global_monetary_reference_qiran_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    set_variable = {
                        name = stockpiling_qiran_state_1_buy_in_gold
                        value =  scope:gold_to_qiran_seller.stockpiling_qiran_state_buy_vriablity
                    }
                    change_variable = {
                        name = stockpiling_qiran_state_1_buy_in_gold
                        multiply = owner.money_value_rapported_inflation
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        add = var:stockpiling_qiran_state_1_buy_in_gold
                    }

                    #########
                    change_variable = {
                        name = stockpiling_qiran_state_1
                        subtract = scope:gold_to_qiran_seller.stockpiling_qiran_state_buy_vriablity
                    }

                    #########
                    #Reset
                    set_variable = {
                        name = stockpiling_qiran_state_1_buy_in_gold
                        value = 0
                    }
                }
            }

            set_variable = {
                name = stockpiling_qiran_state_1_buy_in_gold_for_toast
                value = scope:gold_to_qiran_seller.stockpiling_qiran_state_buy_vriablity
            }
            if = {
                limit = {
                    stockpiling_qiran_state_buy_vriablity > 1
                }
                post_notification = global_monetary_reference_are_qiran_buy_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_qiran_buy_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_qiran_state_1_buy_in_gold
                    value = 0
                }
            }
        }
    }
}
ai_sell_global_monetary_reference_1_qiran = {

    every_country = {
        limit  = {
            is_player = yes
        }
        save_scope_as = is_player_for_notification
    }

    every_country = {
        limit  = {
            has_modifier = global_monetary_reference
            has_law = law_type:law_qiran_currency
        }
        save_scope_as = global_monetary_reference_qiran_to_gold
    }

    root = {
        save_scope_as = gold_to_qiran_seller
    }

    scope:gold_to_qiran_seller = {
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                save_scope_as = gold_to_qiran_seller_capital_state

                set_variable = {
                    name = stockpiling_qiran_state_1_selle_in_gold
                    value = owner.stockpiling_qiran_state_sell_vriablity
                }
                change_variable = {
                    name = stockpiling_qiran_state_1_selle_in_gold
                    multiply = scope:global_monetary_reference_qiran_to_gold.money_value_rapported_inflation
                }
                change_variable = {
                    name = central_bank_gold_reserves_state_1
                    add = var:stockpiling_qiran_state_1_selle_in_gold
                }

                #########
                change_variable = {
                    name = stockpiling_qiran_state_1
                    subtract = owner.stockpiling_qiran_state_sell_vriablity
                }
            }
        }
        scope:global_monetary_reference_qiran_to_gold = {
            every_scope_state = {
                if = {
                    limit = {
                        has_modifier = bank_central_historic_place
                        is_capital = yes
                    }
                    change_variable = {
                        name = central_bank_gold_reserves_state_1
                        subtract = scope:gold_to_qiran_seller_capital_state.var:stockpiling_qiran_state_1_selle_in_gold
                    }
                    change_variable = {
                        name = stockpiling_qiran_state_1
                        add = scope:gold_to_qiran_seller.stockpiling_qiran_state_sell_vriablity
                    }
                }
            }

            set_variable = {
                name = stockpiling_qiran_state_1_sell_in_gold_for_toast
                value =  scope:gold_to_qiran_seller.stockpiling_qiran_state_sell_vriablity
            }

            if = {
                limit = {
                    stockpiling_qiran_state_sell_vriablity > 1
                }

                post_notification = global_monetary_reference_are_qiran_sell_message
                scope:is_player_for_notification = {
                    post_notification = global_monetary_reference_are_qiran_sell_message
                }
            }
        }
        every_scope_state = {
            if = {
                limit = {
                    has_modifier = bank_central_historic_place
                    is_capital = yes
                }
                set_variable = {
                    name = stockpiling_qiran_state_1_selle_in_gold
                    value = 0
                }
            }
        }
    }
}



###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

#  █████╗ ██╗    ██████╗ ██╗   ██╗██╗   ██╗                                  
# ██╔══██╗██║    ██╔══██╗██║   ██║╚██╗ ██╔╝                                  
# ███████║██║    ██████╔╝██║   ██║ ╚████╔╝                                   
# ██╔══██║██║    ██╔══██╗██║   ██║  ╚██╔╝                                    
# ██║  ██║██║    ██████╔╝╚██████╔╝   ██║                                     
# ╚═╝  ╚═╝╚═╝    ╚═════╝  ╚═════╝    ╚═╝                                     
#                                                                            
#  ██████╗ ██╗   ██╗███████╗██████╗ ██████╗  █████╗ ████████╗███████╗██████╗ 
# ██╔═══██╗██║   ██║██╔════╝██╔══██╗██╔══██╗██╔══██╗╚══██╔══╝██╔════╝██╔══██╗
# ██║   ██║██║   ██║█████╗  ██████╔╝██████╔╝███████║   ██║   █████╗  ██║  ██║
# ██║   ██║╚██╗ ██╔╝██╔══╝  ██╔══██╗██╔══██╗██╔══██║   ██║   ██╔══╝  ██║  ██║
# ╚██████╔╝ ╚████╔╝ ███████╗██║  ██║██║  ██║██║  ██║   ██║   ███████╗██████╔╝
#  ╚═════╝   ╚═══╝  ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝   ╚══════╝╚═════╝ 
#                                                                            
#  ██████╗██╗   ██╗██████╗ ██████╗ ███████╗███╗   ██╗ ██████╗██╗   ██╗       
# ██╔════╝██║   ██║██╔══██╗██╔══██╗██╔════╝████╗  ██║██╔════╝╚██╗ ██╔╝       
# ██║     ██║   ██║██████╔╝██████╔╝█████╗  ██╔██╗ ██║██║      ╚████╔╝        
# ██║     ██║   ██║██╔══██╗██╔══██╗██╔══╝  ██║╚██╗██║██║       ╚██╔╝         
# ╚██████╗╚██████╔╝██║  ██║██║  ██║███████╗██║ ╚████║╚██████╗   ██║          
#  ╚═════╝ ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═══╝ ╚═════╝   ╚═╝          

###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

#money
buy_undervalued_money_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = money_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_money_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #money
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_money_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = money_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_money_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:money_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_money_state_buyer_vriablity
                    value = var:money_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_money_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_money_state_buyer_vriablity < stockpiling_money_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_money_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_money_state_1
                                add = owner.var:stockpiling_undervalued_money_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_money_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_money_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_money_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#franc
buy_undervalued_franc_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = franc_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_franc_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #franc
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_franc_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = franc_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_franc_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:franc_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_franc_state_buyer_vriablity
                    value = var:franc_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_franc_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_franc_state_buyer_vriablity < stockpiling_franc_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_franc_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_franc_state_1
                                add = owner.var:stockpiling_undervalued_franc_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_franc_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_franc_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_franc_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#dollar
buy_undervalued_dollar_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = dollar_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_dollar_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #dollar
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_dollar_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = dollar_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_dollar_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:dollar_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_dollar_state_buyer_vriablity
                    value = var:dollar_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_dollar_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_dollar_state_buyer_vriablity < stockpiling_dollar_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_dollar_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_dollar_state_1
                                add = owner.var:stockpiling_undervalued_dollar_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_dollar_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_dollar_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_dollar_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#mark
buy_undervalued_mark_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = mark_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_mark_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #mark
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_mark_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = mark_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_mark_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:mark_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_mark_state_buyer_vriablity
                    value = var:mark_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_mark_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_mark_state_buyer_vriablity < stockpiling_mark_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_mark_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_mark_state_1
                                add = owner.var:stockpiling_undervalued_mark_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_mark_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_mark_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_mark_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#sterling
buy_undervalued_sterling_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = sterling_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_sterling_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #sterling
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_sterling_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = sterling_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_sterling_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:sterling_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_sterling_state_buyer_vriablity
                    value = var:sterling_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_sterling_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_sterling_state_buyer_vriablity < stockpiling_sterling_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_sterling_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_sterling_state_1
                                add = owner.var:stockpiling_undervalued_sterling_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_sterling_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_sterling_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_sterling_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#real
buy_undervalued_real_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = real_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_real_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #real
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_real_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = real_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_real_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:real_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_real_state_buyer_vriablity
                    value = var:real_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_real_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_real_state_buyer_vriablity < stockpiling_real_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_real_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_real_state_1
                                add = owner.var:stockpiling_undervalued_real_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_real_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_real_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_real_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#gulden
buy_undervalued_gulden_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = gulden_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_gulden_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #gulden
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_gulden_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = gulden_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_gulden_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:gulden_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_gulden_state_buyer_vriablity
                    value = var:gulden_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_gulden_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_gulden_state_buyer_vriablity < stockpiling_gulden_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_gulden_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_gulden_state_1
                                add = owner.var:stockpiling_undervalued_gulden_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_gulden_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_gulden_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_gulden_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#yuan
buy_undervalued_yuan_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = yuan_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_yuan_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #yuan
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_yuan_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = yuan_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_yuan_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:yuan_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_yuan_state_buyer_vriablity
                    value = var:yuan_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_yuan_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_yuan_state_buyer_vriablity < stockpiling_yuan_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_yuan_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_yuan_state_1
                                add = owner.var:stockpiling_undervalued_yuan_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_yuan_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_yuan_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_yuan_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#rupee
buy_undervalued_rupee_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = rupee_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_rupee_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #rupee
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_rupee_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = rupee_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_rupee_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:rupee_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_rupee_state_buyer_vriablity
                    value = var:rupee_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_rupee_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_rupee_state_buyer_vriablity < stockpiling_rupee_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_rupee_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_rupee_state_1
                                add = owner.var:stockpiling_undervalued_rupee_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_rupee_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_rupee_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_rupee_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#yen
buy_undervalued_yen_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = yen_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_yen_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #yen
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_yen_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = yen_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_yen_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:yen_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_yen_state_buyer_vriablity
                    value = var:yen_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_yen_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_yen_state_buyer_vriablity < stockpiling_yen_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_yen_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_yen_state_1
                                add = owner.var:stockpiling_undervalued_yen_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_yen_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_yen_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_yen_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#peseta
buy_undervalued_peseta_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = peseta_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_peseta_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #peseta
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_peseta_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = peseta_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_peseta_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:peseta_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_peseta_state_buyer_vriablity
                    value = var:peseta_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_peseta_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_peseta_state_buyer_vriablity < stockpiling_peseta_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_peseta_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_peseta_state_1
                                add = owner.var:stockpiling_undervalued_peseta_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_peseta_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_peseta_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_peseta_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#ottoman_lira
buy_undervalued_ottoman_lira_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = ottoman_lira_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_ottoman_lira_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #ottoman_lira
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_ottoman_lira_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = ottoman_lira_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_ottoman_lira_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:ottoman_lira_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_ottoman_lira_state_buyer_vriablity
                    value = var:ottoman_lira_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_ottoman_lira_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_ottoman_lira_state_buyer_vriablity < stockpiling_ottoman_lira_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_ottoman_lira_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_ottoman_lira_state_1
                                add = owner.var:stockpiling_undervalued_ottoman_lira_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_ottoman_lira_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_ottoman_lira_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_ottoman_lira_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#lira
buy_undervalued_lira_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = lira_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_lira_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #lira
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_lira_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = lira_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_lira_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:lira_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_lira_state_buyer_vriablity
                    value = var:lira_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_lira_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_lira_state_buyer_vriablity < stockpiling_lira_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_lira_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_lira_state_1
                                add = owner.var:stockpiling_undervalued_lira_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_lira_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_lira_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_lira_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#peso
buy_undervalued_peso_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = peso_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_peso_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #peso
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_peso_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = peso_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_peso_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:peso_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_peso_state_buyer_vriablity
                    value = var:peso_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_peso_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_peso_state_buyer_vriablity < stockpiling_peso_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_peso_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_peso_state_1
                                add = owner.var:stockpiling_undervalued_peso_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_peso_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_peso_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_peso_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#rouble
buy_undervalued_rouble_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = rouble_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_rouble_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #rouble
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_rouble_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = rouble_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_rouble_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:rouble_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_rouble_state_buyer_vriablity
                    value = var:rouble_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_rouble_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_rouble_state_buyer_vriablity < stockpiling_rouble_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_rouble_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_rouble_state_1
                                add = owner.var:stockpiling_undervalued_rouble_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_rouble_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_rouble_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_rouble_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#swiss_franc
buy_undervalued_swiss_franc_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = swiss_franc_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_swiss_franc_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #swiss_franc
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_swiss_franc_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = swiss_franc_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_swiss_franc_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:swiss_franc_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_swiss_franc_state_buyer_vriablity
                    value = var:swiss_franc_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_swiss_franc_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_swiss_franc_state_buyer_vriablity < stockpiling_swiss_franc_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_swiss_franc_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_swiss_franc_state_1
                                add = owner.var:stockpiling_undervalued_swiss_franc_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_swiss_franc_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_swiss_franc_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_swiss_franc_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#belgian_franc
buy_undervalued_belgian_franc_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = belgian_franc_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_belgian_franc_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #belgian_franc
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_belgian_franc_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = belgian_franc_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_belgian_franc_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:belgian_franc_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_belgian_franc_state_buyer_vriablity
                    value = var:belgian_franc_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_belgian_franc_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_belgian_franc_state_buyer_vriablity < stockpiling_belgian_franc_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_belgian_franc_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_belgian_franc_state_1
                                add = owner.var:stockpiling_undervalued_belgian_franc_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_belgian_franc_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_belgian_franc_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_belgian_franc_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#florin
buy_undervalued_florin_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = florin_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_florin_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #florin
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_florin_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = florin_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_florin_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:florin_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_florin_state_buyer_vriablity
                    value = var:florin_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_florin_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_florin_state_buyer_vriablity < stockpiling_florin_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_florin_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_florin_state_1
                                add = owner.var:stockpiling_undervalued_florin_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_florin_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_florin_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_florin_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#brazilian_real
buy_undervalued_brazilian_real_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = brazilian_real_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_brazilian_real_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #brazilian_real
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_brazilian_real_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = brazilian_real_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_brazilian_real_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:brazilian_real_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_brazilian_real_state_buyer_vriablity
                    value = var:brazilian_real_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_brazilian_real_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_brazilian_real_state_buyer_vriablity < stockpiling_brazilian_real_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_brazilian_real_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_brazilian_real_state_1
                                add = owner.var:stockpiling_undervalued_brazilian_real_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_brazilian_real_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_brazilian_real_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_brazilian_real_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#dinar
buy_undervalued_dinar_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = dinar_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_dinar_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #dinar
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_dinar_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = dinar_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_dinar_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:dinar_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_dinar_state_buyer_vriablity
                    value = var:dinar_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_dinar_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_dinar_state_buyer_vriablity < stockpiling_dinar_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_dinar_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_dinar_state_1
                                add = owner.var:stockpiling_undervalued_dinar_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_dinar_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_dinar_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_dinar_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#krone
buy_undervalued_krone_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = krone_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_krone_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #krone
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_krone_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = krone_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_krone_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:krone_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_krone_state_buyer_vriablity
                    value = var:krone_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_krone_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_krone_state_buyer_vriablity < stockpiling_krone_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_krone_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_krone_state_1
                                add = owner.var:stockpiling_undervalued_krone_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_krone_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_krone_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_krone_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#leu
buy_undervalued_leu_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = leu_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_leu_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #leu
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_leu_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = leu_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_leu_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:leu_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_leu_state_buyer_vriablity
                    value = var:leu_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_leu_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_leu_state_buyer_vriablity < stockpiling_leu_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_leu_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_leu_state_1
                                add = owner.var:stockpiling_undervalued_leu_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_leu_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_leu_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_leu_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#drachma
buy_undervalued_drachma_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = drachma_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_drachma_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #drachma
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_drachma_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = drachma_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_drachma_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:drachma_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_drachma_state_buyer_vriablity
                    value = var:drachma_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_drachma_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_drachma_state_buyer_vriablity < stockpiling_drachma_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_drachma_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_drachma_state_1
                                add = owner.var:stockpiling_undervalued_drachma_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_drachma_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_drachma_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_drachma_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#bath
buy_undervalued_bath_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = bath_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_bath_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #bath
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_bath_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = bath_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_bath_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:bath_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_bath_state_buyer_vriablity
                    value = var:bath_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_bath_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_bath_state_buyer_vriablity < stockpiling_bath_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_bath_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_bath_state_1
                                add = owner.var:stockpiling_undervalued_bath_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_bath_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_bath_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_bath_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#qiran
buy_undervalued_qiran_currency = {
    root = {
        save_scope_as = buyer
    }

    random_in_list = {
        variable = qiran_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = undervalued_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:undervalued_currency_country_owner
            scope:undervalued_currency_country_owner = {
                has_law = law_type:law_qiran_currency
				money_supply_state > 10000000
            }
        }
        
        scope:buyer = {
            #qiran
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_qiran_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = qiran_quantity_var
                    value = { 1000000 10000000 }
                }

                set_variable = {
                    name = stockpiling_undervalued_qiran_state_1_buyer_in_gold
                    value = {
                        value = 1
                        add = var:qiran_quantity_var
                        multiply = scope:undervalued_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_undervalued_qiran_state_buyer_vriablity
                    value = var:qiran_quantity_var
                }
        
                if = {
                    limit = {
                        var:stockpiling_undervalued_qiran_state_1_buyer_in_gold < central_bank_gold_reserves_state
                        scope:undervalued_currency_country_owner = {
                            scope:buyer.var:stockpiling_undervalued_qiran_state_buyer_vriablity < stockpiling_qiran_state
           					money_value < money_value_target_real_below_10 #money_value_target_real
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                subtract = owner.var:stockpiling_undervalued_qiran_state_1_buyer_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_qiran_state_1
                                add = owner.var:stockpiling_undervalued_qiran_state_buyer_vriablity
                            }
                        }
                    }
                    scope:undervalued_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    add = scope:buyer.var:stockpiling_undervalued_qiran_state_1_buyer_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_qiran_state_1
                                    subtract = scope:buyer.var:stockpiling_undervalued_qiran_state_buyer_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

#  █████╗ ██╗    ███████╗███████╗██╗     ██╗                                 
# ██╔══██╗██║    ██╔════╝██╔════╝██║     ██║                                 
# ███████║██║    ███████╗█████╗  ██║     ██║                                 
# ██╔══██║██║    ╚════██║██╔══╝  ██║     ██║                                 
# ██║  ██║██║    ███████║███████╗███████╗███████╗                            
# ╚═╝  ╚═╝╚═╝    ╚══════╝╚══════╝╚══════╝╚══════╝                            
#                                                                            
#  ██████╗ ██╗   ██╗███████╗██████╗ ██████╗  █████╗ ████████╗███████╗██████╗ 
# ██╔═══██╗██║   ██║██╔════╝██╔══██╗██╔══██╗██╔══██╗╚══██╔══╝██╔════╝██╔══██╗
# ██║   ██║██║   ██║█████╗  ██████╔╝██████╔╝███████║   ██║   █████╗  ██║  ██║
# ██║   ██║╚██╗ ██╔╝██╔══╝  ██╔══██╗██╔══██╗██╔══██║   ██║   ██╔══╝  ██║  ██║
# ╚██████╔╝ ╚████╔╝ ███████╗██║  ██║██║  ██║██║  ██║   ██║   ███████╗██████╔╝
#  ╚═════╝   ╚═══╝  ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝   ╚══════╝╚═════╝ 
#                                                                            
#  ██████╗██╗   ██╗██████╗ ██████╗ ███████╗███╗   ██╗ ██████╗██╗   ██╗       
# ██╔════╝██║   ██║██╔══██╗██╔══██╗██╔════╝████╗  ██║██╔════╝╚██╗ ██╔╝       
# ██║     ██║   ██║██████╔╝██████╔╝█████╗  ██╔██╗ ██║██║      ╚████╔╝        
# ██║     ██║   ██║██╔══██╗██╔══██╗██╔══╝  ██║╚██╗██║██║       ╚██╔╝         
# ╚██████╗╚██████╔╝██║  ██║██║  ██║███████╗██║ ╚████║╚██████╗   ██║          
#  ╚═════╝ ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═══╝ ╚═════╝   ╚═╝          

###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

#money
sell_overrated_money_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = money_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_money_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_money_state > 1000000
        }
        
        scope:seller = {
            #money
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_money_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = money_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_money_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_money_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:money_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_money_state_buy_vriablity
                    value = var:money_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_money_state > var:money_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_money_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_money_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_money_state_1
                                subtract = owner.var:stockpiling_overrated_money_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_money_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_money_state_1
                                    add = scope:seller.var:stockpiling_overrated_money_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#franc
sell_overrated_franc_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = franc_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_franc_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_franc_state > 1000000
        }
        
        scope:seller = {
            #franc
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_franc_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = franc_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_franc_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_franc_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:franc_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_franc_state_buy_vriablity
                    value = var:franc_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_franc_state > var:franc_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_franc_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_franc_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_franc_state_1
                                subtract = owner.var:stockpiling_overrated_franc_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_franc_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_franc_state_1
                                    add = scope:seller.var:stockpiling_overrated_franc_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#dollar
sell_overrated_dollar_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = dollar_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_dollar_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_dollar_state > 1000000
        }
        
        scope:seller = {
            #dollar
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_dollar_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = dollar_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_dollar_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_dollar_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:dollar_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_dollar_state_buy_vriablity
                    value = var:dollar_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_dollar_state > var:dollar_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_dollar_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_dollar_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_dollar_state_1
                                subtract = owner.var:stockpiling_overrated_dollar_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_dollar_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_dollar_state_1
                                    add = scope:seller.var:stockpiling_overrated_dollar_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#mark
sell_overrated_mark_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = mark_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_mark_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_mark_state > 1000000
        }
        
        scope:seller = {
            #mark
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_mark_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = mark_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_mark_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_mark_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:mark_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_mark_state_buy_vriablity
                    value = var:mark_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_mark_state > var:mark_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_mark_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_mark_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_mark_state_1
                                subtract = owner.var:stockpiling_overrated_mark_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_mark_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_mark_state_1
                                    add = scope:seller.var:stockpiling_overrated_mark_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#sterling
sell_overrated_sterling_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = sterling_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_sterling_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_sterling_state > 1000000
        }
        
        scope:seller = {
            #sterling
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_sterling_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = sterling_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_sterling_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_sterling_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:sterling_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_sterling_state_buy_vriablity
                    value = var:sterling_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_sterling_state > var:sterling_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_sterling_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_sterling_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_sterling_state_1
                                subtract = owner.var:stockpiling_overrated_sterling_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_sterling_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_sterling_state_1
                                    add = scope:seller.var:stockpiling_overrated_sterling_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#real
sell_overrated_real_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = real_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_real_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_real_state > 1000000
        }
        
        scope:seller = {
            #real
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_real_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = real_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_real_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_real_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:real_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_real_state_buy_vriablity
                    value = var:real_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_real_state > var:real_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_real_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_real_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_real_state_1
                                subtract = owner.var:stockpiling_overrated_real_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_real_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_real_state_1
                                    add = scope:seller.var:stockpiling_overrated_real_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#gulden
sell_overrated_gulden_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = gulden_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_gulden_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_gulden_state > 1000000
        }
        
        scope:seller = {
            #gulden
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_gulden_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = gulden_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_gulden_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_gulden_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:gulden_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_gulden_state_buy_vriablity
                    value = var:gulden_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_gulden_state > var:gulden_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_gulden_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_gulden_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_gulden_state_1
                                subtract = owner.var:stockpiling_overrated_gulden_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_gulden_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_gulden_state_1
                                    add = scope:seller.var:stockpiling_overrated_gulden_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#yuan
sell_overrated_yuan_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = yuan_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_yuan_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_yuan_state > 1000000
        }
        
        scope:seller = {
            #yuan
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_yuan_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = yuan_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_yuan_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_yuan_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:yuan_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_yuan_state_buy_vriablity
                    value = var:yuan_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_yuan_state > var:yuan_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_yuan_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_yuan_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_yuan_state_1
                                subtract = owner.var:stockpiling_overrated_yuan_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_yuan_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_yuan_state_1
                                    add = scope:seller.var:stockpiling_overrated_yuan_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#rupee
sell_overrated_rupee_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = rupee_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_rupee_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_rupee_state > 1000000
        }
        
        scope:seller = {
            #rupee
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_rupee_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = rupee_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_rupee_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_rupee_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:rupee_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_rupee_state_buy_vriablity
                    value = var:rupee_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_rupee_state > var:rupee_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_rupee_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_rupee_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_rupee_state_1
                                subtract = owner.var:stockpiling_overrated_rupee_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_rupee_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_rupee_state_1
                                    add = scope:seller.var:stockpiling_overrated_rupee_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#yen
sell_overrated_yen_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = yen_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_yen_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_yen_state > 1000000
        }
        
        scope:seller = {
            #yen
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_yen_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = yen_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_yen_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_yen_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:yen_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_yen_state_buy_vriablity
                    value = var:yen_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_yen_state > var:yen_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_yen_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_yen_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_yen_state_1
                                subtract = owner.var:stockpiling_overrated_yen_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_yen_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_yen_state_1
                                    add = scope:seller.var:stockpiling_overrated_yen_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#peseta
sell_overrated_peseta_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = peseta_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_peseta_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_peseta_state > 1000000
        }
        
        scope:seller = {
            #peseta
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_peseta_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = peseta_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_peseta_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_peseta_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:peseta_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_peseta_state_buy_vriablity
                    value = var:peseta_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_peseta_state > var:peseta_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_peseta_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_peseta_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_peseta_state_1
                                subtract = owner.var:stockpiling_overrated_peseta_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_peseta_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_peseta_state_1
                                    add = scope:seller.var:stockpiling_overrated_peseta_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#ottoman_lira
sell_overrated_ottoman_lira_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = ottoman_lira_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_ottoman_lira_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_ottoman_lira_state > 1000000
        }
        
        scope:seller = {
            #ottoman_lira
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_ottoman_lira_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = ottoman_lira_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_ottoman_lira_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_ottoman_lira_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:ottoman_lira_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_ottoman_lira_state_buy_vriablity
                    value = var:ottoman_lira_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_ottoman_lira_state > var:ottoman_lira_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_ottoman_lira_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_ottoman_lira_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_ottoman_lira_state_1
                                subtract = owner.var:stockpiling_overrated_ottoman_lira_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_ottoman_lira_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_ottoman_lira_state_1
                                    add = scope:seller.var:stockpiling_overrated_ottoman_lira_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#lira
sell_overrated_lira_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = lira_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_lira_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_lira_state > 1000000
        }
        
        scope:seller = {
            #lira
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_lira_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = lira_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_lira_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_lira_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:lira_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_lira_state_buy_vriablity
                    value = var:lira_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_lira_state > var:lira_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_lira_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_lira_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_lira_state_1
                                subtract = owner.var:stockpiling_overrated_lira_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_lira_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_lira_state_1
                                    add = scope:seller.var:stockpiling_overrated_lira_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#peso
sell_overrated_peso_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = peso_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_peso_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_peso_state > 1000000
        }
        
        scope:seller = {
            #peso
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_peso_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = peso_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_peso_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_peso_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:peso_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_peso_state_buy_vriablity
                    value = var:peso_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_peso_state > var:peso_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_peso_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_peso_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_peso_state_1
                                subtract = owner.var:stockpiling_overrated_peso_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_peso_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_peso_state_1
                                    add = scope:seller.var:stockpiling_overrated_peso_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#rouble
sell_overrated_rouble_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = rouble_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_rouble_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_rouble_state > 1000000
        }
        
        scope:seller = {
            #rouble
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_rouble_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = rouble_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_rouble_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_rouble_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:rouble_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_rouble_state_buy_vriablity
                    value = var:rouble_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_rouble_state > var:rouble_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_rouble_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_rouble_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_rouble_state_1
                                subtract = owner.var:stockpiling_overrated_rouble_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_rouble_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_rouble_state_1
                                    add = scope:seller.var:stockpiling_overrated_rouble_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#swiss_franc
sell_overrated_swiss_franc_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = swiss_franc_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_swiss_franc_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_swiss_franc_state > 1000000
        }
        
        scope:seller = {
            #swiss_franc
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_swiss_franc_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = swiss_franc_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_swiss_franc_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_swiss_franc_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:swiss_franc_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_swiss_franc_state_buy_vriablity
                    value = var:swiss_franc_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_swiss_franc_state > var:swiss_franc_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_swiss_franc_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_swiss_franc_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_swiss_franc_state_1
                                subtract = owner.var:stockpiling_overrated_swiss_franc_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_swiss_franc_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_swiss_franc_state_1
                                    add = scope:seller.var:stockpiling_overrated_swiss_franc_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#belgian_franc
sell_overrated_belgian_franc_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = belgian_franc_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_belgian_franc_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_belgian_franc_state > 1000000
        }
        
        scope:seller = {
            #belgian_franc
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_belgian_franc_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = belgian_franc_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_belgian_franc_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_belgian_franc_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:belgian_franc_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_belgian_franc_state_buy_vriablity
                    value = var:belgian_franc_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_belgian_franc_state > var:belgian_franc_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_belgian_franc_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_belgian_franc_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_belgian_franc_state_1
                                subtract = owner.var:stockpiling_overrated_belgian_franc_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_belgian_franc_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_belgian_franc_state_1
                                    add = scope:seller.var:stockpiling_overrated_belgian_franc_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#florin
sell_overrated_florin_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = florin_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_florin_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_florin_state > 1000000
        }
        
        scope:seller = {
            #florin
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_florin_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = florin_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_florin_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_florin_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:florin_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_florin_state_buy_vriablity
                    value = var:florin_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_florin_state > var:florin_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_florin_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_florin_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_florin_state_1
                                subtract = owner.var:stockpiling_overrated_florin_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_florin_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_florin_state_1
                                    add = scope:seller.var:stockpiling_overrated_florin_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#brazilian_real
sell_overrated_brazilian_real_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = brazilian_real_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_brazilian_real_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_brazilian_real_state > 1000000
        }
        
        scope:seller = {
            #brazilian_real
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_brazilian_real_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = brazilian_real_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_brazilian_real_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_brazilian_real_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:brazilian_real_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_brazilian_real_state_buy_vriablity
                    value = var:brazilian_real_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_brazilian_real_state > var:brazilian_real_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_brazilian_real_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_brazilian_real_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_brazilian_real_state_1
                                subtract = owner.var:stockpiling_overrated_brazilian_real_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_brazilian_real_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_brazilian_real_state_1
                                    add = scope:seller.var:stockpiling_overrated_brazilian_real_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#dinar
sell_overrated_dinar_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = dinar_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_dinar_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_dinar_state > 1000000
        }
        
        scope:seller = {
            #dinar
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_dinar_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = dinar_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_dinar_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_dinar_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:dinar_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_dinar_state_buy_vriablity
                    value = var:dinar_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_dinar_state > var:dinar_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_dinar_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_dinar_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_dinar_state_1
                                subtract = owner.var:stockpiling_overrated_dinar_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_dinar_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_dinar_state_1
                                    add = scope:seller.var:stockpiling_overrated_dinar_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#krone
sell_overrated_krone_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = krone_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_krone_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_krone_state > 1000000
        }
        
        scope:seller = {
            #krone
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_krone_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = krone_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_krone_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_krone_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:krone_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_krone_state_buy_vriablity
                    value = var:krone_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_krone_state > var:krone_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_krone_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_krone_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_krone_state_1
                                subtract = owner.var:stockpiling_overrated_krone_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_krone_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_krone_state_1
                                    add = scope:seller.var:stockpiling_overrated_krone_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#leu
sell_overrated_leu_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = leu_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_leu_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_leu_state > 1000000
        }
        
        scope:seller = {
            #leu
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_leu_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = leu_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_leu_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_leu_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:leu_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_leu_state_buy_vriablity
                    value = var:leu_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_leu_state > var:leu_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_leu_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_leu_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_leu_state_1
                                subtract = owner.var:stockpiling_overrated_leu_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_leu_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_leu_state_1
                                    add = scope:seller.var:stockpiling_overrated_leu_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#drachma
sell_overrated_drachma_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = drachma_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_drachma_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_drachma_state > 1000000
        }
        
        scope:seller = {
            #drachma
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_drachma_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = drachma_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_drachma_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_drachma_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:drachma_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_drachma_state_buy_vriablity
                    value = var:drachma_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_drachma_state > var:drachma_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_drachma_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_drachma_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_drachma_state_1
                                subtract = owner.var:stockpiling_overrated_drachma_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_drachma_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_drachma_state_1
                                    add = scope:seller.var:stockpiling_overrated_drachma_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#bath
sell_overrated_bath_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = bath_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_bath_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_bath_state > 1000000
        }
        
        scope:seller = {
            #bath
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_bath_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = bath_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_bath_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_bath_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:bath_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_bath_state_buy_vriablity
                    value = var:bath_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_bath_state > var:bath_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_bath_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_bath_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_bath_state_1
                                subtract = owner.var:stockpiling_overrated_bath_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_bath_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_bath_state_1
                                    add = scope:seller.var:stockpiling_overrated_bath_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
#qiran
sell_overrated_qiran_currency = {

    root = {
        save_scope_as = seller
    }

    random_in_list = {
        variable = qiran_currency_law_list_ordered_1 #overrated_currency_list_ordered_1
        save_scope_as = overrated_currency_country_owner
    }

    if = {
        limit = {
            exists = scope:overrated_currency_country_owner
            scope:overrated_currency_country_owner = {
                has_law = law_type:law_qiran_currency
                money_value > money_value_target_real_above_10 #money_value_target_real
            }
            #stockpiling_qiran_state > 1000000
        }
        
        scope:seller = {
            #qiran
            if = {
                limit = {
                    not  = {
                        has_law = law_type:law_qiran_currency
                        or = {
                            is_subject = yes
                            is_subject_type = subject_type_customs_union
                            is_subject_type = subject_type_protectorate
                            has_law = law_type:law_isolationism
                        }
                    }
                }
                    
                set_variable = {
                    name = qiran_quantity_var
                    #value = { 1000000 10000000 }
                    value = {
                        value = 1
                        add = stockpiling_qiran_state
                        multiply = 0.50
                    }
                }

                set_variable = {
                    name = stockpiling_overrated_qiran_state_1_buy_in_gold
                    value = {
                        value = 1
                        add = var:qiran_quantity_var
                        multiply = scope:overrated_currency_country_owner.money_value_rapported_inflation
                    }
                }
                
                set_variable = {
                    name = stockpiling_overrated_qiran_state_buy_vriablity
                    value = var:qiran_quantity_var
                }
        
                if = {
                    limit = {
                        stockpiling_qiran_state > var:qiran_quantity_var
                        scope:overrated_currency_country_owner = {
                            scope:seller.var:stockpiling_overrated_qiran_state_1_buy_in_gold < central_bank_gold_reserves_state
                        }
                    }
                    every_scope_state = {
                        if = {
                            limit = {
                                has_modifier = bank_central_historic_place
                                is_capital = yes
                            }
                            #########
    
                            change_variable = {
                                name = central_bank_gold_reserves_state_1
                                add = owner.var:stockpiling_overrated_qiran_state_1_buy_in_gold
                            }
                            #########
                            
                            change_variable = {
                                name = stockpiling_qiran_state_1
                                subtract = owner.var:stockpiling_overrated_qiran_state_buy_vriablity
                            }
                        }
                    }
                    scope:overrated_currency_country_owner = {
                        every_scope_state = {
                            if = {
                                limit = {
                                    has_modifier = bank_central_historic_place
                                    is_capital = yes
                                }
                                #########
    
                                change_variable = {
                                    name = central_bank_gold_reserves_state_1
                                    subtract = scope:seller.var:stockpiling_overrated_qiran_state_1_buy_in_gold
                                }
                                #########

                                change_variable = {
                                    name = stockpiling_qiran_state_1
                                    add = scope:seller.var:stockpiling_overrated_qiran_state_buy_vriablity
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

#money circulation correction

###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################
###########################################################################################################################################################################################

money_creation_in_circulation_for_rebalancing = {
    set_variable = {
        name = money_value_target_complete
        value = {
            value = 0
            add = money_value_target
            subtract = money_supply
        }
    }

   # change_variable = {
   #     name = money_circulating
   #     add = var:money_value_target_complete
   # }

	if = {
		limit = {
			has_law = law_type:law_money_currency
		}
        change_variable = {
            name = circulating_money_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_franc_currency
		}
        change_variable = {
            name = circulating_franc_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_dollar_currency
		}
        change_variable = {
            name = circulating_dollar_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_mark_currency
		}
        change_variable = {
            name = circulating_mark_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_sterling_currency
		}
        change_variable = {
            name = circulating_sterling_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_real_currency
		}
        change_variable = {
            name = circulating_real_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_gulden_currency
		}
        change_variable = {
            name = circulating_gulden_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_yuan_currency
		}
        change_variable = {
            name = circulating_yuan_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_rupee_currency
		}
        change_variable = {
            name = circulating_rupee_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_yen_currency
		}
        change_variable = {
            name = circulating_yen_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_peseta_currency
		}
        change_variable = {
            name = circulating_peseta_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_ottoman_lira_currency
		}
        change_variable = {
            name = circulating_ottoman_lira_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_lira_currency
		}
        change_variable = {
            name = circulating_lira_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_peso_currency
		}
        change_variable = {
            name = circulating_peso_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_rouble_currency
		}
        change_variable = {
            name = circulating_rouble_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_swiss_franc_currency
		}
        change_variable = {
            name = circulating_swiss_franc_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_belgian_franc_currency
		}
        change_variable = {
            name = circulating_belgian_franc_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_florin_currency
		}
        change_variable = {
            name = circulating_florin_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_brazilian_real_currency
		}
        change_variable = {
            name = circulating_brazilian_real_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_dinar_currency
		}
        change_variable = {
            name = circulating_dinar_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_krone_currency
		}
        change_variable = {
            name = circulating_krone_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_leu_currency
		}
        change_variable = {
            name = circulating_leu_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_drachma_currency
		}
        change_variable = {
            name = circulating_drachma_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_bath_currency
		}
        change_variable = {
            name = circulating_bath_c_var_1
            add = var:money_value_target_complete
        }
	}
	if = {
		limit = {
			has_law = law_type:law_qiran_currency
		}
        change_variable = {
            name = circulating_qiran_c_var_1
            add = var:money_value_target_complete
        }
	}

}
