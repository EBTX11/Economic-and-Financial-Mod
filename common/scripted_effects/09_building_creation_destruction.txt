######## bank_central

gdp_view_on_action = {
	if = {
		limit = {
			gdp_var > 10000000
		}
		set_variable = {
			name = gdp_view
			value = 1
		}
	}
	if = {
		limit = {
			gdp_var > 20000000
		}
		set_variable = {
			name = gdp_view
			value = 2
		}
	}
	if = {
		limit = {
			gdp_var > 30000000
		}
		set_variable = {
			name = gdp_view
			value = 3
		}
	}
	if = {
		limit = {
			gdp_var > 40000000
		}
		set_variable = {
			name = gdp_view
			value = 4
		}
	}
	if = {
		limit = {
			gdp_var > 50000000
		}
		set_variable = {
			name = gdp_view
			value = 5
		}
	}
	if = {
		limit = {
			gdp_var > 60000000
		}
		set_variable = {
			name = gdp_view
			value = 6
		}
	}
	if = {
		limit = {
			gdp_var > 70000000
		}
		set_variable = {
			name = gdp_view
			value = 7
		}
	}
	if = {
		limit = {
			gdp_var > 80000000
		}
		set_variable = {
			name = gdp_view
			value = 8
		}
	}
	if = {
		limit = {
			gdp_var > 90000000
		}
		set_variable = {
			name = gdp_view
			value = 9
		}
	}
	if = {
		limit = {
			gdp_var > 100000000
		}
		set_variable = {
			name = gdp_view
			value = 10
		}
	}
	if = {
		limit = {
			gdp_var > 110000000
		}
		set_variable = {
			name = gdp_view
			value = 11
		}
	}
	if = {
		limit = {
			gdp_var > 120000000
		}
		set_variable = {
			name = gdp_view
			value = 12
		}
	}
	if = {
		limit = {
			gdp_var > 130000000
		}
		set_variable = {
			name = gdp_view
			value = 13
		}
	}
	if = {
		limit = {
			gdp_var > 140000000
		}
		set_variable = {
			name = gdp_view
			value = 14
		}
	}
	if = {
		limit = {
			gdp_var > 150000000
		}
		set_variable = {
			name = gdp_view
			value = 15
		}
	}
	if = {
		limit = {
			gdp_var > 160000000
		}
		set_variable = {
			name = gdp_view
			value = 16
		}
	}
	if = {
		limit = {
			gdp_var > 170000000
		}
		set_variable = {
			name = gdp_view
			value = 17
		}
	}
	if = {
		limit = {
			gdp_var > 180000000
		}
		set_variable = {
			name = gdp_view
			value = 18
		}
	}
	if = {
		limit = {
			gdp_var > 190000000
		}
		set_variable = {
			name = gdp_view
			value = 19
		}
	}
	if = {
		limit = {
			gdp_var > 200000000
		}
		set_variable = {
			name = gdp_view
			value = 20
		}
	}
	if = {
		limit = {
			gdp_var > 210000000
		}
		set_variable = {
			name = gdp_view
			value = 21
		}
	}
	if = {
		limit = {
			gdp_var > 220000000
		}
		set_variable = {
			name = gdp_view
			value = 22
		}
	}
	if = {
		limit = {
			gdp_var > 230000000
		}
		set_variable = {
			name = gdp_view
			value = 23
		}
	}
	if = {
		limit = {
			gdp_var > 240000000
		}
		set_variable = {
			name = gdp_view
			value = 24
		}
	}
	if = {
		limit = {
			gdp_var > 250000000
		}
		set_variable = {
			name = gdp_view
			value = 25
		}
	}
	if = {
		limit = {
			gdp_var > 260000000
		}
		set_variable = {
			name = gdp_view
			value = 26
		}
	}
	if = {
		limit = {
			gdp_var > 270000000
		}
		set_variable = {
			name = gdp_view
			value = 27
		}
	}
	if = {
		limit = {
			gdp_var > 280000000
		}
		set_variable = {
			name = gdp_view
			value = 28
		}
	}
	if = {
		limit = {
			gdp_var > 290000000
		}
		set_variable = {
			name = gdp_view
			value = 29
		}
	}
	if = {
		limit = {
			gdp_var > 300000000
		}
		set_variable = {
			name = gdp_view
			value = 30
		}
	}
	if = {
		limit = {
			gdp_var > 310000000
		}
		set_variable = {
			name = gdp_view
			value = 31
		}
	}
	if = {
		limit = {
			gdp_var > 320000000
		}
		set_variable = {
			name = gdp_view
			value = 32
		}
	}
	if = {
		limit = {
			gdp_var > 330000000
		}
		set_variable = {
			name = gdp_view
			value = 33
		}
	}
	if = {
		limit = {
			gdp_var > 340000000
		}
		set_variable = {
			name = gdp_view
			value = 34
		}
	}
	if = {
		limit = {
			gdp_var > 350000000
		}
		set_variable = {
			name = gdp_view
			value = 35
		}
	}
	if = {
		limit = {
			gdp_var > 360000000
		}
		set_variable = {
			name = gdp_view
			value = 36
		}
	}
	if = {
		limit = {
			gdp_var > 370000000
		}
		set_variable = {
			name = gdp_view
			value = 37
		}
	}
	if = {
		limit = {
			gdp_var > 380000000
		}
		set_variable = {
			name = gdp_view
			value = 38
		}
	}
	if = {
		limit = {
			gdp_var > 390000000
		}
		set_variable = {
			name = gdp_view
			value = 39
		}
	}
	if = {
		limit = {
			gdp_var > 400000000
		}
		set_variable = {
			name = gdp_view
			value = 40
		}
	}
	if = {
		limit = {
			gdp_var > 410000000
		}
		set_variable = {
			name = gdp_view
			value = 41
		}
	}
	if = {
		limit = {
			gdp_var > 420000000
		}
		set_variable = {
			name = gdp_view
			value = 42
		}
	}
	if = {
		limit = {
			gdp_var > 430000000
		}
		set_variable = {
			name = gdp_view
			value = 43
		}
	}
	if = {
		limit = {
			gdp_var > 440000000
		}
		set_variable = {
			name = gdp_view
			value = 44
		}
	}
	if = {
		limit = {
			gdp_var > 450000000
		}
		set_variable = {
			name = gdp_view
			value = 45
		}
	}
	if = {
		limit = {
			gdp_var > 460000000
		}
		set_variable = {
			name = gdp_view
			value = 46
		}
	}
	if = {
		limit = {
			gdp_var > 470000000
		}
		set_variable = {
			name = gdp_view
			value = 47
		}
	}
	if = {
		limit = {
			gdp_var > 480000000
		}
		set_variable = {
			name = gdp_view
			value = 48
		}
	}
	if = {
		limit = {
			gdp_var > 490000000
		}
		set_variable = {
			name = gdp_view
			value = 49
		}
	}
	if = {
		limit = {
			gdp_var > 500000000
		}
		set_variable = {
			name = gdp_view
			value = 50
		}
	}
}

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

# ██████╗  █████╗ ███╗   ██╗██╗  ██╗         ██████╗███████╗███╗   ██╗████████╗██████╗  █████╗ ██╗
# ██╔══██╗██╔══██╗████╗  ██║██║ ██╔╝        ██╔════╝██╔════╝████╗  ██║╚══██╔══╝██╔══██╗██╔══██╗██║
# ██████╔╝███████║██╔██╗ ██║█████╔╝         ██║     █████╗  ██╔██╗ ██║   ██║   ██████╔╝███████║██║
# ██╔══██╗██╔══██║██║╚██╗██║██╔═██╗         ██║     ██╔══╝  ██║╚██╗██║   ██║   ██╔══██╗██╔══██║██║
# ██████╔╝██║  ██║██║ ╚████║██║  ██╗███████╗╚██████╗███████╗██║ ╚████║   ██║   ██║  ██║██║  ██║███████╗
# ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═══╝╚═╝  ╚═╝╚══════╝ ╚═════╝╚══════╝╚═╝  ╚═══╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

bank_central_place = {
	capital = {
		save_scope_as = capital_scope
	}
	every_scope_state = {
		if = {
			limit = {
				has_modifier = bank_central_place
			}
			remove_modifier = bank_central_place
		}
	}
	scope:capital_scope = {
		if = {
			limit = {
				has_modifier = bank_central_place
			}
			remove_modifier = bank_central_place
		}
		add_modifier = {
			name = bank_central_place
			#months = short_modifier_time
		}
		if = {
			limit = {
				has_modifier = bank_central_place
				not = {
					has_modifier = bank_central_historic_place
				}
			}
			remove_modifier = bank_central_historic_place
			add_modifier = {
				name = bank_central_historic_place
			}
		}
	}
}

bank_central_destroy = {
	every_scope_state = {
		if = {
			limit = {
				and = {
					has_building = building_bank
					NOT = {
						has_modifier = bank_central_place
					}
				}
			}
			remove_building = building_bank
		}
	}
}

has_central_bank = {
	if = {
		limit = {
			any_scope_state = {
				has_building = building_bank
			}
			not  = {
				has_modifier = has_central_bank
			}
		}
		add_modifier = {
			name = has_central_bank
		}
	}
}

has_not_central_bank = {
	if = {
		limit = {
			has_modifier = has_central_bank
			any_scope_state = {
				not  = {
					has_building = building_bank
				}
			}
		}
		remove_modifier = {
			name = has_central_bank
		}
		#activate_law = law_type:law_no_market_liquidity
	}
}

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

# ███████╗██╗███╗   ██╗ █████╗ ███╗   ██╗ ██████╗██╗ █████╗ ██╗              ██████╗███████╗███╗   ██╗████████╗███████╗██████╗
# ██╔════╝██║████╗  ██║██╔══██╗████╗  ██║██╔════╝██║██╔══██╗██║             ██╔════╝██╔════╝████╗  ██║╚══██╔══╝██╔════╝██╔══██╗
# █████╗  ██║██╔██╗ ██║███████║██╔██╗ ██║██║     ██║███████║██║             ██║     █████╗  ██╔██╗ ██║   ██║   █████╗  ██████╔╝
# ██╔══╝  ██║██║╚██╗██║██╔══██║██║╚██╗██║██║     ██║██╔══██║██║             ██║     ██╔══╝  ██║╚██╗██║   ██║   ██╔══╝  ██╔══██╗
# ██║     ██║██║ ╚████║██║  ██║██║ ╚████║╚██████╗██║██║  ██║███████╗███████╗╚██████╗███████╗██║ ╚████║   ██║   ███████╗██║  ██║
# ╚═╝     ╚═╝╚═╝  ╚═══╝╚═╝  ╚═╝╚═╝  ╚═══╝ ╚═════╝╚═╝╚═╝  ╚═╝╚══════╝╚══════╝ ╚═════╝╚══════╝╚═╝  ╚═══╝   ╚═╝   ╚══════╝╚═╝  ╚═╝

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

financial_center_place = {
    capital = {
        save_scope_as = capital_scope
    }
    every_scope_state = {
        if = {
            limit = {
                has_modifier = financial_center_place
            }
            remove_modifier = financial_center_place
        }
    }
    scope:capital_scope = {
        if = {
            limit = {
                has_modifier = financial_center_place
            }
            remove_modifier = financial_center_place
        }
        add_modifier = {
            name = financial_center_place
        }
        if = {
            limit = {
                and = {
                    has_modifier = financial_center_place
                    not = {
                        has_modifier = financial_center_historic_place
                    }
                }
            }
            remove_modifier = financial_center_historic_place
            add_modifier = {
                name = financial_center_historic_place
            }
        }
    }
}

financial_center_place_spe = {
    every_scope_state = {
        limit = {
            or = {
                has_building = building_financial_centre_fra
                has_building = building_financial_centre_gbr
                has_building = building_financial_centre_usa
                has_building = building_financial_centre_net
                has_building = building_financial_centre_ger
                has_building = building_financial_centre_aus
                has_building = building_financial_centre_ita
                has_building = building_financial_centre_chi
                has_building = building_financial_centre_jap
            }
        }
        save_scope_as = financial_center_place_scope
	}
    every_scope_state = {
        if = {
            limit = {
                has_modifier = financial_center_place_spe
            }
            remove_modifier = financial_center_place_spe
        }
        #financial_center_place
        if = {
            limit = {
                has_modifier = financial_center_place
            }
            remove_modifier = financial_center_place
        }
    }
    scope:financial_center_place_scope = {
        if = {
            limit = {
                has_modifier = financial_center_place_spe
            }
            remove_modifier = financial_center_place_spe
        }
        add_modifier = {
            name = financial_center_place_spe
        }
        if = {
            limit = {
                and = {
                    has_modifier = financial_center_place_spe
                    not = {
                        has_modifier = financial_center_historic_place
                    }
                }
            }
            remove_modifier = financial_center_historic_place
            add_modifier = {
                name = financial_center_historic_place
            }
        }
    }
}

financial_center_destroy = {
    every_scope_state = {
        if = {
            limit = {
                and = {
                    has_building = building_financial_centre
                    NOT = {
                        has_modifier = financial_center_place
                    }
                }
            }
            remove_building = building_financial_centre
        }
    }
}

#Disfonction
financial_center_destroy_spe = {
    every_scope_state = {
        limit = {
            has_building = building_financial_centre

        }
        remove_building = building_financial_centre
    }
}

has_financial_center = {
	if = {
		limit = {
            any_scope_state = {
                or = {
                    has_building = building_financial_centre
                    has_building = building_financial_centre_fra
                    has_building = building_financial_centre_gbr
                    has_building = building_financial_centre_usa
                    has_building = building_financial_centre_net
                    has_building = building_financial_centre_ger
                    has_building = building_financial_centre_aus
                    has_building = building_financial_centre_ita
                    has_building = building_financial_centre_chi
                    has_building = building_financial_centre_jap
                }
            }
            not  = {
                has_modifier = has_financial_center
            }
		}
        add_modifier = {
            name = has_financial_center
        }
    }
}

has_not_financial_center = {
	if = {
		limit = {
            has_modifier = has_financial_center
            any_scope_state = {
                not  = {
                    has_building = building_financial_centre
                    or = {
                        has_building = building_financial_centre_fra
                        has_building = building_financial_centre_gbr
                        has_building = building_financial_centre_usa
                        has_building = building_financial_centre_net
                        has_building = building_financial_centre_ger
                        has_building = building_financial_centre_aus
                        has_building = building_financial_centre_ita
                        has_building = building_financial_centre_chi
                        has_building = building_financial_centre_jap
                    }
                }
            }
		}
        remove_modifier = {
            name = has_financial_center
        }
    }
}

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

# ███╗   ██╗ █████╗ ████████╗██╗ ██████╗ ███╗   ██╗ █████╗ ██╗             ███████╗████████╗ ██████╗  ██████╗██╗  ██╗██████╗ ██╗██╗     ███████╗
# ████╗  ██║██╔══██╗╚══██╔══╝██║██╔═══██╗████╗  ██║██╔══██╗██║             ██╔════╝╚══██╔══╝██╔═══██╗██╔════╝██║ ██╔╝██╔══██╗██║██║     ██╔════╝
# ██╔██╗ ██║███████║   ██║   ██║██║   ██║██╔██╗ ██║███████║██║             ███████╗   ██║   ██║   ██║██║     █████╔╝ ██████╔╝██║██║     █████╗
# ██║╚██╗██║██╔══██║   ██║   ██║██║   ██║██║╚██╗██║██╔══██║██║             ╚════██║   ██║   ██║   ██║██║     ██╔═██╗ ██╔═══╝ ██║██║     ██╔══╝
# ██║ ╚████║██║  ██║   ██║   ██║╚██████╔╝██║ ╚████║██║  ██║███████╗███████╗███████║   ██║   ╚██████╔╝╚██████╗██║  ██╗██║     ██║███████╗███████╗
# ╚═╝  ╚═══╝╚═╝  ╚═╝   ╚═╝   ╚═╝ ╚═════╝ ╚═╝  ╚═══╝╚═╝  ╚═╝╚══════╝╚══════╝╚══════╝   ╚═╝    ╚═════╝  ╚═════╝╚═╝  ╚═╝╚═╝     ╚═╝╚══════╝╚══════╝

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

national_stockpile_place = {
    capital = {
        save_scope_as = capital_scope
    }
    every_scope_state = {
        if = {
            limit = {
                has_modifier = national_stockpile_place
            }
            remove_modifier = national_stockpile_place
        }
    }
    scope:capital_scope = {
        if = {
            limit = {
                has_modifier = national_stockpile_place
            }
            remove_modifier = national_stockpile_place
        }
        add_modifier = {
            name = national_stockpile_place
        }
        if = {
            limit = {
                has_modifier = national_stockpile_place
                not = {
                    has_modifier = national_stockpile_historic_place
                }
            }
            add_modifier = {
                name = national_stockpile_historic_place
            }
        }
    }
}

national_stockpile_destroy = {
    every_scope_state = {
        if = {
            limit = {
                and = {
                    has_building = building_national_stockpile
                    NOT = {
                        has_modifier = national_stockpile_place
                    }
                }
            }
            remove_building = building_national_stockpile
        }
    }
}

has_national_stockpile = {
	if = {
		limit = {
            any_scope_state = {
                has_building = building_national_stockpile
            }
            not  = {
                has_modifier = has_national_stockpile
            }
		}
        add_modifier = {
            name = has_national_stockpile
        }
    }
}

has_not_central_bank = {
	if = {
		limit = {
            has_modifier = has_national_stockpile
            any_scope_state = {
                not  = {
                    has_building = building_national_stockpile
                }
            }
		}
        remove_modifier = {
            name = has_national_stockpile
        }
    }
}

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

# ██████╗  ██████╗       ██╗       ███████╗ ██████╗     ██████╗██████╗ ███████╗ █████╗ ████████╗██╗ ██████╗ ███╗   ██╗
# ██╔══██╗██╔════╝       ██║       ██╔════╝██╔════╝    ██╔════╝██╔══██╗██╔════╝██╔══██╗╚══██╔══╝██║██╔═══██╗████╗  ██║
# ██████╔╝██║         ████████╗    █████╗  ██║         ██║     ██████╔╝█████╗  ███████║   ██║   ██║██║   ██║██╔██╗ ██║
# ██╔══██╗██║         ██╔═██╔═╝    ██╔══╝  ██║         ██║     ██╔══██╗██╔══╝  ██╔══██║   ██║   ██║██║   ██║██║╚██╗██║
# ██████╔╝╚██████╗    ██████║      ██║     ╚██████╗    ╚██████╗██║  ██║███████╗██║  ██║   ██║   ██║╚██████╔╝██║ ╚████║
# ╚═════╝  ╚═════╝    ╚═════╝      ╚═╝      ╚═════╝     ╚═════╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝   ╚═╝   ╚═╝ ╚═════╝ ╚═╝  ╚═══╝

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

## for adding central bank and flavored financial center at game start
initialize_historic_special_macro_facilities = {
	add_technology_researched = financial_center
	add_technology_researched = central_banking
	add_technology_researched = gold_standard
	add_technology_researched = stock_exchange

	$CTRL_BANK_SITE$ = {
		create_building = {
			building = $BANK_BLDG_TYPE$
			level    = $CB_SIZE$
			reserves = 0
		}
		add_modifier = {
			name = bank_central_place
		}
		add_modifier = {
			name = bank_central_historic_place #bank_central_historic_place
		}
		owner = {
			add_modifier = {
				name = has_central_bank
			}
		}
	}
	$FIN_CENT_SITE$ = {
		create_building = {
			building = $FIN_BLDG_TYPE$
			level    = $FC_SIZE$
			reserves = 1
		}
		add_modifier = {
			name = financial_center_place_spe #special
		}
		add_modifier = {
			name = financial_center_historic_place #bank_central_historic_place
		}
		owner = {
			add_modifier = {
				name = has_financial_center
			}
		}
	}
	## doesn't work
	#gdp_view_on_action = yes
	#macro_facilities_on_action = yes
}

## for adding central bank and financial center at game start
initialize_historic_macro_facilities = {
	add_technology_researched = financial_center
	add_technology_researched = central_banking
	add_technology_researched = gold_standard
	add_technology_researched = stock_exchange

	$CTRL_BANK_SITE$ = {
		create_building = {
			building = $BANK_BLDG_TYPE$
			level    = $CB_SIZE$
			reserves = 0
		}
		add_modifier = {
			name = bank_central_place
		}
		add_modifier = {
			name = bank_central_historic_place #bank_central_historic_place
		}
		owner = {
			add_modifier = {
				name = has_central_bank
			}
		}
	}
	$FIN_CENT_SITE$ = {
		create_building = {
			building = $FIN_BLDG_TYPE$
			level    = $FC_SIZE$
			reserves = 1
		}
		add_modifier = {
			name = financial_center_place
		}
		add_modifier = {
			name = financial_center_historic_place #bank_central_historic_place
		}
		owner = {
			add_modifier = {
				name = has_financial_center
			}
		}
	}
	## doesn't work
	#gdp_view_on_action = yes
	#macro_facilities_on_action = yes
}

## for adding national stockpile at game start
initialize_historic_stockpile = {
	add_technology_researched = national_stockpile

	$STOCKPILE_SITE$ = {
		create_building = {
			building = building_national_stockpile
			level = 1
		}
		add_modifier = {
			name = national_stockpile_place
		}
		add_modifier = {
			name = national_stockpile_historic_place #bank_central_historic_place
		}
		owner = {
			add_modifier = {
				name = has_national_stockpile
			}
		}
	}
}

macro_facilities_cb_pass = {
	if = {
		limit = {
			c:USA ?= this
			s:STATE_PENNSYLVANIA = {
				any_scope_state = {
					owner = c:USA
					has_modifier = bank_central_historic_place
				}
			}
		}
		macro_facilities_size_pass = {
			FIN_CENT_SITE  = $FIN_CENT_SITE$
			FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
			CTRL_BANK_SITE = s:STATE_PENNSYLVANIA.region_state:USA
			#BANK_BLDG_TYPE = building_bank_usa
			BANK_BLDG_TYPE = building_bank
		}
	} else = {
		macro_facilities_size_pass = {
			FIN_CENT_SITE  = $FIN_CENT_SITE$
			FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
			CTRL_BANK_SITE = capital
			BANK_BLDG_TYPE = building_bank
		}
	}
}

macro_facilities_fc_pass = {
	#FRA
	if  = {
		limit = {
			c:FRA ?= this
			s:STATE_ILE_DE_FRANCE = {
				any_scope_state = {
					owner = c:FRA
					has_modifier = financial_center_historic_place
				}
			}
		}
		macro_facilities_cb_pass = {
			FIN_CENT_SITE  = s:STATE_ILE_DE_FRANCE.region_state:FRA
			FIN_BLDG_TYPE  = building_financial_centre_fra
		}
	}

	#GBR
	else_if  = {
		limit = {
			c:GBR ?= this
			s:STATE_HOME_COUNTIES = {
				any_scope_state = {
					owner = c:GBR
					has_modifier = financial_center_historic_place
				}
			}
		}
		macro_facilities_cb_pass = {
			FIN_CENT_SITE  = s:STATE_HOME_COUNTIES.region_state:GBR
			FIN_BLDG_TYPE  = building_financial_centre_gbr
		}
	}

	#USA
	else_if  = {
		limit = {
			c:USA ?= this
			s:STATE_NEW_YORK = {
				any_scope_state = {
					owner = c:USA
					has_modifier = financial_center_historic_place
				}
			}
		}
		macro_facilities_cb_pass = {
			FIN_CENT_SITE  = s:STATE_NEW_YORK.region_state:USA
			FIN_BLDG_TYPE  = building_financial_centre_usa
		}
	}

	#net
	else_if  = {
		limit = {
			c:NET ?= this
			s:STATE_HOLLAND = {
				any_scope_state = {
					owner = c:NET
					has_modifier = financial_center_historic_place
				}
			}
		}
		macro_facilities_cb_pass = {
			FIN_CENT_SITE  = s:STATE_HOLLAND.region_state:NET
			FIN_BLDG_TYPE  = building_financial_centre_net
		}
	}

	#pru
	else_if  = {
		limit = {
			c:PRU ?= this
			s:STATE_BRANDENBURG = {
				any_scope_state = {
					owner = c:PRU
					has_modifier = financial_center_historic_place
				}
			}
		}
		macro_facilities_cb_pass = {
			FIN_CENT_SITE  = s:STATE_BRANDENBURG.region_state:PRU
			FIN_BLDG_TYPE  = building_financial_centre_ger
		}
	}

	#ger
	else_if  = {
		limit = {
			c:GER ?= this
			s:STATE_BRANDENBURG = {
				any_scope_state = {
					owner = c:GER
					#TODO: set up logic for creating this modifier on GER establishment
					has_modifier = financial_center_historic_place
				}
			}
		}
		macro_facilities_cb_pass = {
			FIN_CENT_SITE  = s:STATE_BRANDENBURG.region_state:GER
			FIN_BLDG_TYPE  = building_financial_centre_ger
		}
	}

	#aus
	else_if  = {
		limit = {
			c:AUS ?= this
			s:STATE_AUSTRIA = {
				any_scope_state = {
					owner = c:AUS
					has_modifier = financial_center_historic_place
				}
			}
		}
		macro_facilities_cb_pass = {
			FIN_CENT_SITE  = s:STATE_AUSTRIA.region_state:AUS
			FIN_BLDG_TYPE  = building_financial_centre_aus
		}
	}

	#ita
	else_if  = {
		limit = {
			c:ITA ?= this
			s:STATE_LOMBARDY = {
				any_scope_state = {
					owner = c:ITA
					has_modifier = financial_center_historic_place
				}
			}
		}
		macro_facilities_cb_pass = {
			FIN_CENT_SITE  = s:STATE_LOMBARDY.region_state:ITA
			FIN_BLDG_TYPE  = building_financial_centre_ita
		}
	}

	#chi
	else_if  = {
		limit = {
			c:CHI ?= this
			s:STATE_SHAOZHOU = {
				any_scope_state = {
					owner = c:CHI
					has_modifier = financial_center_historic_place
				}
			}
		}
		macro_facilities_cb_pass = {
			FIN_CENT_SITE  = s:STATE_SHAOZHOU.region_state:CHI
			FIN_BLDG_TYPE  = building_financial_centre_chi
		}
	}

	#tpg
	else_if  = {
		limit = {
			c:TPG ?= this
			s:STATE_SHAOZHOU = {
				any_scope_state = {
					owner = c:TPG
					#TODO: set up logic for creating this modifier on TPG establishment
					has_modifier = financial_center_historic_place
				}
			}
		}
		macro_facilities_cb_pass = {
			FIN_CENT_SITE  = s:STATE_SHAOZHOU.region_state:TPG
			FIN_BLDG_TYPE  = building_financial_centre_chi
		}
	}

	#jap
	else_if  = {
		limit = {
			c:JAP ?= this
			s:STATE_KANTO = {
				any_scope_state = {
					owner = c:JAP
					has_modifier = financial_center_historic_place
				}
			}
		}
		macro_facilities_cb_pass = {
			FIN_CENT_SITE  = s:STATE_KANTO.region_state:JAP
			FIN_BLDG_TYPE  = building_financial_centre_jap
		}
	}
	#other
	else = {
		macro_facilities_cb_pass = {
			FIN_CENT_SITE  = capital
			FIN_BLDG_TYPE  = building_financial_centre
		}
	}
}

macro_facilities_on_action = {
	if = {
		limit = { ### check to make sure we're ready and stable enough
			var:gdp_view     >= 1
			country_rank     >= rank_value:unrecognized_regional_power
			is_revolutionary =  no
		}
		macro_facilities_fc_pass = yes
	}
}

macro_facilities = {
	if = {
		limit = { has_technology_researched = financial_center }
		$FIN_CENT_SITE$ = {
			create_building = {
				building = $FIN_BLDG_TYPE$
				level    = $SIZE$
				#reserves=1
			}
		}
	}
	if = {
		limit = { has_technology_researched = central_banking }
		$CTRL_BANK_SITE$ = {
			create_building = {
				building = $BANK_BLDG_TYPE$
				level    = $SIZE$
				#reserves=1
			}
		}
	}
}

macro_facilities_size_pass = {
	switch = {
		trigger = var:gdp_view
		1 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 5
			}
		}
		2 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 10
			}
		}
		3 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 15
			}
		}
		4 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 20
			}
		}
		5 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 25
			}
		}
		6 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 30
			}
		}
		7 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 35
			}
		}
		8 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 40
			}
		}
		9 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 45
			}
		}
		10 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 50
			}
		}
		11 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 55
			}
		}
		12 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 60
			}
		}
		13 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 65
			}
		}
		14 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 70
			}
		}
		15 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 75
			}
		}
		16 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 80
			}
		}
		17 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 85
			}
		}
		18 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 90
			}
		}
		19 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 95
			}
		}
		20 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 100
			}
		}
		21 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 105
			}
		}
		22 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 110
			}
		}
		23 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 115
			}
		}
		24 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 120
			}
		}
		25 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 125
			}
		}
		26 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 130
			}
		}
		27 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 135
			}
		}
		28 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 140
			}
		}
		29 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 145
			}
		}
		30 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 150
			}
		}
		31 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 155
			}
		}
		32 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 160
			}
		}
		33 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 165
			}
		}
		34 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 170
			}
		}
		35 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 175
			}
		}
		36 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 180
			}
		}
		37 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 185
			}
		}
		38 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 190
			}
		}
		39 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 195
			}
		}
		40 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 200
			}
		}
		41 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 205
			}
		}
		42 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 210
			}
		}
		43 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 215
			}
		}
		44 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 220
			}
		}
		45 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 225
			}
		}
		46 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 230
			}
		}
		47 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 235
			}
		}
		48 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 240
			}
		}
		49 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 245
			}
		}
		50 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 250
			}
		}
		51 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 255
			}
		}
		52 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 260
			}
		}
		53 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 265
			}
		}
		54 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 270
			}
		}
		55 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 275
			}
		}
		56 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 280
			}
		}
		57 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 285
			}
		}
		58 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 290
			}
		}
		59 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 295
			}
		}
		60 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 300
			}
		}
		61 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 305
			}
		}
		62 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 310
			}
		}
		63 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 315
			}
		}
		64 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 320
			}
		}
		65 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 325
			}
		}
		66 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 330
			}
		}
		67 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 335
			}
		}
		68 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 340
			}
		}
		69 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 345
			}
		}
		70 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 350
			}
		}
		71 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 355
			}
		}
		72 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 360
			}
		}
		73 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 365
			}
		}
		74 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 370
			}
		}
		75 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 375
			}
		}
		76 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 380
			}
		}
		77 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 385
			}
		}
		78 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 390
			}
		}
		79 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 395
			}
		}
		80 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 400
			}
		}
		81 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 405
			}
		}
		82 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 410
			}
		}
		83 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 415
			}
		}
		84 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 420
			}
		}
		85 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 425
			}
		}
		86 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 430
			}
		}
		87 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 435
			}
		}
		88 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 440
			}
		}
		89 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 445
			}
		}
		90 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 450
			}
		}
		91 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 455
			}
		}
		92 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 460
			}
		}
		93 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 465
			}
		}
		94 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 470
			}
		}
		95 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 475
			}
		}
		96 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 480
			}
		}
		97 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 485
			}
		}
		98 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 490
			}
		}
		99 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 495
			}
		}
		100 = {
			macro_facilities = {
				FIN_CENT_SITE  = $FIN_CENT_SITE$
				FIN_BLDG_TYPE  = $FIN_BLDG_TYPE$
				CTRL_BANK_SITE = $CTRL_BANK_SITE$
				BANK_BLDG_TYPE = $BANK_BLDG_TYPE$
				SIZE           = 500
			}
		}
	}
}

has_tech_central_bank_but_no_building_central_bank = {
	### redundancy: treated in event original_currency_event.1
	capital = {
		save_scope_as = central_bank_site
	}
	if = {
		limit = { ### check to make sure we're ready and stable enough
			#var:gdp_view = 1
			#country_rank >= rank_value:unrecognized_regional_power
			has_technology_researched = central_banking
			is_revolutionary = no
			not  = {
				#has_modifier = has_central_bank #for the future replace all occurrences to the building for occurrences to the country modifier
				any_scope_state = {
					has_building = building_bank
				}
			}
		}
		### redundancy: treated in event original_currency_event.1
		scope:central_bank_site = {
			create_building = {
			   building = building_bank
			   level = 5
			   #reserves=1
			}
		}
        add_modifier = {
            name = has_central_bank
        }
		if = {
			limit = {
				has_law = law_type:law_no_market_liquidity
			}
			trigger_event = {
				id = original_currency_event.1
			}
		}
	}
}
has_tech_financial_center_but_no_building_financial_center = {
	### redundancy: treated in event original_currency_event.1
	capital = {
		save_scope_as = financial_center_site
	}
	if = {
		limit = { ### check to make sure we're ready and stable enough
			has_technology_researched = financial_center
			is_revolutionary = no
			not = {
				has_modifier = has_financial_center 
			}
		}
		scope:financial_center_site = {
			create_building = {
			   building = building_financial_centre
			   level = 5
			   #reserves=1
			}
		}
        add_modifier = {
            name = has_financial_center
        }
	}
}

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

# ███╗   ██╗ █████╗ ████████╗██╗ ██████╗ ███╗   ██╗ █████╗ ██╗             ███████╗████████╗ ██████╗  ██████╗██╗  ██╗██████╗ ██╗██╗     ███████╗
# ████╗  ██║██╔══██╗╚══██╔══╝██║██╔═══██╗████╗  ██║██╔══██╗██║             ██╔════╝╚══██╔══╝██╔═══██╗██╔════╝██║ ██╔╝██╔══██╗██║██║     ██╔════╝
# ██╔██╗ ██║███████║   ██║   ██║██║   ██║██╔██╗ ██║███████║██║             ███████╗   ██║   ██║   ██║██║     █████╔╝ ██████╔╝██║██║     █████╗
# ██║╚██╗██║██╔══██║   ██║   ██║██║   ██║██║╚██╗██║██╔══██║██║             ╚════██║   ██║   ██║   ██║██║     ██╔═██╗ ██╔═══╝ ██║██║     ██╔══╝
# ██║ ╚████║██║  ██║   ██║   ██║╚██████╔╝██║ ╚████║██║  ██║███████╗███████╗███████║   ██║   ╚██████╔╝╚██████╗██║  ██╗██║     ██║███████╗███████╗
# ╚═╝  ╚═══╝╚═╝  ╚═╝   ╚═╝   ╚═╝ ╚═════╝ ╚═╝  ╚═══╝╚═╝  ╚═╝╚══════╝╚══════╝╚══════╝   ╚═╝    ╚═════╝  ╚═════╝╚═╝  ╚═╝╚═╝     ╚═╝╚══════╝╚══════╝
#
#  ██████╗██████╗ ███████╗ █████╗ ████████╗██╗ ██████╗ ███╗   ██╗
# ██╔════╝██╔══██╗██╔════╝██╔══██╗╚══██╔══╝██║██╔═══██╗████╗  ██║
# ██║     ██████╔╝█████╗  ███████║   ██║   ██║██║   ██║██╔██╗ ██║
# ██║     ██╔══██╗██╔══╝  ██╔══██║   ██║   ██║██║   ██║██║╚██╗██║
# ╚██████╗██║  ██║███████╗██║  ██║   ██║   ██║╚██████╔╝██║ ╚████║
#  ╚═════╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝   ╚═╝   ╚═╝ ╚═════╝ ╚═╝  ╚═══╝

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

national_stockpile_1 = {
    capital = {
        save_scope_as = national_stockpile_site
    }
	if = {
		limit = {
            is_revolutionary = no
            or = {
                has_technology_researched = national_stockpile
                country_rank >= rank_value:great_power
            }
            not  = {
                or = {
                    is_subject = yes
                    is_subject_type = subject_type_customs_union
                    is_subject_type = subject_type_protectorate
                }
            }
		}
        scope:national_stockpile_site = {
            create_building = {
               building = building_national_stockpile
               level = 1
               #reserves=1
            }
        }
    }
}
