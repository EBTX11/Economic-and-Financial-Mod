#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

# ██████╗  ██████╗ ███╗   ██╗██████╗
# ██╔══██╗██╔═══██╗████╗  ██║██╔══██╗
# ██████╔╝██║   ██║██╔██╗ ██║██║  ██║
# ██╔══██╗██║   ██║██║╚██╗██║██║  ██║
# ██████╔╝╚██████╔╝██║ ╚████║██████╔╝
# ╚═════╝  ╚═════╝ ╚═╝  ╚═══╝╚═════╝
#
#  ██████╗ ███╗   ██╗    ██╗ ██████╗ ███████╗███████╗
# ██╔═══██╗████╗  ██║   ██╔╝██╔═══██╗██╔════╝██╔════╝
# ██║   ██║██╔██╗ ██║  ██╔╝ ██║   ██║█████╗  █████╗
# ██║   ██║██║╚██╗██║ ██╔╝  ██║   ██║██╔══╝  ██╔══╝
# ╚██████╔╝██║ ╚████║██╔╝   ╚██████╔╝██║     ██║
#  ╚═════╝ ╚═╝  ╚═══╝╚═╝     ╚═════╝ ╚═╝     ╚═╝

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

#bond
bond_5Y = {
	effect = {
		set_variable = {
			name = trade_bond_var
			value = 1
		}
	}
}
bond_10Y = {
	effect = {
		set_variable = {
			name = trade_bond_var
			value = 0
		}
	}
}
bond_5Y_v = {
	is_shown = {
		var:trade_bond_var = 1
	}
}
bond_10Y_v = {
	is_shown = {
		var:trade_bond_var = 0
	}
}

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

# ai_quantity_purchasing_1_visibility = {
# 	is_shown = {
# 		has_modifier = 10_year_buyer_maturity_seller_1
# 	}
# }

# ai_quantity_purchasing_2_visibility = {
# 	is_shown = {
# 		has_modifier = 10_year_buyer_maturity_seller_2
# 	}
# }

# ai_quantity_purchasing_3_visibility = {
# 	is_shown = {
# 		has_modifier = 10_year_buyer_maturity_seller_3
# 	}
# }

# ai_quantity_purchasing_4_visibility = {
# 	is_shown = {
# 		has_modifier = 10_year_buyer_maturity_seller_4
# 	}
# }

# ai_quantity_purchasing_5_visibility = {
# 	is_shown = {
# 		has_modifier = 10_year_buyer_maturity_seller_5
# 	}
# }

# ai_seller = {
# 	is_shown = {
# 		is_ai = yes
# 	}
# }

ai_quantity_purchasing_1_visibility = {
	is_shown = {
		gold_lent_to_other > 0
	}
}

ai_seller = {
	is_shown = {
		is_ai = yes
	}
}

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

global_player_help_on = {
	effect = {
		set_variable = {
			name = player_help
			value = 0
		}
		set_variable = {
			name = player_help_reverce
			value = 0
		}
	}
}
global_player_help_on_visible = {
	is_shown = {
		var:player_help = 1
		var:player_help_reverce = 1
	}
}
global_player_help_off = {
	effect = {
		set_variable = {
			name = player_help
			value = 1
		}
		set_variable = {
			name = player_help_reverce
			value = 1
		}
	}
}
global_player_help_off_visible = {
	is_shown = {
		var:player_help = 0
		var:player_help_reverce = 0
	}
}

increase_bond_quantity = {
	is_valid = {
		#has_variable = bond_release_quantity
		#bond_release_predicted < stockpiling_bond_var_state #chose la plus importante du mod
		##var:bond_store_status = 0
		#var:bond_release_status = 0
		var:bond_quantity < 1000000
	}
	effect = {
		if = {
			limit = {
			}
			change_variable = {
				name = bond_quantity
				add = 50000
			}
		}
	}
}
reduce_bond_quantity = {
	is_valid = {
		#has_variable = bond_release_quantity
		var:bond_quantity > 50000
		#var:bond_store_status = 0
		#var:bond_release_status = 0
	}
	effect = {
		if = {
			limit = {
			}
			change_variable = {
				name = bond_quantity
				subtract = 50000
			}
		}
	}
}

#####################################################################################################################################################
#bond in gold
#####################################################################################################################################################

#5Y
buy_bond_5Y_market_panel_enabled = {
	is_valid = {
		#stockpiling_bond_var_state > player.var:bond_quantity
		#player.var:buy_bond_5Y_market_panel_6_on = 0
		player.gold_reserves_var > price_bond
		price_bond < remaining_debt
		has_modifier = has_financial_center
		player  = {
			has_modifier = has_financial_center
		}
		not = {
			player.buy_bond_order_valid_5Y = 0
		}
	}
	effect = {
		custom_tooltip = {
			text = buy_bond_5Y_custom_tooltip
		}
	}
}
buy_bond_market_panel_5Y = {
	effect = {
		every_country = {
			if = {
				limit = {
					is_player = yes
				}
				save_scope_as = player
			}
		}

		scope:player = {
			change_variable = {
				name = bond_5Y_order
				add = 1
			}
		}

		if = {
			limit = {
				scope:player  = {
					var:bond_5Y_order = 1
					var:buy_bond_6_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_6
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_6
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_6
					# 	target = scope:seller #prev
					# }

					add_to_variable_list = {
						name = seller_country_general_6
						target = scope:seller #prev
					}

					#selle_bond_maturity_yers_time_6
					# change_variable = {
					# 	name = selle_bond_maturity_yers_time_6
					# 	add = 1
					# }

					#quantité
					set_variable = {
						name = bond_quantity_6
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_6
						value = var:bond_quantity_6
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_6
						value = scope:seller.interest_value_5Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_6
						value = 1
					}
					change_variable = {
						name = total_bond_value_6
						multiply = var:bond_quantity_6 #bond quantité
					}
					change_variable = {
						name = total_bond_value_6
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_6
						value = var:total_bond_value_6
					}
					change_variable = {
						name = interest_calculated_6
						multiply = scope:seller.interest_value_5Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_6
						value = var:interest_calculated_6
					}
					change_variable = {
						name = interest_at_term_calculated_6
						multiply = 5
					}

					set_variable = {
						name = interest_per_month_calculated_6
						value = var:interest_at_term_calculated_6
					}
					change_variable = {
						name = interest_per_month_calculated_6
						divide = 60
					}
					set_variable = {
						name = maturity_time_6
						value = 5
					}
				}

				set_variable = {
					name = interest_per_month_calculated_6_for_player
					value = scope:buyer.var:interest_per_month_calculated_6
				}

				#################

				# if = {
				# 	limit = {
				# 		player.var:bond_in_on = 0
				# 	}
					#or prété à la banque du pays vendeur
					change_variable = {
						name = gold_loaned_to_central_bank
						add = 0 #6
					}
				# }

				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #6
				}
			}
			scope:buyer = {
				add_treasury = {
					subtract = var:total_bond_value_6
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_1_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_6_on
					value = 1
				}
			}
		}
		#_2
		if = {
			limit = {
				scope:player  = {
					var:bond_5Y_order = 2
					var:buy_bond_7_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_7
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_7
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_7
					# 	target = scope:seller #prev
					# }
					add_to_variable_list = {
						name = seller_country_general_7
						target = scope:seller #prev
					}

					#selle_bond_maturity_yers_time_7
					# change_variable = {
					# 	name = selle_bond_maturity_yers_time_7
					# 	add = 1
					# }

					#quantité
					set_variable = {
						name = bond_quantity_7
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_7
						value = var:bond_quantity_7
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_7
						value = scope:seller.interest_value_5Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_7
						value = 1
					}
					change_variable = {
						name = total_bond_value_7
						multiply = var:bond_quantity_7 #bond quantité
					}
					change_variable = {
						name = total_bond_value_7
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_7
						value = var:total_bond_value_7
					}
					change_variable = {
						name = interest_calculated_7
						multiply = scope:seller.interest_value_5Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_7
						value = var:interest_calculated_7
					}
					change_variable = {
						name = interest_at_term_calculated_7
						multiply = 5
					}

					set_variable = {
						name = interest_per_month_calculated_7
						value = var:interest_at_term_calculated_7
					}
					change_variable = {
						name = interest_per_month_calculated_7
						divide = 60
					}
					set_variable = {
						name = maturity_time_7
						value = 5
					}
				}

				set_variable = {
					name = interest_per_month_calculated_7_for_player
					value = scope:buyer.var:interest_per_month_calculated_7
				}

				#################
				set_variable = {
					name = interest_per_month_calculated_7_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #7
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #7
				}
			}
			scope:buyer = {
				add_treasury = {
					subtract = var:total_bond_value_7
				}
				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_7_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_7_on
					value = 1
				}
			}
		}
		if = {
			limit = {
				scope:player  = {
					var:bond_5Y_order = 3
					var:buy_bond_8_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_8
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_8
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_8
					# 	target = scope:seller #prev
					# }
					add_to_variable_list = {
						name = seller_country_general_8
						target = scope:seller #prev
					}

					#selle_bond_maturity_yers_time_8
					# change_variable = {
					# 	name = selle_bond_maturity_yers_time_8
					# 	add = 1
					# }

					#quantité
					set_variable = {
						name = bond_quantity_8
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_8
						value = var:bond_quantity_8
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_8
						value = scope:seller.interest_value_5Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_8
						value = 1
					}
					change_variable = {
						name = total_bond_value_8
						multiply = var:bond_quantity_8 #bond quantité
					}
					change_variable = {
						name = total_bond_value_8
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_8
						value = var:total_bond_value_8
					}
					change_variable = {
						name = interest_calculated_8
						multiply = scope:seller.interest_value_5Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_8
						value = var:interest_calculated_8
					}
					change_variable = {
						name = interest_at_term_calculated_8
						multiply = 5
					}

					set_variable = {
						name = interest_per_month_calculated_8
						value = var:interest_at_term_calculated_8
					}
					change_variable = {
						name = interest_per_month_calculated_8
						divide = 60
					}
					set_variable = {
						name = maturity_time_8
						value = 5
					}
				}

				set_variable = {
					name = interest_per_month_calculated_8_for_player
					value = scope:buyer.var:interest_per_month_calculated_8
				}

				#################
				set_variable = {
					name = interest_per_month_calculated_8_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #8
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #8
				}
			}
			scope:buyer = {
				add_treasury = {
					subtract = var:total_bond_value_8
				}
				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_8_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_8_on
					value = 1
				}
			}
		}
		if = {
			limit = {
				scope:player  = {
					var:bond_5Y_order = 4
					var:buy_bond_9_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_9
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_9
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_9
					# 	target = scope:seller #prev
					# }
					add_to_variable_list = {
						name = seller_country_general_9
						target = scope:seller #prev
					}

					#selle_bond_maturity_yers_time_9
					# change_variable = {
					# 	name = selle_bond_maturity_yers_time_9
					# 	add = 1
					# }

					#quantité
					set_variable = {
						name = bond_quantity_9
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_9
						value = var:bond_quantity_9
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_9
						value = scope:seller.interest_value_5Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_9
						value = 1
					}
					change_variable = {
						name = total_bond_value_9
						multiply = var:bond_quantity_9 #bond quantité
					}
					change_variable = {
						name = total_bond_value_9
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_9
						value = var:total_bond_value_9
					}
					change_variable = {
						name = interest_calculated_9
						multiply = scope:seller.interest_value_5Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_9
						value = var:interest_calculated_9
					}
					change_variable = {
						name = interest_at_term_calculated_9
						multiply = 5
					}

					set_variable = {
						name = interest_per_month_calculated_9
						value = var:interest_at_term_calculated_9
					}
					change_variable = {
						name = interest_per_month_calculated_9
						divide = 60
					}
					set_variable = {
						name = maturity_time_9
						value = 5
					}
				}

				set_variable = {
					name = interest_per_month_calculated_9_for_player
					value = scope:buyer.var:interest_per_month_calculated_9
				}

				#################
				set_variable = {
					name = interest_per_month_calculated_9_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #9
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #9
				}
			}
			scope:buyer = {
				add_treasury = {
					subtract = var:total_bond_value_9
				}
				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_9_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_9_on
					value = 1
				}
			}
		}
		if = {
			limit = {
				scope:player  = {
					var:bond_5Y_order = 5
					var:buy_bond_10_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_10
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_10
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_10
					# 	target = scope:seller #prev
					# }
					add_to_variable_list = {
						name = seller_country_general_10
						target = scope:seller #prev
					}

					#selle_bond_maturity_yers_time_10
					# change_variable = {
					# 	name = selle_bond_maturity_yers_time_10
					# 	add = 1
					# }

					#quantité
					set_variable = {
						name = bond_quantity_10
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_10
						value = var:bond_quantity_10
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_10
						value = scope:seller.interest_value_5Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_10
						value = 1
					}
					change_variable = {
						name = total_bond_value_10
						multiply = var:bond_quantity_10 #bond quantité
					}
					change_variable = {
						name = total_bond_value_10
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_10
						value = var:total_bond_value_10
					}
					change_variable = {
						name = interest_calculated_10
						multiply = scope:seller.interest_value_5Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_10
						value = var:interest_calculated_10
					}
					change_variable = {
						name = interest_at_term_calculated_10
						multiply = 5
					}

					set_variable = {
						name = interest_per_month_calculated_10
						value = var:interest_at_term_calculated_10
					}
					change_variable = {
						name = interest_per_month_calculated_10
						divide = 60
					}
					set_variable = {
						name = maturity_time_10
						value = 5
					}
				}

				set_variable = {
					name = interest_per_month_calculated_10_for_player
					value = scope:buyer.var:interest_per_month_calculated_10
				}

				#################
				set_variable = {
					name = interest_per_month_calculated_10_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #10
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #10
				}
			}
			scope:buyer = {
				add_treasury = {
					subtract = var:total_bond_value_10
				}
				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_10_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_10_on
					value = 1
				}
			}
		}

		#reset
		if = {
			limit = {
				scope:player  = {
					var:bond_5Y_order >= 5
				}
			}
			scope:player  = {
				set_variable = {
					name = bond_5Y_order
					value = 0
				}
			}
		}

	}
}

#10
buy_bond_10Y_market_panel_enabled = {
	is_valid = {
		#stockpiling_bond_var_state > player.var:bond_quantity
		player.gold_reserves_var > price_bond
		price_bond < remaining_debt
		has_modifier = has_financial_center
		player = {
			has_modifier = has_financial_center
		}
		not = {
			player.buy_bond_order_valid_10Y = 0
		} 
	}
	effect = {
		custom_tooltip = {
			text = buy_bond_10Y_custom_tooltip
		}
	}
}
buy_bond_market_panel_10Y = {
	effect = {
		every_country = {
			if = {
				limit = {
					is_player = yes
				}
				save_scope_as = player
			}
		}

		scope:player = {
			change_variable = {
				name = bond_10Y_order
				add = 1
			}
		}

		if = {
			limit = {
				scope:player  = {
					var:bond_10Y_order = 1
					#var:buy_bond_1_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_1
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_1
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_1
					# 	target = scope:seller #prev
					# }
					add_to_variable_list = {
						name = seller_country_general_1
						target = scope:seller #prev
					}

					#selle_bond_maturity_yers_time_1
					# change_variable = {
					# 	name = selle_bond_maturity_yers_time_1
					# 	add = 1
					# }

					#quantité
					set_variable = {
						name = bond_quantity_1
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_1
						value = var:bond_quantity_1
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_1
						value = scope:seller.interest_value_10Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_1
						value = 1
					}
					change_variable = {
						name = total_bond_value_1
						multiply = var:bond_quantity_1 #bond quantité
					}
					change_variable = {
						name = total_bond_value_1
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_1
						value = var:total_bond_value_1
					}
					change_variable = {
						name = interest_calculated_1
						multiply = scope:seller.interest_value_10Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_1
						value = var:interest_calculated_1
					}
					change_variable = {
						name = interest_at_term_calculated_1
						multiply = 10
					}

					set_variable = {
						name = interest_per_month_calculated_1
						value = var:interest_at_term_calculated_1
					}
					change_variable = {
						name = interest_per_month_calculated_1
						divide = 120
					}
					set_variable = {
						name = maturity_time_1
						value = 10
					}
				}

				#################
				set_variable = {
					name = interest_per_month_calculated_1_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #1
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #1
				}
			}
			scope:buyer = {
				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_1_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_1_on
					value = 1
				}
			}
		}
		if = {
			limit = {
				scope:player  = {
					var:bond_10Y_order = 2
					var:buy_bond_2_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_2
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_2
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_2
					# 	target = scope:seller #prev
					# }
					add_to_variable_list = {
						name = seller_country_general_2
						target = scope:seller #prev
					}

					#selle_bond_maturity_yers_time_2
					# change_variable = {
					# 	name = selle_bond_maturity_yers_time_2
					# 	add = 1
					# }

					#quantité
					set_variable = {
						name = bond_quantity_2
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_2
						value = var:bond_quantity_2
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_2
						value = scope:seller.interest_value_10Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_2
						value = 1
					}
					change_variable = {
						name = total_bond_value_2
						multiply = var:bond_quantity_2 #bond quantité
					}
					change_variable = {
						name = total_bond_value_2
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_2
						value = var:total_bond_value_2
					}
					change_variable = {
						name = interest_calculated_2
						multiply = scope:seller.interest_value_10Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_2
						value = var:interest_calculated_2
					}
					change_variable = {
						name = interest_at_term_calculated_2
						multiply = 10
					}

					set_variable = {
						name = interest_per_month_calculated_2
						value = var:interest_at_term_calculated_2
					}
					change_variable = {
						name = interest_per_month_calculated_2
						divide = 120
					}
					set_variable = {
						name = maturity_time_2
						value = 10
					}
				}

				set_variable = {
					name = interest_per_month_calculated_2_for_player
					value = scope:buyer.var:interest_per_month_calculated_2
				}

				#################
				set_variable = {
					name = interest_per_month_calculated_2_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #2
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #2
				}
			}
			scope:buyer = {
				add_treasury = {
					subtract = var:total_bond_value_2
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_2_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_2_on
					value = 1
				}
			}
		}
		if = {
			limit = {
				scope:player  = {
					var:bond_10Y_order = 3
					var:buy_bond_3_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_3
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_3
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_3
					# 	target = scope:seller #prev
					# }
					add_to_variable_list = {
						name = seller_country_general_3
						target = scope:seller #prev
					}

					#selle_bond_maturity_yers_time_3
					# change_variable = {
					# 	name = selle_bond_maturity_yers_time_3
					# 	add = 1
					# }

					#quantité
					set_variable = {
						name = bond_quantity_3
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_3
						value = var:bond_quantity_3
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_3
						value = scope:seller.interest_value_10Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_3
						value = 1
					}
					change_variable = {
						name = total_bond_value_3
						multiply = var:bond_quantity_3 #bond quantité
					}
					change_variable = {
						name = total_bond_value_3
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_3
						value = var:total_bond_value_3
					}
					change_variable = {
						name = interest_calculated_3
						multiply = scope:seller.interest_value_10Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_3
						value = var:interest_calculated_3
					}
					change_variable = {
						name = interest_at_term_calculated_3
						multiply = 10
					}

					set_variable = {
						name = interest_per_month_calculated_3
						value = var:interest_at_term_calculated_3
					}
					change_variable = {
						name = interest_per_month_calculated_3
						divide = 120
					}
					set_variable = {
						name = maturity_time_3
						value = 10
					}
				}

				set_variable = {
					name = interest_per_month_calculated_3_for_player
					value = scope:buyer.var:interest_per_month_calculated_3
				}

				#################
				set_variable = {
					name = interest_per_month_calculated_3_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #3
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #3
				}
			}
			scope:buyer = {
				add_treasury = {
					subtract = var:total_bond_value_3
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_3_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_3_on
					value = 1
				}
			}
		}
		if = {
			limit = {
				scope:player  = {
					var:bond_10Y_order = 4
					var:buy_bond_4_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_4
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_4
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_4
					# 	target = scope:seller #prev
					# }
					add_to_variable_list = {
						name = seller_country_general_4
						target = scope:seller #prev
					}

					#selle_bond_maturity_yers_time_4
					# change_variable = {
					# 	name = selle_bond_maturity_yers_time_4
					# 	add = 1
					# }

					#quantité
					set_variable = {
						name = bond_quantity_4
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_4
						value = var:bond_quantity_4
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_4
						value = scope:seller.interest_value_10Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_4
						value = 1
					}
					change_variable = {
						name = total_bond_value_4
						multiply = var:bond_quantity_4 #bond quantité
					}
					change_variable = {
						name = total_bond_value_4
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_4
						value = var:total_bond_value_4
					}
					change_variable = {
						name = interest_calculated_4
						multiply = scope:seller.interest_value_10Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_4
						value = var:interest_calculated_4
					}
					change_variable = {
						name = interest_at_term_calculated_4
						multiply = 10
					}

					set_variable = {
						name = interest_per_month_calculated_4
						value = var:interest_at_term_calculated_4
					}
					change_variable = {
						name = interest_per_month_calculated_4
						divide = 120
					}
					set_variable = {
						name = maturity_time_4
						value = 10
					}
				}

				set_variable = {
					name = interest_per_month_calculated_4_for_player
					value = scope:buyer.var:interest_per_month_calculated_4
				}

				#################
				set_variable = {
					name = interest_per_month_calculated_4_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #4
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #4
				}
			}
			scope:buyer = {
				add_treasury = {
					subtract = var:total_bond_value_4
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_4_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_4_on
					value = 1
				}
			}
		}
		if = {
			limit = {
				scope:player  = {
					var:bond_10Y_order = 5
					var:buy_bond_5_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_5
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_5
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_5
					# 	target = scope:seller #prev
					# }
					add_to_variable_list = {
						name = seller_country_general_5
						target = scope:seller #prev
					}

					#selle_bond_maturity_yers_time_5
					# change_variable = {
					# 	name = selle_bond_maturity_yers_time_5
					# 	add = 1
					# }

					#quantité
					set_variable = {
						name = bond_quantity_5
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_5
						value = var:bond_quantity_5
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_5
						value = scope:seller.interest_value_10Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_5
						value = 1
					}
					change_variable = {
						name = total_bond_value_5
						multiply = var:bond_quantity_5 #bond quantité
					}
					change_variable = {
						name = total_bond_value_5
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_5
						value = var:total_bond_value_5
					}
					change_variable = {
						name = interest_calculated_5
						multiply = scope:seller.interest_value_10Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_5
						value = var:interest_calculated_5
					}
					change_variable = {
						name = interest_at_term_calculated_5
						multiply = 10
					}

					set_variable = {
						name = interest_per_month_calculated_5
						value = var:interest_at_term_calculated_5
					}
					change_variable = {
						name = interest_per_month_calculated_5
						divide = 120
					}
					set_variable = {
						name = maturity_time_5
						value = 10
					}
				}

				set_variable = {
					name = interest_per_month_calculated_5_for_player
					value = scope:buyer.var:interest_per_month_calculated_5
				}


				#################
				set_variable = {
					name = interest_per_month_calculated_5_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #5
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #5
				}
			}
			scope:buyer = {
				add_treasury = {
					subtract = var:total_bond_value_5
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_5_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_5_on
					value = 1
				}
			}
		}

		#reset
		if = {
			limit = {
				scope:player  = {
					var:bond_10Y_order >= 5
				}
			}
			scope:player  = {
				set_variable = {
					name = bond_10Y_order
					value = 0
				}
			}
		}
	}
}

#####################################################################################################################################################
#bond in currrency
#####################################################################################################################################################
#price_bond_in_currency

#5Y
buy_bond_in_currency_5Y_market_panel_enabled = {
	is_valid = {
		enough_foreign_currrency > price_bond_in_currency
		price_bond < remaining_debt
		has_modifier = has_financial_center
		player  = {
			has_modifier = has_financial_center
		}
		not = {
			player.buy_bond_order_valid_5Y = 0
		}
	}
	effect = {
		custom_tooltip = {
			text = buy_bond_5Y_custom_tooltip
		}
	}
}
buy_bond_in_currrency_market_panel_5Y = {
	effect = {
		every_country = {
			if = {
				limit = {
					is_player = yes
				}
				save_scope_as = player
			}
		}

		scope:player = {
			change_variable = {
				name = bond_5Y_order
				add = 1
			}
		}
		#_6
		if = {
			limit = {
				scope:player  = {
					var:bond_5Y_order = 1
					var:buy_bond_6_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_6
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_6
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_6
					# 	target = scope:seller #prev
					# }

					add_to_variable_list = {
						name = seller_country_general_in_currency_6
						target = scope:seller #prev
					}

					#quantité
					set_variable = {
						name = bond_quantity_6
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_6
						value = var:bond_quantity_6
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_6
						value = scope:seller.interest_value_5Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_6
						value = 1
					}
					change_variable = {
						name = total_bond_value_6
						multiply = var:bond_quantity_6 #bond quantité
					}
					change_variable = {
						name = total_bond_value_6
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_6
						value = var:total_bond_value_6
					}
					change_variable = {
						name = interest_calculated_6
						multiply = scope:seller.interest_value_5Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_6
						value = var:interest_calculated_6
					}
					change_variable = {
						name = interest_at_term_calculated_6
						multiply = 5
					}

					set_variable = {
						name = interest_per_month_calculated_6
						value = var:interest_at_term_calculated_6
					}

					change_variable = {
						name = interest_per_month_calculated_6
						divide = 60
					}
					set_variable = {
						name = maturity_time_6
						value = 5
					}
				}

				set_variable = {
					name = interest_per_month_calculated_6_for_player
					value = scope:buyer.var:interest_per_month_calculated_6
				}
				#################
				set_variable = {
					name = interest_per_month_calculated_6_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #6
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #6
				}
			}
			scope:buyer = {
				buy_bond_in_currrency_var =  {
					PBIC_1 = scope:seller.price_bond_in_currency_for_gui
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_6_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_6_on
					value = 1
				}
			}
		}
		#_7
		if = {
			limit = {
				scope:player  = {
					var:bond_5Y_order = 2
					var:buy_bond_7_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_7
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_7
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_7
					# 	target = scope:seller #prev
					# }

					add_to_variable_list = {
						name = seller_country_general_in_currency_7
						target = scope:seller #prev
					}

					#quantité
					set_variable = {
						name = bond_quantity_7
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_7
						value = var:bond_quantity_7
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_7
						value = scope:seller.interest_value_5Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_7
						value = 1
					}
					change_variable = {
						name = total_bond_value_7
						multiply = var:bond_quantity_7 #bond quantité
					}
					change_variable = {
						name = total_bond_value_7
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_7
						value = var:total_bond_value_7
					}
					change_variable = {
						name = interest_calculated_7
						multiply = scope:seller.interest_value_5Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_7
						value = var:interest_calculated_7
					}
					change_variable = {
						name = interest_at_term_calculated_7
						multiply = 5
					}

					set_variable = {
						name = interest_per_month_calculated_7
						value = var:interest_at_term_calculated_7
					}

					change_variable = {
						name = interest_per_month_calculated_7
						divide = 60
					}
					set_variable = {
						name = maturity_time_7
						value = 5
					}
				}

				set_variable = {
					name = interest_per_month_calculated_7_for_player
					value = scope:buyer.var:interest_per_month_calculated_7
				}
				#################
				set_variable = {
					name = interest_per_month_calculated_7_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #7
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #7
				}
			}
			scope:buyer = {
				buy_bond_in_currrency_var =  {
					PBIC_1 = scope:seller.price_bond_in_currency_for_gui
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_7_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_7_on
					value = 1
				}
			}
		}
		#_8
		if = {
			limit = {
				scope:player  = {
					var:bond_5Y_order = 3
					var:buy_bond_8_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_8
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_8
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_8
					# 	target = scope:seller #prev
					# }

					add_to_variable_list = {
						name = seller_country_general_in_currency_8
						target = scope:seller #prev
					}

					#quantité
					set_variable = {
						name = bond_quantity_8
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_8
						value = var:bond_quantity_8
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_8
						value = scope:seller.interest_value_5Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_8
						value = 1
					}
					change_variable = {
						name = total_bond_value_8
						multiply = var:bond_quantity_8 #bond quantité
					}
					change_variable = {
						name = total_bond_value_8
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_8
						value = var:total_bond_value_8
					}
					change_variable = {
						name = interest_calculated_8
						multiply = scope:seller.interest_value_5Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_8
						value = var:interest_calculated_8
					}
					change_variable = {
						name = interest_at_term_calculated_8
						multiply = 5
					}

					set_variable = {
						name = interest_per_month_calculated_8
						value = var:interest_at_term_calculated_8
					}

					change_variable = {
						name = interest_per_month_calculated_8
						divide = 60
					}
					set_variable = {
						name = maturity_time_8
						value = 5
					}
				}

				set_variable = {
					name = interest_per_month_calculated_8_for_player
					value = scope:buyer.var:interest_per_month_calculated_8
				}
				#################
				set_variable = {
					name = interest_per_month_calculated_8_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #8
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #8
				}
			}
			scope:buyer = {
				buy_bond_in_currrency_var =  {
					PBIC_1 = scope:seller.price_bond_in_currency_for_gui
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_8_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_8_on
					value = 1
				}
			}
		}
		#_9
		if = {
			limit = {
				scope:player  = {
					var:bond_5Y_order = 4
					var:buy_bond_9_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_9
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_9
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_9
					# 	target = scope:seller #prev
					# }

					add_to_variable_list = {
						name = seller_country_general_in_currency_9
						target = scope:seller #prev
					}

					#quantité
					set_variable = {
						name = bond_quantity_9
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_9
						value = var:bond_quantity_9
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_9
						value = scope:seller.interest_value_5Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_9
						value = 1
					}
					change_variable = {
						name = total_bond_value_9
						multiply = var:bond_quantity_9 #bond quantité
					}
					change_variable = {
						name = total_bond_value_9
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_9
						value = var:total_bond_value_9
					}
					change_variable = {
						name = interest_calculated_9
						multiply = scope:seller.interest_value_5Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_9
						value = var:interest_calculated_9
					}
					change_variable = {
						name = interest_at_term_calculated_9
						multiply = 5
					}

					set_variable = {
						name = interest_per_month_calculated_9
						value = var:interest_at_term_calculated_9
					}

					change_variable = {
						name = interest_per_month_calculated_9
						divide = 60
					}
					set_variable = {
						name = maturity_time_9
						value = 5
					}
				}

				set_variable = {
					name = interest_per_month_calculated_9_for_player
					value = scope:buyer.var:interest_per_month_calculated_9
				}
				#################
				set_variable = {
					name = interest_per_month_calculated_9_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #9
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #9
				}
			}
			scope:buyer = {
				buy_bond_in_currrency_var =  {
					PBIC_1 = scope:seller.price_bond_in_currency_for_gui
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_9_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_9_on
					value = 1
				}
			}
		}
		#_10
		if = {
			limit = {
				scope:player  = {
					var:bond_5Y_order = 5
					var:buy_bond_10_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_10
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_10
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_10
					# 	target = scope:seller #prev
					# }

					add_to_variable_list = {
						name = seller_country_general_in_currency_10
						target = scope:seller #prev
					}

					#quantité
					set_variable = {
						name = bond_quantity_10
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_10
						value = var:bond_quantity_10
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_10
						value = scope:seller.interest_value_5Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_10
						value = 1
					}
					change_variable = {
						name = total_bond_value_10
						multiply = var:bond_quantity_10 #bond quantité
					}
					change_variable = {
						name = total_bond_value_10
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_10
						value = var:total_bond_value_10
					}
					change_variable = {
						name = interest_calculated_10
						multiply = scope:seller.interest_value_5Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_10
						value = var:interest_calculated_10
					}
					change_variable = {
						name = interest_at_term_calculated_10
						multiply = 5
					}

					set_variable = {
						name = interest_per_month_calculated_10
						value = var:interest_at_term_calculated_10
					}

					change_variable = {
						name = interest_per_month_calculated_10
						divide = 60
					}
					set_variable = {
						name = maturity_time_10
						value = 5
					}
				}

				set_variable = {
					name = interest_per_month_calculated_10_for_player
					value = scope:buyer.var:interest_per_month_calculated_10
				}
				#################
				set_variable = {
					name = interest_per_month_calculated_10_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #10
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #10
				}
			}
			scope:buyer = {
				buy_bond_in_currrency_var =  {
					PBIC_1 = scope:seller.price_bond_in_currency_for_gui
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_10_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_10_on
					value = 1
				}
			}
		}

		#reset
		if = {
			limit = {
				scope:player  = {
					var:bond_5Y_order >= 5
				}
			}
			scope:player  = {
				set_variable = {
					name = bond_5Y_order
					value = 0
				}
			}
		}

	}
}

#10Y
buy_bond_in_currency_10Y_market_panel_enabled = {
	is_valid = {
		enough_foreign_currrency > price_bond_in_currency
		price_bond < remaining_debt
		has_modifier = has_financial_center
		player  = {
			has_modifier = has_financial_center
		}
		not = {
			player.buy_bond_order_valid_10Y = 0
		}
	}
	effect = {
		custom_tooltip = {
			text = buy_bond_5Y_custom_tooltip
		}
	}
}
buy_bond_in_currrency_market_panel_10Y = {
	effect = {
		every_country = {
			if = {
				limit = {
					is_player = yes
				}
				save_scope_as = player
			}
		}

		scope:player = {
			change_variable = {
				name = bond_10Y_order
				add = 1
			}
		}
		#_1
		if = {
			limit = {
				scope:player  = {
					var:bond_10Y_order = 1
					var:buy_bond_1_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_1
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_1
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_1
					# 	target = scope:seller #prev
					# }

					add_to_variable_list = {
						name = seller_country_general_in_currency_1
						target = scope:seller #prev
					}

					#quantité
					set_variable = {
						name = bond_quantity_1
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_1
						value = var:bond_quantity_1
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_1
						value = scope:seller.interest_value_10Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_1
						value = 1
					}
					change_variable = {
						name = total_bond_value_1
						multiply = var:bond_quantity_1 #bond quantité
					}
					change_variable = {
						name = total_bond_value_1
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_1
						value = var:total_bond_value_1
					}
					change_variable = {
						name = interest_calculated_1
						multiply = scope:seller.interest_value_10Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_1
						value = var:interest_calculated_1
					}
					change_variable = {
						name = interest_at_term_calculated_1
						multiply = 10
					}

					set_variable = {
						name = interest_per_month_calculated_1
						value = var:interest_at_term_calculated_1
					}

					change_variable = {
						name = interest_per_month_calculated_1
						divide = 120
					}
					set_variable = {
						name = maturity_time_1
						value = 10
					}
				}

				set_variable = {
					name = interest_per_month_calculated_1_for_player
					value = scope:buyer.var:interest_per_month_calculated_1
				}
				#################
				set_variable = {
					name = interest_per_month_calculated_5_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #1
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #1
				}
			}
			scope:buyer = {
				buy_bond_in_currrency_var =  {
					PBIC_1 = scope:seller.price_bond_in_currency_for_gui
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_5_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_1_on
					value = 1
				}
			}

		}
		#_2
		if = {
			limit = {
				scope:player  = {
					var:bond_10Y_order = 2
					var:buy_bond_2_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_2
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_2
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_2
					# 	target = scope:seller #prev
					# }

					add_to_variable_list = {
						name = seller_country_general_in_currency_2
						target = scope:seller #prev
					}

					#quantité
					set_variable = {
						name = bond_quantity_2
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_2
						value = var:bond_quantity_2
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_2
						value = scope:seller.interest_value_10Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_2
						value = 1
					}
					change_variable = {
						name = total_bond_value_2
						multiply = var:bond_quantity_2 #bond quantité
					}
					change_variable = {
						name = total_bond_value_2
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_2
						value = var:total_bond_value_2
					}
					change_variable = {
						name = interest_calculated_2
						multiply = scope:seller.interest_value_10Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_2
						value = var:interest_calculated_2
					}
					change_variable = {
						name = interest_at_term_calculated_2
						multiply = 10
					}

					set_variable = {
						name = interest_per_month_calculated_2
						value = var:interest_at_term_calculated_2
					}

					change_variable = {
						name = interest_per_month_calculated_2
						divide = 120
					}
					set_variable = {
						name = maturity_time_2
						value = 10
					}
				}

				set_variable = {
					name = interest_per_month_calculated_2_for_player
					value = scope:buyer.var:interest_per_month_calculated_2
				}
				#################
				set_variable = {
					name = interest_per_month_calculated_2_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #2
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #2
				}
			}
			scope:buyer = {
				buy_bond_in_currrency_var =  {
					PBIC_1 = scope:seller.price_bond_in_currency_for_gui
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_2_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_2_on
					value = 1
				}
			}
		}
		#_3
		if = {
			limit = {
				scope:player  = {
					var:bond_10Y_order = 3
					var:buy_bond_3_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_3
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_3
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_3
					# 	target = scope:seller #prev
					# }

					add_to_variable_list = {
						name = seller_country_general_in_currency_3
						target = scope:seller #prev
					}

					#quantité
					set_variable = {
						name = bond_quantity_3
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_3
						value = var:bond_quantity_3
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_3
						value = scope:seller.interest_value_10Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_3
						value = 1
					}
					change_variable = {
						name = total_bond_value_3
						multiply = var:bond_quantity_3 #bond quantité
					}
					change_variable = {
						name = total_bond_value_3
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_3
						value = var:total_bond_value_3
					}
					change_variable = {
						name = interest_calculated_3
						multiply = scope:seller.interest_value_10Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_3
						value = var:interest_calculated_3
					}
					change_variable = {
						name = interest_at_term_calculated_3
						multiply = 10
					}

					set_variable = {
						name = interest_per_month_calculated_3
						value = var:interest_at_term_calculated_3
					}

					change_variable = {
						name = interest_per_month_calculated_3
						divide = 120
					}
					set_variable = {
						name = maturity_time_3
						value = 10
					}
				}

				set_variable = {
					name = interest_per_month_calculated_3_for_player
					value = scope:buyer.var:interest_per_month_calculated_3
				}
				#################
				set_variable = {
					name = interest_per_month_calculated_3_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #3
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #3
				}
			}
			scope:buyer = {
				buy_bond_in_currrency_var =  {
					PBIC_1 = scope:seller.price_bond_in_currency_for_gui
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_3_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_3_on
					value = 1
				}
			}
		}
		#_4
		if = {
			limit = {
				scope:player  = {
					var:bond_10Y_order = 4
					var:buy_bond_4_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_4
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_4
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_4
					# 	target = scope:seller #prev
					# }

					add_to_variable_list = {
						name = seller_country_general_in_currency_4
						target = scope:seller #prev
					}

					#quantité
					set_variable = {
						name = bond_quantity_4
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_4
						value = var:bond_quantity_4
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_4
						value = scope:seller.interest_value_10Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_4
						value = 1
					}
					change_variable = {
						name = total_bond_value_4
						multiply = var:bond_quantity_4 #bond quantité
					}
					change_variable = {
						name = total_bond_value_4
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_4
						value = var:total_bond_value_4
					}
					change_variable = {
						name = interest_calculated_4
						multiply = scope:seller.interest_value_10Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_4
						value = var:interest_calculated_4
					}
					change_variable = {
						name = interest_at_term_calculated_4
						multiply = 10
					}

					set_variable = {
						name = interest_per_month_calculated_4
						value = var:interest_at_term_calculated_4
					}

					change_variable = {
						name = interest_per_month_calculated_4
						divide = 120
					}
					set_variable = {
						name = maturity_time_4
						value = 10
					}
				}

				set_variable = {
					name = interest_per_month_calculated_4_for_player
					value = scope:buyer.var:interest_per_month_calculated_4
				}
				#################
				set_variable = {
					name = interest_per_month_calculated_4_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #4
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #4
				}
			}
			scope:buyer = {
				buy_bond_in_currrency_var =  {
					PBIC_1 = scope:seller.price_bond_in_currency_for_gui
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_4_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_4_on
					value = 1
				}
			}
		}
		#_5
		if = {
			limit = {
				scope:player  = {
					var:bond_10Y_order = 5
					var:buy_bond_5_on = 0
				}
			}

			market.owner = {
				save_scope_as = seller
			}
			every_country = {
				if = {
					limit = {
						is_player = yes
					}
					save_scope_as = buyer
				}
			}

			scope:seller = {
				#### ajout à la liste
				add_to_variable_list = {
					name = central_bank_debt_buyer_list_5
					target = scope:buyer
				}

				scope:buyer = {
					# Pour les liste du vendeur
					add_to_variable_list = {
						name = buyer_country_5
						target = prev
					}
					# add_to_variable_list = {
					# 	name = seller_country_5
					# 	target = scope:seller #prev
					# }

					add_to_variable_list = {
						name = seller_country_general_in_currency_5
						target = scope:seller #prev
					}

					#quantité
					set_variable = {
						name = bond_quantity_5
						value = var:bond_quantity
					}
					set_variable = {
						name = quantity_purchasing_5
						value = var:bond_quantity_5
					}

					#interret lors de l'achat
					set_variable = {
						name = interest_purchasing_5
						value = scope:seller.interest_value_10Y
					}

					#valeur de la quantité
					set_variable = {
						name = total_bond_value_5
						value = 1
					}
					change_variable = {
						name = total_bond_value_5
						multiply = var:bond_quantity_5 #bond quantité
					}
					change_variable = {
						name = total_bond_value_5
						multiply = scope:seller.bond_price
					}

					#interet total
					set_variable = {
						name = interest_calculated_5
						value = var:total_bond_value_5
					}
					change_variable = {
						name = interest_calculated_5
						multiply = scope:seller.interest_value_10Y
					}

					#interet total à terme
					set_variable = {
						name = interest_at_term_calculated_5
						value = var:interest_calculated_5
					}
					change_variable = {
						name = interest_at_term_calculated_5
						multiply = 10
					}

					set_variable = {
						name = interest_per_month_calculated_5
						value = var:interest_at_term_calculated_5
					}

					change_variable = {
						name = interest_per_month_calculated_5
						divide = 120
					}
					set_variable = {
						name = maturity_time_5
						value = 10
					}
				}

				set_variable = {
					name = interest_per_month_calculated_5_for_player
					value = scope:buyer.var:interest_per_month_calculated_5
				}
				#################
				set_variable = {
					name = interest_per_month_calculated_5_for_player
					value = scope:buyer.interest_per_month_from_foreign_debt_investment
				}

				#################
				#or prété à la banque du pays vendeur
				change_variable = {
					name = gold_loaned_to_central_bank
					add = 0 #5
				}
				#interet que la banque centrale pays à l'année
				change_variable = {
					name = central_bank_interest_refund_per_year
					add = 0 #5
				}
			}
			scope:buyer = {
				buy_bond_in_currrency_var =  {
					PBIC_1 = scope:seller.price_bond_in_currency_for_gui
				}

				remove_modifier = interest_from_foreign_debt_investment
				add_modifier = {
					name = interest_from_foreign_debt_investment
					multiplier = var:interest_per_month_calculated_5_for_player
				}
				#demare le on_action
				set_variable = {
					name = buy_bond_5_on
					value = 1
				}
			}
		}

		#reset
		if = {
			limit = {
				scope:player = {
					var:bond_10Y_order >= 5
				}
			}
			scope:player  = {
				set_variable = {
					name = bond_10Y_order
					value = 0
				}
			}
		}

	}
}

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

#take

#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################
#####################################################################################################################################################

debt_issued_relative_GDP_increase = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
			}
			change_variable = {
				name = debt_issued_relative_GDP_percentage
				add = 0.05
			}
		}
	}
}
debt_issued_relative_GDP_reduce = {
	is_shown = {
	}
	is_valid = {
		var:debt_issued_relative_GDP_percentage > 0.05
	}
	effect = {
		if = {
			limit = {
				#has_variable = debt_issued_relative_GDP
				var:debt_issued_relative_GDP_percentage > 0.05
			}
			change_variable = {
				name = debt_issued_relative_GDP_percentage
				subtract = 0.05
			}
		}
	}
}
set_debt_issued = {
	effect = {
		change_variable = {
			name = credit_at_central_bank
			add = debt_issued_relative_GDP
		}
		add_treasury = {
			add = debt_issued_relative_GDP
		}
		every_scope_state = {
			if = {
				limit = {
					has_modifier = financial_center_historic_place
				}
				change_variable = {
					name = stockpiling_bond_var_state_1
					add = owner.bond_creation_by_debt

				}
			}
		}
		change_variable = {
			name = government_loan
			add = debt_issued_relative_GDP_in_currency
		}

		credit_at_central_bank_interest_per_week = yes
	}
}

#government_loan_fixe

################################################################################################
################################################################################################
################################################################################################
################################################################################################

#refund

################################################################################################
################################################################################################
################################################################################################
################################################################################################

refund_credit_at_central_bank_increase = {
	is_shown = {
		#var:refund_credit_at_central_bank <= 10
	}
	is_valid = {
		var:refund_credit_at_central_bank < var:credit_at_central_bank
	}
	effect = {
		if = {
			limit = {
				has_variable = refund_credit_at_central_bank
				var:refund_credit_at_central_bank < var:credit_at_central_bank
			}
			change_variable = {
				name = refund_credit_at_central_bank
				add = 2500000
			}
		}
	}
}
refund_credit_at_central_bank_reduce = {
	is_shown = {
	}
	is_valid = {
		var:refund_credit_at_central_bank > 2500000
	}
	effect = {
		if = {
			limit = {
				has_variable = refund_credit_at_central_bank
				var:refund_credit_at_central_bank > 2500000
			}
			change_variable = {
				name = refund_credit_at_central_bank
				subtract = 2500000
			}
		}
	}
}

refund_credit_at_central_bank = {
	is_valid = {
		var:refund_credit_at_central_bank < var:credit_at_central_bank
		var:refund_credit_at_central_bank < gold_reserves_var
	}
	effect = {
		add_treasury = {
			subtract = var:refund_credit_at_central_bank #debt_issued_relative_GDP
		}
		change_variable = {
			name = credit_at_central_bank
			subtract = var:refund_credit_at_central_bank
		}
		if = {
			limit = {
				var:credit_at_central_bank < 0
			}
			set_variable = {
				name = credit_at_central_bank
				value = 0
			}
		}
		change_variable = {
			name = government_loan
			subtract = var:refund_credit_at_central_bank
		}
		if = {
			limit = {
				var:government_loan < 0
			}
			set_variable = {
				name = government_loan
				value = 0
			}
		}

		credit_at_central_bank_interest_per_week = yes
		if = {
			limit = {
				has_modifier = interest_at_the_central_bank
				credit_at_central_bank_interest_per_month <= 5
			}
			credit_at_central_bank_interest_per_week_off = yes
		}
	}
}
refund_credit_at_central_bank_all = {
	is_valid = {
		gold_reserves_var > var:credit_at_central_bank
		var:credit_at_central_bank > 0
	}
	effect = {
		add_treasury = {
			subtract = var:credit_at_central_bank #debt_issued_relative_GDP
		}
		change_variable = {
			name = government_loan
			subtract = var:credit_at_central_bank
		}
		change_variable = {
			name = credit_at_central_bank
			subtract = var:credit_at_central_bank
		}
		if = {
			limit = {
				var:government_loan < 0
			}
			set_variable = {
				name = government_loan
				value = 0
			}
		}
		credit_at_central_bank_interest_per_week = yes
		if = {
			limit = {
				has_modifier = interest_at_the_central_bank
				credit_at_central_bank_interest_per_month <= 5
			}
			credit_at_central_bank_interest_per_week_off = yes
		}
	}
}

################################################################################################
################################################################################################
################################################################################################
################################################################################################

#refund

################################################################################################
################################################################################################
################################################################################################
################################################################################################

transfert_currency_to_investement_pool_increase = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
			}
			change_variable = {
				name = transfert_currency_to_investement_pool_percentage
				add = 1000000
			}
		}
	}
}
transfert_currency_to_investement_pool_reduce = {
	is_shown = {
	}
	is_valid = {
		var:transfert_currency_to_investement_pool_percentage > 1000000
	}
	effect = {
		if = {
			limit = {
				#has_variable = transfert_currency_to_investement_pool
				var:transfert_currency_to_investement_pool_percentage > 1000000
			}
			change_variable = {
				name = transfert_currency_to_investement_pool_percentage
				subtract = 1000000
			}
		}
	}
}
transfert_currency_to_investement_pool_button = {
	is_valid = {
		money_supply_state > var:transfert_currency_to_investement_pool_percentage
	}
	effect = {
		add_investment_pool = {
			add = var:transfert_currency_to_investement_pool_percentage
		}
		every_scope_state = {
			if = {
				limit = {
					has_modifier = central_bank_historic_place
					is_capital = yes
				}
				save_scope_as = central_bank_site_capital
			}
		}
		#dinar
			if = {
			limit = {
				has_law = law_type:law_dinar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dinar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dinar_algerian_dinar
		if = {
			limit = {
				has_law = law_type:law_dinar_algerian_dinar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dinar_algerian_dinar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dinar_iraqi_dinar
		if = {
			limit = {
				has_law = law_type:law_dinar_iraqi_dinar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dinar_iraqi_dinar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dinar_libyan_dinar
		if = {
			limit = {
				has_law = law_type:law_dinar_libyan_dinar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dinar_libyan_dinar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dinar_moroccan_dirham
		if = {
			limit = {
				has_law = law_type:law_dinar_moroccan_dirham_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dinar_moroccan_dirham_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dinar_omanian_rial
		if = {
			limit = {
				has_law = law_type:law_dinar_omanian_rial_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dinar_omanian_rial_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dinar_qiran
		if = {
			limit = {
				has_law = law_type:law_dinar_qiran_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dinar_qiran_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dinar_saudi_riyal
		if = {
			limit = {
				has_law = law_type:law_dinar_saudi_riyal_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dinar_saudi_riyal_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dinar_serbian_dinar
		if = {
			limit = {
				has_law = law_type:law_dinar_serbian_dinar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dinar_serbian_dinar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dinar_tunisian_dinar
		if = {
			limit = {
				has_law = law_type:law_dinar_tunisian_dinar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dinar_tunisian_dinar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dinar_yugoslav_dinar
		if = {
			limit = {
				has_law = law_type:law_dinar_yugoslav_dinar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dinar_yugoslav_dinar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dollar_australian_dollar
		if = {
			limit = {
				has_law = law_type:law_dollar_australian_dollar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dollar_australian_dollar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dollar_canadian_dollar
		if = {
			limit = {
				has_law = law_type:law_dollar_canadian_dollar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dollar_canadian_dollar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dollar_caribbean_dollar
		if = {
			limit = {
				has_law = law_type:law_dollar_caribbean_dollar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dollar_caribbean_dollar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dollar_confederate_states_dollar
		if = {
			limit = {
				has_law = law_type:law_dollar_confederate_states_dollar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dollar_confederate_states_dollar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dollar_liberian_dollar
		if = {
			limit = {
				has_law = law_type:law_dollar_liberian_dollar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dollar_liberian_dollar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dollar_new_zealand_dollar
		if = {
			limit = {
				has_law = law_type:law_dollar_new_zealand_dollar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dollar_new_zealand_dollar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dollar_sierra_leonean_dollar
		if = {
			limit = {
				has_law = law_type:law_dollar_sierra_leonean_dollar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dollar_sierra_leonean_dollar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#dollar_united_states_dollar
		if = {
			limit = {
				has_law = law_type:law_dollar_united_states_dollar_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_dollar_united_states_dollar_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#eco_ariary
		if = {
			limit = {
				has_law = law_type:law_eco_ariary_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_eco_ariary_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#eco_central_african_eco
		if = {
			limit = {
				has_law = law_type:law_eco_central_african_eco_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_eco_central_african_eco_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#eco_east_african_eco
		if = {
			limit = {
				has_law = law_type:law_eco_east_african_eco_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_eco_east_african_eco_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#eco_ethiopian_birr
		if = {
			limit = {
				has_law = law_type:law_eco_ethiopian_birr_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_eco_ethiopian_birr_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#eco_ghanaian_pound
		if = {
			limit = {
				has_law = law_type:law_eco_ghanaian_pound_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_eco_ghanaian_pound_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#eco_nigerian_naira
		if = {
			limit = {
				has_law = law_type:law_eco_nigerian_naira_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_eco_nigerian_naira_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#eco_south_african_rand
		if = {
			limit = {
				has_law = law_type:law_eco_south_african_rand_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_eco_south_african_rand_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#eco_tuareg_ouguiya
		if = {
			limit = {
				has_law = law_type:law_eco_tuareg_ouguiya_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_eco_tuareg_ouguiya_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#eco_west_african_eco
		if = {
			limit = {
				has_law = law_type:law_eco_west_african_eco_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_eco_west_african_eco_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#franc_belgian_franc
		if = {
			limit = {
				has_law = law_type:law_franc_belgian_franc_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_franc_belgian_franc_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#franc_french_franc
		if = {
			limit = {
				has_law = law_type:law_franc_french_franc_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_franc_french_franc_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#franc_luxembourgish_franc
		if = {
			limit = {
				has_law = law_type:law_franc_luxembourgish_franc_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_franc_luxembourgish_franc_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#franc_swiss_franc
		if = {
			limit = {
				has_law = law_type:law_franc_swiss_franc_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_franc_swiss_franc_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#gulden
		if = {
			limit = {
				has_law = law_type:law_gulden_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_gulden_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#gulden_bavarian_gulden
		if = {
			limit = {
				has_law = law_type:law_gulden_bavarian_gulden_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_gulden_bavarian_gulden_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#gulden_florin
		if = {
			limit = {
				has_law = law_type:law_gulden_florin_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_gulden_florin_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#gulden_hungarian_forint
		if = {
			limit = {
				has_law = law_type:law_gulden_hungarian_forint_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_gulden_hungarian_forint_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#gulden_indies_guilder
		if = {
			limit = {
				has_law = law_type:law_gulden_indies_guilder_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_gulden_indies_guilder_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#gulden_south_german_gulden
		if = {
			limit = {
				has_law = law_type:law_gulden_south_german_gulden_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_gulden_south_german_gulden_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#krone_czech_koruna
		if = {
			limit = {
				has_law = law_type:law_krone_czech_koruna_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_krone_czech_koruna_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#krone_danish_krone
		if = {
			limit = {
				has_law = law_type:law_krone_danish_krone_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_krone_danish_krone_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#krone_estonian_kroon
		if = {
			limit = {
				has_law = law_type:law_krone_estonian_kroon_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_krone_estonian_kroon_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#krone_icelandic_krona
		if = {
			limit = {
				has_law = law_type:law_krone_icelandic_krona_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_krone_icelandic_krona_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#krone_norwegian_krone
		if = {
			limit = {
				has_law = law_type:law_krone_norwegian_krone_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_krone_norwegian_krone_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#krone_slovak_koruna
		if = {
			limit = {
				has_law = law_type:law_krone_slovak_koruna_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_krone_slovak_koruna_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#krone_swedish_krona
		if = {
			limit = {
				has_law = law_type:law_krone_swedish_krona_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_krone_swedish_krona_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#leon_leu
		if = {
			limit = {
				has_law = law_type:law_leon_leu_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_leon_leu_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#leon_lev
		if = {
			limit = {
				has_law = law_type:law_leon_lev_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_leon_lev_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#lira
		if = {
			limit = {
				has_law = law_type:law_lira_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_lira_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#lira_ducato
		if = {
			limit = {
				has_law = law_type:law_lira_ducato_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_lira_ducato_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#lira_ottoman_lira
		if = {
			limit = {
				has_law = law_type:law_lira_ottoman_lira_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_lira_ottoman_lira_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#lira_scudo_pontificio
		if = {
			limit = {
				has_law = law_type:law_lira_scudo_pontificio_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_lira_scudo_pontificio_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#lira_scudo_sardo
		if = {
			limit = {
				has_law = law_type:law_lira_scudo_sardo_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_lira_scudo_sardo_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#lira_toscane_lira
		if = {
			limit = {
				has_law = law_type:law_lira_toscane_lira_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_lira_toscane_lira_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#mark
		if = {
			limit = {
				has_law = law_type:law_mark_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_mark_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#mark_finnish_markka
		if = {
			limit = {
				has_law = law_type:law_mark_finnish_markka_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_mark_finnish_markka_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso
		if = {
			limit = {
				has_law = law_type:law_peso_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_argentine_peso
		if = {
			limit = {
				has_law = law_type:law_peso_argentine_peso_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_argentine_peso_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_bolivien_peso
		if = {
			limit = {
				has_law = law_type:law_peso_bolivien_peso_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_bolivien_peso_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_chilean_peso
		if = {
			limit = {
				has_law = law_type:law_peso_chilean_peso_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_chilean_peso_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_colombian_peso
		if = {
			limit = {
				has_law = law_type:law_peso_colombian_peso_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_colombian_peso_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_costa_rican_colon
		if = {
			limit = {
				has_law = law_type:law_peso_costa_rican_colon_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_costa_rican_colon_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_cuban_peso
		if = {
			limit = {
				has_law = law_type:law_peso_cuban_peso_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_cuban_peso_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_ecuadorian_peso
		if = {
			limit = {
				has_law = law_type:law_peso_ecuadorian_peso_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_ecuadorian_peso_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_el_salvador_colon
		if = {
			limit = {
				has_law = law_type:law_peso_el_salvador_colon_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_el_salvador_colon_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_guatemalan_quetzal
		if = {
			limit = {
				has_law = law_type:law_peso_guatemalan_quetzal_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_guatemalan_quetzal_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_honduran_lempira
		if = {
			limit = {
				has_law = law_type:law_peso_honduran_lempira_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_honduran_lempira_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_mexican_peso
		if = {
			limit = {
				has_law = law_type:law_peso_mexican_peso_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_mexican_peso_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_nicaraguan_cordoba
		if = {
			limit = {
				has_law = law_type:law_peso_nicaraguan_cordoba_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_nicaraguan_cordoba_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_paraguayan_peso
		if = {
			limit = {
				has_law = law_type:law_peso_paraguayan_peso_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_paraguayan_peso_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_philippine_peso
		if = {
			limit = {
				has_law = law_type:law_peso_philippine_peso_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_philippine_peso_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_sol_de_oro
		if = {
			limit = {
				has_law = law_type:law_peso_sol_de_oro_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_sol_de_oro_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_uruguayan_peso
		if = {
			limit = {
				has_law = law_type:law_peso_uruguayan_peso_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_uruguayan_peso_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#peso_venezuelan_peso
		if = {
			limit = {
				has_law = law_type:law_peso_venezuelan_peso_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_peso_venezuelan_peso_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#pound_egyptian_pound
		if = {
			limit = {
				has_law = law_type:law_pound_egyptian_pound_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_pound_egyptian_pound_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#pound_irish_pound
		if = {
			limit = {
				has_law = law_type:law_pound_irish_pound_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_pound_irish_pound_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#pound_sterling
		if = {
			limit = {
				has_law = law_type:law_pound_sterling_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_pound_sterling_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#real
		if = {
			limit = {
				has_law = law_type:law_real_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_real_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#real_brazilian_real
		if = {
			limit = {
				has_law = law_type:law_real_brazilian_real_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_real_brazilian_real_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#rupee_indian_rupee
		if = {
			limit = {
				has_law = law_type:law_rupee_indian_rupee_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_rupee_indian_rupee_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#rupee_indonesian_rupiah
		if = {
			limit = {
				has_law = law_type:law_rupee_indonesian_rupiah_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_rupee_indonesian_rupiah_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#spe_baht
		if = {
			limit = {
				has_law = law_type:law_spe_baht_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_spe_baht_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#spe_dong
		if = {
			limit = {
				has_law = law_type:law_spe_dong_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_spe_dong_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#spe_drachma
		if = {
			limit = {
				has_law = law_type:law_spe_drachma_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_spe_drachma_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#spe_korean_won
		if = {
			limit = {
				has_law = law_type:law_spe_korean_won_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_spe_korean_won_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#spe_latvian_lats
		if = {
			limit = {
				has_law = law_type:law_spe_latvian_lats_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_spe_latvian_lats_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#spe_lithuanian_litas
		if = {
			limit = {
				has_law = law_type:law_spe_lithuanian_litas_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_spe_lithuanian_litas_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#spe_peseta
		if = {
			limit = {
				has_law = law_type:law_spe_peseta_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_spe_peseta_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#spe_ruble
		if = {
			limit = {
				has_law = law_type:law_spe_ruble_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_spe_ruble_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#spe_uni
		if = {
			limit = {
				has_law = law_type:law_spe_uni_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_spe_uni_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#spe_yen
		if = {
			limit = {
				has_law = law_type:law_spe_yen_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_spe_yen_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#spe_yuan
		if = {
			limit = {
				has_law = law_type:law_spe_yuan_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_spe_yuan_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#spe_zloti
		if = {
			limit = {
				has_law = law_type:law_spe_zloti_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_spe_zloti_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#thaler_hannoveraner_thaler
		if = {
			limit = {
				has_law = law_type:law_thaler_hannoveraner_thaler_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_thaler_hannoveraner_thaler_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#thaler_prussian_thaler
		if = {
			limit = {
				has_law = law_type:law_thaler_prussian_thaler_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_thaler_prussian_thaler_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}
		#thaler_saxon_thaler
		if = {
			limit = {
				has_law = law_type:law_thaler_saxon_thaler_currency
			}
			scope:central_bank_site_capital = {
				change_variable = {
					name = stockpiling_thaler_saxon_thaler_state_1
					subtract = owner.var:transfert_currency_to_investement_pool_percentage
				}
			}
		}

	}
}


############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

#
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

base_rate_increase = {
	is_shown = {
	}
	is_valid = {
		var:base_rate_percentage < 0.1
	}
	effect = {
		if = {
			limit = {
				var:base_rate_percentage >=  0.01
			}
			change_variable = {
				name = base_rate_percentage
				add = 0.0025
			}
		}
		if = {
			limit = {
				var:base_rate_percentage < 0.01
			}
			change_variable = {
				name = base_rate_percentage
				add =  0.0005
			}
		}
	}
}
base_rate_reduce = {
	is_shown = {
	}
	is_valid = {
		var:base_rate_percentage >  0.0010
	}
	effect = {
		if = {
			limit = {
				#has_variable = base_rate
				var:base_rate_percentage <= 0.01
			}
			change_variable = {
				name = base_rate_percentage
				subtract =  0.0005
			}
		}
		if = {
			limit = {
				var:base_rate_percentage > 0.01
			}
			change_variable = {
				name = base_rate_percentage
				subtract =  0.0025
			}
		}
	}
}

