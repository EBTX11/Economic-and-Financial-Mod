stockpiling_central_bank_gold_reserves_state_transfert = {
	effect = {
		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				save_scope_as = central_bank_site_capital
			}
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = no
				}
				save_scope_as = central_bank_site_no_capital
			}

			#actual Capital
			scope:central_bank_site_capital = {

				#gold
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:central_bank_gold_reserves_state_1
						}
					}
				}

				#Financial product
				change_variable = {
					name = stockpiling_bond_var_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_bond_var_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_company_stock_var_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_company_stock_var_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_mining_stock_var_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_mining_stock_var_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_railroad_stock_var_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_railroad_stock_var_state_1
						}
					}
				}

				#Goods
				change_variable = {
					name = stockpiling_grain_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_grain_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_wood_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_wood_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_coal_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_coal_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_iron_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_iron_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_sulfur_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_sulfur_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_lead_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_lead_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_oil_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_oil_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_dye_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_dye_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_silk_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_silk_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_rubber_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_rubber_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_ammunition_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_ammunition_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_small_arms_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_small_arms_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_artillery_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_artillery_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_tanks_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_tanks_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_aeroplanes_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_aeroplanes_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_manowars_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_manowars_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_ironclads_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_ironclads_state_1
						}
					}
				}

				#Currency
				#begin_tag_1
	#algerian_dinar
	change_variable = {
		name = stockpiling_algerian_dinar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_algerian_dinar_state_1
			}
		}
	}

	#argentine_peso
	change_variable = {
		name = stockpiling_argentine_peso_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_argentine_peso_state_1
			}
		}
	}

	#ariary
	change_variable = {
		name = stockpiling_ariary_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_ariary_state_1
			}
		}
	}

	#australian_dollar
	change_variable = {
		name = stockpiling_australian_dollar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_australian_dollar_state_1
			}
		}
	}

	#bahraini_dinar
	change_variable = {
		name = stockpiling_bahraini_dinar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_bahraini_dinar_state_1
			}
		}
	}

	#baht
	change_variable = {
		name = stockpiling_baht_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_baht_state_1
			}
		}
	}

	#bavarian_gulden
	change_variable = {
		name = stockpiling_bavarian_gulden_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_bavarian_gulden_state_1
			}
		}
	}

	#belgian_franc
	change_variable = {
		name = stockpiling_belgian_franc_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_belgian_franc_state_1
			}
		}
	}

	#brazilian_real
	change_variable = {
		name = stockpiling_brazilian_real_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_brazilian_real_state_1
			}
		}
	}

	#canadian_dollar
	change_variable = {
		name = stockpiling_canadian_dollar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_canadian_dollar_state_1
			}
		}
	}

	#caribbean_dollar
	change_variable = {
		name = stockpiling_caribbean_dollar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_caribbean_dollar_state_1
			}
		}
	}

	#central_african_eco
	change_variable = {
		name = stockpiling_central_african_eco_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_central_african_eco_state_1
			}
		}
	}

	#chilean_peso
	change_variable = {
		name = stockpiling_chilean_peso_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_chilean_peso_state_1
			}
		}
	}

	#colombian_peso
	change_variable = {
		name = stockpiling_colombian_peso_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_colombian_peso_state_1
			}
		}
	}

	#confederate_states_dollar
	change_variable = {
		name = stockpiling_confederate_states_dollar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_confederate_states_dollar_state_1
			}
		}
	}

	#costa_rican_colon
	change_variable = {
		name = stockpiling_costa_rican_colon_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_costa_rican_colon_state_1
			}
		}
	}

	#cuban_peso
	change_variable = {
		name = stockpiling_cuban_peso_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_cuban_peso_state_1
			}
		}
	}

	#czech_koruna
	change_variable = {
		name = stockpiling_czech_koruna_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_czech_koruna_state_1
			}
		}
	}

	#danish_krone
	change_variable = {
		name = stockpiling_danish_krone_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_danish_krone_state_1
			}
		}
	}

	#dinar
	change_variable = {
		name = stockpiling_dinar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_dinar_state_1
			}
		}
	}

	#ducato
	change_variable = {
		name = stockpiling_ducato_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_ducato_state_1
			}
		}
	}

	#drachma
	change_variable = {
		name = stockpiling_drachma_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_drachma_state_1
			}
		}
	}

	#ecuadorian_peso
	change_variable = {
		name = stockpiling_ecuadorian_peso_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_ecuadorian_peso_state_1
			}
		}
	}

	#egyptian_pound
	change_variable = {
		name = stockpiling_egyptian_pound_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_egyptian_pound_state_1
			}
		}
	}

	#estonian_kroon
	change_variable = {
		name = stockpiling_estonian_kroon_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_estonian_kroon_state_1
			}
		}
	}

	#ethiopian_birr
	change_variable = {
		name = stockpiling_ethiopian_birr_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_ethiopian_birr_state_1
			}
		}
	}

	#finnish_markka
	change_variable = {
		name = stockpiling_finnish_markka_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_finnish_markka_state_1
			}
		}
	}

	#florin
	change_variable = {
		name = stockpiling_florin_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_florin_state_1
			}
		}
	}

	#french_franc
	change_variable = {
		name = stockpiling_french_franc_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_french_franc_state_1
			}
		}
	}

	#ghanaian_cedi
	change_variable = {
		name = stockpiling_ghanaian_cedi_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_ghanaian_cedi_state_1
			}
		}
	}

	#gulden
	change_variable = {
		name = stockpiling_gulden_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_gulden_state_1
			}
		}
	}

	#guatemalan_quetzal
	change_variable = {
		name = stockpiling_guatemalan_quetzal_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_guatemalan_quetzal_state_1
			}
		}
	}

	#hannoveraner_thaler
	change_variable = {
		name = stockpiling_hannoveraner_thaler_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_hannoveraner_thaler_state_1
			}
		}
	}

	#honduran_lempira
	change_variable = {
		name = stockpiling_honduran_lempira_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_honduran_lempira_state_1
			}
		}
	}

	#hungarian_forint
	change_variable = {
		name = stockpiling_hungarian_forint_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_hungarian_forint_state_1
			}
		}
	}

	#icelandic_krona
	change_variable = {
		name = stockpiling_icelandic_krona_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_icelandic_krona_state_1
			}
		}
	}

	#indian_rupee
	change_variable = {
		name = stockpiling_indian_rupee_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_indian_rupee_state_1
			}
		}
	}

	#indies_guilder
	change_variable = {
		name = stockpiling_indies_guilder_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_indies_guilder_state_1
			}
		}
	}

	#indonesian_rupiah
	change_variable = {
		name = stockpiling_indonesian_rupiah_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_indonesian_rupiah_state_1
			}
		}
	}

	#iraqi_dinar
	change_variable = {
		name = stockpiling_iraqi_dinar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_iraqi_dinar_state_1
			}
		}
	}

	#irish_pound
	change_variable = {
		name = stockpiling_irish_pound_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_irish_pound_state_1
			}
		}
	}

	#jordanian_dinar
	change_variable = {
		name = stockpiling_jordanian_dinar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_jordanian_dinar_state_1
			}
		}
	}

	#korean_won
	change_variable = {
		name = stockpiling_korean_won_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_korean_won_state_1
			}
		}
	}

	#latvian_lats
	change_variable = {
		name = stockpiling_latvian_lats_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_latvian_lats_state_1
			}
		}
	}

	#leu
	change_variable = {
		name = stockpiling_leu_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_leu_state_1
			}
		}
	}

	#lev
	change_variable = {
		name = stockpiling_lev_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_lev_state_1
			}
		}
	}

	#liberian_dollar
	change_variable = {
		name = stockpiling_liberian_dollar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_liberian_dollar_state_1
			}
		}
	}

	#libyan_dinar
	change_variable = {
		name = stockpiling_libyan_dinar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_libyan_dinar_state_1
			}
		}
	}

	#lira
	change_variable = {
		name = stockpiling_lira_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_lira_state_1
			}
		}
	}

	#lithuanian_litas
	change_variable = {
		name = stockpiling_lithuanian_litas_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_lithuanian_litas_state_1
			}
		}
	}

	#luxembourgish_franc
	change_variable = {
		name = stockpiling_luxembourgish_franc_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_luxembourgish_franc_state_1
			}
		}
	}

	#mark
	change_variable = {
		name = stockpiling_mark_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_mark_state_1
			}
		}
	}

	#mexican_peso
	change_variable = {
		name = stockpiling_mexican_peso_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_mexican_peso_state_1
			}
		}
	}

	#moroccan_dirham
	change_variable = {
		name = stockpiling_moroccan_dirham_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_moroccan_dirham_state_1
			}
		}
	}

	#new_zealand_dollar
	change_variable = {
		name = stockpiling_new_zealand_dollar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_new_zealand_dollar_state_1
			}
		}
	}

	#nicaraguan_cordoba
	change_variable = {
		name = stockpiling_nicaraguan_cordoba_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_nicaraguan_cordoba_state_1
			}
		}
	}

	#nigerian_naira
	change_variable = {
		name = stockpiling_nigerian_naira_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_nigerian_naira_state_1
			}
		}
	}

	#norwegian_krone
	change_variable = {
		name = stockpiling_norwegian_krone_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_norwegian_krone_state_1
			}
		}
	}

	#omanian_rial
	change_variable = {
		name = stockpiling_omanian_rial_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_omanian_rial_state_1
			}
		}
	}

	#ottoman_lira
	change_variable = {
		name = stockpiling_ottoman_lira_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_ottoman_lira_state_1
			}
		}
	}

	#pakistan_rupee
	change_variable = {
		name = stockpiling_pakistan_rupee_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_pakistan_rupee_state_1
			}
		}
	}

	#peseta
	change_variable = {
		name = stockpiling_peseta_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_peseta_state_1
			}
		}
	}

	#peso
	change_variable = {
		name = stockpiling_peso_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_peso_state_1
			}
		}
	}

	#peso_bolivien
	change_variable = {
		name = stockpiling_peso_bolivien_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_peso_bolivien_state_1
			}
		}
	}

	#philippine_peso
	change_variable = {
		name = stockpiling_philippine_peso_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_philippine_peso_state_1
			}
		}
	}

	#pound_sterling
	change_variable = {
		name = stockpiling_pound_sterling_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_pound_sterling_state_1
			}
		}
	}

	#prussian_thaler
	change_variable = {
		name = stockpiling_prussian_thaler_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_prussian_thaler_state_1
			}
		}
	}

	#qatari_riyal
	change_variable = {
		name = stockpiling_qatari_riyal_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_qatari_riyal_state_1
			}
		}
	}

	#qiran
	change_variable = {
		name = stockpiling_qiran_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_qiran_state_1
			}
		}
	}

	#real
	change_variable = {
		name = stockpiling_real_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_real_state_1
			}
		}
	}

	#ruble
	change_variable = {
		name = stockpiling_ruble_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_ruble_state_1
			}
		}
	}

	#saudi_riyal
	change_variable = {
		name = stockpiling_saudi_riyal_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_saudi_riyal_state_1
			}
		}
	}

	#saxon_thaler
	change_variable = {
		name = stockpiling_saxon_thaler_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_saxon_thaler_state_1
			}
		}
	}

	#scudo_pontificio
	change_variable = {
		name = stockpiling_scudo_pontificio_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_scudo_pontificio_state_1
			}
		}
	}

	#scudo_sardo
	change_variable = {
		name = stockpiling_scudo_sardo_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_scudo_sardo_state_1
			}
		}
	}

	#serbian_dinar
	change_variable = {
		name = stockpiling_serbian_dinar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_serbian_dinar_state_1
			}
		}
	}

	#south_german_gulden
	change_variable = {
		name = stockpiling_south_german_gulden_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_south_german_gulden_state_1
			}
		}
	}

	#singapore_dollar
	change_variable = {
		name = stockpiling_singapore_dollar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_singapore_dollar_state_1
			}
		}
	}

	#slovak_koruna
	change_variable = {
		name = stockpiling_slovak_koruna_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_slovak_koruna_state_1
			}
		}
	}

	#sol_de_oro
	change_variable = {
		name = stockpiling_sol_de_oro_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_sol_de_oro_state_1
			}
		}
	}

	#south_african_rand
	change_variable = {
		name = stockpiling_south_african_rand_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_south_african_rand_state_1
			}
		}
	}

	#swedish_krona
	change_variable = {
		name = stockpiling_swedish_krona_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_swedish_krona_state_1
			}
		}
	}

	#swiss_franc
	change_variable = {
		name = stockpiling_swiss_franc_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_swiss_franc_state_1
			}
		}
	}

	#tical
	change_variable = {
		name = stockpiling_tical_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_tical_state_1
			}
		}
	}

	#toscane_lira
	change_variable = {
		name = stockpiling_toscane_lira_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_toscane_lira_state_1
			}
		}
	}

	#tunisian_dinar
	change_variable = {
		name = stockpiling_tunisian_dinar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_tunisian_dinar_state_1
			}
		}
	}

	#tuareg_ouguiya
	change_variable = {
		name = stockpiling_tuareg_ouguiya_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_tuareg_ouguiya_state_1
			}
		}
	}

	#uni
	change_variable = {
		name = stockpiling_uni_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_uni_state_1
			}
		}
	}

	#united_states_dollar
	change_variable = {
		name = stockpiling_united_states_dollar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_united_states_dollar_state_1
			}
		}
	}

	#venezuelan_peso
	change_variable = {
		name = stockpiling_venezuelan_peso_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_venezuelan_peso_state_1
			}
		}
	}

	#west_african_eco
	change_variable = {
		name = stockpiling_west_african_eco_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_west_african_eco_state_1
			}
		}
	}

	#yen
	change_variable = {
		name = stockpiling_yen_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_yen_state_1
			}
		}
	}

	#yuan
	change_variable = {
		name = stockpiling_yuan_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_yuan_state_1
			}
		}
	}

	#yugoslav_dinar
	change_variable = {
		name = stockpiling_yugoslav_dinar_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_yugoslav_dinar_state_1
			}
		}
	}

	#zloti
	change_variable = {
		name = stockpiling_zloti_state_1
		add = {
			scope:central_bank_site_no_capital = {
				add = var:stockpiling_zloti_state_1
			}
		}
	}
#end_tag_1

			}

			#actual Capital
			scope:central_bank_site_no_capital = {
				#gold
				set_variable = {
					name = central_bank_gold_reserves_state_1
					value = 0
				}

				#financial product
				set_variable = {
					name = stockpiling_bond_var_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_company_stock_var_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_mining_stock_var_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_railroad_stock_var_state_1
					value = 0
				}

				#goods
				set_variable = {
					name = stockpiling_grain_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_wood_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_coal_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_iron_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_sulfur_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_lead_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_oil_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_dye_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_silk_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_rubber_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_ammunition_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_small_arms_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_artillery_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_tanks_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_aeroplanes_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_manowars_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_ironclads_state_1
					value = 0
				}

				#Currency

				#begin_tag_2
	#algerian_dinar
	set_variable = {
		name = stockpiling_algerian_dinar_state_1
		value = 0
	}

	#argentine_peso
	set_variable = {
		name = stockpiling_argentine_peso_state_1
		value = 0
	}

	#ariary
	set_variable = {
		name = stockpiling_ariary_state_1
		value = 0
	}

	#australian_dollar
	set_variable = {
		name = stockpiling_australian_dollar_state_1
		value = 0
	}

	#bahraini_dinar
	set_variable = {
		name = stockpiling_bahraini_dinar_state_1
		value = 0
	}

	#baht
	set_variable = {
		name = stockpiling_baht_state_1
		value = 0
	}

	#bavarian_gulden
	set_variable = {
		name = stockpiling_bavarian_gulden_state_1
		value = 0
	}

	#belgian_franc
	set_variable = {
		name = stockpiling_belgian_franc_state_1
		value = 0
	}

	#brazilian_real
	set_variable = {
		name = stockpiling_brazilian_real_state_1
		value = 0
	}

	#canadian_dollar
	set_variable = {
		name = stockpiling_canadian_dollar_state_1
		value = 0
	}

	#caribbean_dollar
	set_variable = {
		name = stockpiling_caribbean_dollar_state_1
		value = 0
	}

	#central_african_eco
	set_variable = {
		name = stockpiling_central_african_eco_state_1
		value = 0
	}

	#chilean_peso
	set_variable = {
		name = stockpiling_chilean_peso_state_1
		value = 0
	}

	#colombian_peso
	set_variable = {
		name = stockpiling_colombian_peso_state_1
		value = 0
	}

	#confederate_states_dollar
	set_variable = {
		name = stockpiling_confederate_states_dollar_state_1
		value = 0
	}

	#costa_rican_colon
	set_variable = {
		name = stockpiling_costa_rican_colon_state_1
		value = 0
	}

	#cuban_peso
	set_variable = {
		name = stockpiling_cuban_peso_state_1
		value = 0
	}

	#czech_koruna
	set_variable = {
		name = stockpiling_czech_koruna_state_1
		value = 0
	}

	#danish_krone
	set_variable = {
		name = stockpiling_danish_krone_state_1
		value = 0
	}

	#dinar
	set_variable = {
		name = stockpiling_dinar_state_1
		value = 0
	}

	#ducato
	set_variable = {
		name = stockpiling_ducato_state_1
		value = 0
	}

	#drachma
	set_variable = {
		name = stockpiling_drachma_state_1
		value = 0
	}

	#ecuadorian_peso
	set_variable = {
		name = stockpiling_ecuadorian_peso_state_1
		value = 0
	}

	#egyptian_pound
	set_variable = {
		name = stockpiling_egyptian_pound_state_1
		value = 0
	}

	#estonian_kroon
	set_variable = {
		name = stockpiling_estonian_kroon_state_1
		value = 0
	}

	#ethiopian_birr
	set_variable = {
		name = stockpiling_ethiopian_birr_state_1
		value = 0
	}

	#finnish_markka
	set_variable = {
		name = stockpiling_finnish_markka_state_1
		value = 0
	}

	#florin
	set_variable = {
		name = stockpiling_florin_state_1
		value = 0
	}

	#french_franc
	set_variable = {
		name = stockpiling_french_franc_state_1
		value = 0
	}

	#ghanaian_cedi
	set_variable = {
		name = stockpiling_ghanaian_cedi_state_1
		value = 0
	}

	#gulden
	set_variable = {
		name = stockpiling_gulden_state_1
		value = 0
	}

	#guatemalan_quetzal
	set_variable = {
		name = stockpiling_guatemalan_quetzal_state_1
		value = 0
	}

	#hannoveraner_thaler
	set_variable = {
		name = stockpiling_hannoveraner_thaler_state_1
		value = 0
	}

	#honduran_lempira
	set_variable = {
		name = stockpiling_honduran_lempira_state_1
		value = 0
	}

	#hungarian_forint
	set_variable = {
		name = stockpiling_hungarian_forint_state_1
		value = 0
	}

	#icelandic_krona
	set_variable = {
		name = stockpiling_icelandic_krona_state_1
		value = 0
	}

	#indian_rupee
	set_variable = {
		name = stockpiling_indian_rupee_state_1
		value = 0
	}

	#indies_guilder
	set_variable = {
		name = stockpiling_indies_guilder_state_1
		value = 0
	}

	#indonesian_rupiah
	set_variable = {
		name = stockpiling_indonesian_rupiah_state_1
		value = 0
	}

	#iraqi_dinar
	set_variable = {
		name = stockpiling_iraqi_dinar_state_1
		value = 0
	}

	#irish_pound
	set_variable = {
		name = stockpiling_irish_pound_state_1
		value = 0
	}

	#jordanian_dinar
	set_variable = {
		name = stockpiling_jordanian_dinar_state_1
		value = 0
	}

	#korean_won
	set_variable = {
		name = stockpiling_korean_won_state_1
		value = 0
	}

	#latvian_lats
	set_variable = {
		name = stockpiling_latvian_lats_state_1
		value = 0
	}

	#leu
	set_variable = {
		name = stockpiling_leu_state_1
		value = 0
	}

	#lev
	set_variable = {
		name = stockpiling_lev_state_1
		value = 0
	}

	#liberian_dollar
	set_variable = {
		name = stockpiling_liberian_dollar_state_1
		value = 0
	}

	#libyan_dinar
	set_variable = {
		name = stockpiling_libyan_dinar_state_1
		value = 0
	}

	#lira
	set_variable = {
		name = stockpiling_lira_state_1
		value = 0
	}

	#lithuanian_litas
	set_variable = {
		name = stockpiling_lithuanian_litas_state_1
		value = 0
	}

	#luxembourgish_franc
	set_variable = {
		name = stockpiling_luxembourgish_franc_state_1
		value = 0
	}

	#mark
	set_variable = {
		name = stockpiling_mark_state_1
		value = 0
	}

	#mexican_peso
	set_variable = {
		name = stockpiling_mexican_peso_state_1
		value = 0
	}

	#moroccan_dirham
	set_variable = {
		name = stockpiling_moroccan_dirham_state_1
		value = 0
	}

	#new_zealand_dollar
	set_variable = {
		name = stockpiling_new_zealand_dollar_state_1
		value = 0
	}

	#nicaraguan_cordoba
	set_variable = {
		name = stockpiling_nicaraguan_cordoba_state_1
		value = 0
	}

	#nigerian_naira
	set_variable = {
		name = stockpiling_nigerian_naira_state_1
		value = 0
	}

	#norwegian_krone
	set_variable = {
		name = stockpiling_norwegian_krone_state_1
		value = 0
	}

	#omanian_rial
	set_variable = {
		name = stockpiling_omanian_rial_state_1
		value = 0
	}

	#ottoman_lira
	set_variable = {
		name = stockpiling_ottoman_lira_state_1
		value = 0
	}

	#pakistan_rupee
	set_variable = {
		name = stockpiling_pakistan_rupee_state_1
		value = 0
	}

	#peseta
	set_variable = {
		name = stockpiling_peseta_state_1
		value = 0
	}

	#peso
	set_variable = {
		name = stockpiling_peso_state_1
		value = 0
	}

	#peso_bolivien
	set_variable = {
		name = stockpiling_peso_bolivien_state_1
		value = 0
	}

	#philippine_peso
	set_variable = {
		name = stockpiling_philippine_peso_state_1
		value = 0
	}

	#pound_sterling
	set_variable = {
		name = stockpiling_pound_sterling_state_1
		value = 0
	}

	#prussian_thaler
	set_variable = {
		name = stockpiling_prussian_thaler_state_1
		value = 0
	}

	#qatari_riyal
	set_variable = {
		name = stockpiling_qatari_riyal_state_1
		value = 0
	}

	#qiran
	set_variable = {
		name = stockpiling_qiran_state_1
		value = 0
	}

	#real
	set_variable = {
		name = stockpiling_real_state_1
		value = 0
	}

	#ruble
	set_variable = {
		name = stockpiling_ruble_state_1
		value = 0
	}

	#saudi_riyal
	set_variable = {
		name = stockpiling_saudi_riyal_state_1
		value = 0
	}

	#saxon_thaler
	set_variable = {
		name = stockpiling_saxon_thaler_state_1
		value = 0
	}

	#scudo_pontificio
	set_variable = {
		name = stockpiling_scudo_pontificio_state_1
		value = 0
	}

	#scudo_sardo
	set_variable = {
		name = stockpiling_scudo_sardo_state_1
		value = 0
	}

	#serbian_dinar
	set_variable = {
		name = stockpiling_serbian_dinar_state_1
		value = 0
	}

	#south_german_gulden
	set_variable = {
		name = stockpiling_south_german_gulden_state_1
		value = 0
	}

	#singapore_dollar
	set_variable = {
		name = stockpiling_singapore_dollar_state_1
		value = 0
	}

	#slovak_koruna
	set_variable = {
		name = stockpiling_slovak_koruna_state_1
		value = 0
	}

	#sol_de_oro
	set_variable = {
		name = stockpiling_sol_de_oro_state_1
		value = 0
	}

	#south_african_rand
	set_variable = {
		name = stockpiling_south_african_rand_state_1
		value = 0
	}

	#swedish_krona
	set_variable = {
		name = stockpiling_swedish_krona_state_1
		value = 0
	}

	#swiss_franc
	set_variable = {
		name = stockpiling_swiss_franc_state_1
		value = 0
	}

	#tical
	set_variable = {
		name = stockpiling_tical_state_1
		value = 0
	}

	#toscane_lira
	set_variable = {
		name = stockpiling_toscane_lira_state_1
		value = 0
	}

	#tunisian_dinar
	set_variable = {
		name = stockpiling_tunisian_dinar_state_1
		value = 0
	}

	#tuareg_ouguiya
	set_variable = {
		name = stockpiling_tuareg_ouguiya_state_1
		value = 0
	}

	#uni
	set_variable = {
		name = stockpiling_uni_state_1
		value = 0
	}

	#united_states_dollar
	set_variable = {
		name = stockpiling_united_states_dollar_state_1
		value = 0
	}

	#venezuelan_peso
	set_variable = {
		name = stockpiling_venezuelan_peso_state_1
		value = 0
	}

	#west_african_eco
	set_variable = {
		name = stockpiling_west_african_eco_state_1
		value = 0
	}

	#yen
	set_variable = {
		name = stockpiling_yen_state_1
		value = 0
	}

	#yuan
	set_variable = {
		name = stockpiling_yuan_state_1
		value = 0
	}

	#yugoslav_dinar
	set_variable = {
		name = stockpiling_yugoslav_dinar_state_1
		value = 0
	}

	#zloti
	set_variable = {
		name = stockpiling_zloti_state_1
		value = 0
	}
#end_tag_2

				remove_modifier = bank_central_place
				remove_modifier = bank_central_historic_place

				remove_modifier = financial_center_place
				remove_modifier =	financial_center_place_spe
				remove_modifier = financial_center_historic_place

				remove_modifier = national_stockpile_place
				remove_modifier = national_stockpile_historic_place

				add_modifier = {
					name = bank_central_place
					months = 1
				}
				add_modifier = {
					name = bank_central_historic_place
					months = 1
				}

				add_modifier = {
					name = financial_center_place
					months = 1
				}
				add_modifier = {
					name = financial_center_place_spe
					months = 1
				}
				add_modifier = {
					name = financial_center_historic_place
					months = 1
				}

				add_modifier = {
					name = national_stockpile_place
					months = 1
				}
				add_modifier = {
					name = national_stockpile_historic_place
					months = 1
				}
			}
		}
	}
}

looting_state_button = {
	is_shown = {
		has_modifier = bank_central_historic_place
		#devastation > 0.15 -> desactiver
		owner = {
			is_at_war = yes
			has_war_with = player
		}
	}
	is_valid = {
		owner = {
			is_at_war = yes
			has_war_with = player
		}
		player = {
			is_at_war = yes
			var:looting_1_year = 0
		}
	}
	effect = {
		every_scope_state = {
			every_country = {
				if  = {
					limit = {
						is_player = yes
					}
					set_variable  = {
						name = looting_1_year
						value = 1
					}
					every_scope_state = {
						limit = {
							has_modifier = bank_central_historic_place
							is_capital = yes
						}
						save_scope_as = central_bank_site_capital_player
					}
				}
			}

			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				save_scope_as = central_bank_site_no_capital_looted
			}

			#actual Capital
			scope:central_bank_site_capital_player = {
				#gold
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.central_bank_gold_reserves_state_25
						}
					}
				}

				#Goods
				change_variable = {
					name = stockpiling_grain_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_grain_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_wood_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_wood_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_coal_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_coal_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_iron_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_iron_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_sulfur_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_sulfur_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_lead_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_lead_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_oil_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_oil_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_dye_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_dye_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_silk_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_silk_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_rubber_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_rubber_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_ammunition_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_ammunition_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_small_arms_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_small_arms_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_artillery_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_artillery_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_tanks_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_tanks_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_aeroplanes_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_aeroplanes_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_manowars_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_manowars_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_ironclads_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_ironclads_state_1_25
						}
					}
				}
			}

			#actual Capital
			scope:central_bank_site_no_capital_looted = {
				#gold
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = owner.central_bank_gold_reserves_state_25
				}

				#goods
				change_variable = {
					name = stockpiling_grain_state_1
					subtract = owner.stockpiling_grain_state_1_25
				}

				change_variable = {
					name = stockpiling_wood_state_1
					subtract = owner.stockpiling_wood_state_1_25
				}

				change_variable = {
					name = stockpiling_coal_state_1
					subtract = owner.stockpiling_coal_state_1_25
				}

				change_variable = {
					name = stockpiling_iron_state_1
					subtract = owner.stockpiling_iron_state_1_25
				}

				change_variable = {
					name = stockpiling_sulfur_state_1
					subtract = owner.stockpiling_sulfur_state_1_25
				}

				change_variable = {
					name = stockpiling_lead_state_1
					subtract = owner.stockpiling_lead_state_1_25
				}

				change_variable = {
					name = stockpiling_oil_state_1
					subtract = owner.stockpiling_oil_state_1_25
				}

				change_variable = {
					name = stockpiling_dye_state_1
					subtract = owner.stockpiling_dye_state_1_25
				}

				change_variable = {
					name = stockpiling_silk_state_1
					subtract = owner.stockpiling_silk_state_1_25
				}

				change_variable = {
					name = stockpiling_rubber_state_1
					subtract = owner.stockpiling_rubber_state_1_25
				}

				change_variable = {
					name = stockpiling_ammunition_state_1
					subtract = owner.stockpiling_ammunition_state_1_25
				}

				change_variable = {
					name = stockpiling_small_arms_state_1
					subtract = owner.stockpiling_small_arms_state_1_25
				}

				change_variable = {
					name = stockpiling_artillery_state_1
					subtract = owner.stockpiling_artillery_state_1_25
				}

				change_variable = {
					name = stockpiling_tanks_state_1
					subtract = owner.stockpiling_tanks_state_1_25
				}

				change_variable = {
					name = stockpiling_aeroplanes_state_1
					subtract = owner.stockpiling_aeroplanes_state_1_25
				}

				change_variable = {
					name = stockpiling_manowars_state_1
					subtract = owner.stockpiling_manowars_state_1_25
				}

				change_variable = {
					name = stockpiling_ironclads_state_1
					subtract = owner.stockpiling_ironclads_state_1_25
				}
			}
		}
	}
}

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

################################################################################################################################################################
################################################################################################################################################################
################################################################################################################################################################
################################################################################################################################################################

# ███████╗ ██████╗ ██████╗ ███████╗██╗ ██████╗ ███╗   ██╗
# ██╔════╝██╔═══██╗██╔══██╗██╔════╝██║██╔════╝ ████╗  ██║
# █████╗  ██║   ██║██████╔╝█████╗  ██║██║  ███╗██╔██╗ ██║
# ██╔══╝  ██║   ██║██╔══██╗██╔══╝  ██║██║   ██║██║╚██╗██║
# ██║     ╚██████╔╝██║  ██║███████╗██║╚██████╔╝██║ ╚████║
# ╚═╝      ╚═════╝ ╚═╝  ╚═╝╚══════╝╚═╝ ╚═════╝ ╚═╝  ╚═══╝
#
# ██╗███╗   ██╗██╗   ██╗███████╗███████╗████████╗███╗   ███╗███████╗███╗   ██╗████████╗
# ██║████╗  ██║██║   ██║██╔════╝██╔════╝╚══██╔══╝████╗ ████║██╔════╝████╗  ██║╚══██╔══╝
# ██║██╔██╗ ██║██║   ██║█████╗  ███████╗   ██║   ██╔████╔██║█████╗  ██╔██╗ ██║   ██║
# ██║██║╚██╗██║╚██╗ ██╔╝██╔══╝  ╚════██║   ██║   ██║╚██╔╝██║██╔══╝  ██║╚██╗██║   ██║
# ██║██║ ╚████║ ╚████╔╝ ███████╗███████║   ██║   ██║ ╚═╝ ██║███████╗██║ ╚████║   ██║
# ╚═╝╚═╝  ╚═══╝  ╚═══╝  ╚══════╝╚══════╝   ╚═╝   ╚═╝     ╚═╝╚══════╝╚═╝  ╚═══╝   ╚═╝
#
# ██╗   ██╗██╗███████╗██╗██████╗ ██╗██╗     ██╗████████╗██╗   ██╗
# ██║   ██║██║██╔════╝██║██╔══██╗██║██║     ██║╚══██╔══╝╚██╗ ██╔╝
# ██║   ██║██║███████╗██║██████╔╝██║██║     ██║   ██║    ╚████╔╝
# ╚██╗ ██╔╝██║╚════██║██║██╔══██╗██║██║     ██║   ██║     ╚██╔╝
#  ╚████╔╝ ██║███████║██║██████╔╝██║███████╗██║   ██║      ██║
#   ╚═══╝  ╚═╝╚══════╝╚═╝╚═════╝ ╚═╝╚══════╝╚═╝   ╚═╝      ╚═╝

################################################################################################################################################################
################################################################################################################################################################
################################################################################################################################################################
################################################################################################################################################################

foreign_investment_visibility = {
	is_shown = {
		or = {
			has_modifier = 10_year_buyer_maturity_seller_1
			has_modifier = 10_year_buyer_maturity_seller_2
			has_modifier = 10_year_buyer_maturity_seller_3
			has_modifier = 10_year_buyer_maturity_seller_4
			has_modifier = 10_year_buyer_maturity_seller_5
			has_modifier = 5_year_buyer_maturity_seller_6
			has_modifier = 5_year_buyer_maturity_seller_7
			has_modifier = 5_year_buyer_maturity_seller_8
			has_modifier = 5_year_buyer_maturity_seller_9
			has_modifier = 5_year_buyer_maturity_seller_10

			has_modifier = 10_year_buyer_maturity_buyer_1
			has_modifier = 10_year_buyer_maturity_buyer_2
			has_modifier = 10_year_buyer_maturity_buyer_3
			has_modifier = 10_year_buyer_maturity_buyer_4
			has_modifier = 10_year_buyer_maturity_buyer_5
			has_modifier = 5_year_buyer_maturity_buyer_6
			has_modifier = 5_year_buyer_maturity_buyer_7
			has_modifier = 5_year_buyer_maturity_buyer_8
			has_modifier = 5_year_buyer_maturity_buyer_9
			has_modifier = 5_year_buyer_maturity_buyer_10

			has_modifier = ai_10_year_buyer_maturity_seller_1
			has_modifier = ai_10_year_buyer_maturity_seller_2
			has_modifier = ai_10_year_buyer_maturity_seller_3
			has_modifier = ai_10_year_buyer_maturity_seller_4
			has_modifier = ai_10_year_buyer_maturity_seller_5
			has_modifier = ai_5_year_buyer_maturity_seller_6
			has_modifier = ai_5_year_buyer_maturity_seller_7
			has_modifier = ai_5_year_buyer_maturity_seller_8
			has_modifier = ai_5_year_buyer_maturity_seller_9
			has_modifier = ai_5_year_buyer_maturity_seller_10

			has_modifier = ai_10_year_buyer_maturity_buyer_1
			has_modifier = ai_10_year_buyer_maturity_buyer_2
			has_modifier = ai_10_year_buyer_maturity_buyer_3
			has_modifier = ai_10_year_buyer_maturity_buyer_4
			has_modifier = ai_10_year_buyer_maturity_buyer_5
			has_modifier = ai_5_year_buyer_maturity_buyer_6
			has_modifier = ai_5_year_buyer_maturity_buyer_7
			has_modifier = ai_5_year_buyer_maturity_buyer_8
			has_modifier = ai_5_year_buyer_maturity_buyer_9
			has_modifier = ai_5_year_buyer_maturity_buyer_10
		}
	}
}

seller_country_general_10Y_oclick = {
	effect = {
		set_variable = {
			name = seller_country_general
			value = 10
		}
	}
}

buyer_country_general_5Y_oclick = {
	effect = {
		set_variable = {
			name = seller_country_general
			value = 5
		}
	}
}

seller_country_general_10Y_visible = {
	is_shown = {
		var:seller_country_general = 10
	}
}

buyer_country_general_5Y_visible = {
	is_shown = {
		var:seller_country_general = 5
	}
}

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

#begin_tag_4
	#algerian_dinar
	stockpiling_algerian_dinar_state_visibility = {
		is_shown = {
			var:stockpiling_algerian_dinar_state_1 > 0
		}
	}

	#argentine_peso
	stockpiling_argentine_peso_state_visibility = {
		is_shown = {
			var:stockpiling_argentine_peso_state_1 > 0
		}
	}

	#ariary
	stockpiling_ariary_state_visibility = {
		is_shown = {
			var:stockpiling_ariary_state_1 > 0
		}
	}

	#australian_dollar
	stockpiling_australian_dollar_state_visibility = {
		is_shown = {
			var:stockpiling_australian_dollar_state_1 > 0
		}
	}

	#bahraini_dinar
	stockpiling_bahraini_dinar_state_visibility = {
		is_shown = {
			var:stockpiling_bahraini_dinar_state_1 > 0
		}
	}

	#baht
	stockpiling_baht_state_visibility = {
		is_shown = {
			var:stockpiling_baht_state_1 > 0
		}
	}

	#bavarian_gulden
	stockpiling_bavarian_gulden_state_visibility = {
		is_shown = {
			var:stockpiling_bavarian_gulden_state_1 > 0
		}
	}

	#belgian_franc
	stockpiling_belgian_franc_state_visibility = {
		is_shown = {
			var:stockpiling_belgian_franc_state_1 > 0
		}
	}

	#brazilian_real
	stockpiling_brazilian_real_state_visibility = {
		is_shown = {
			var:stockpiling_brazilian_real_state_1 > 0
		}
	}

	#canadian_dollar
	stockpiling_canadian_dollar_state_visibility = {
		is_shown = {
			var:stockpiling_canadian_dollar_state_1 > 0
		}
	}

	#caribbean_dollar
	stockpiling_caribbean_dollar_state_visibility = {
		is_shown = {
			var:stockpiling_caribbean_dollar_state_1 > 0
		}
	}

	#central_african_eco
	stockpiling_central_african_eco_state_visibility = {
		is_shown = {
			var:stockpiling_central_african_eco_state_1 > 0
		}
	}

	#chilean_peso
	stockpiling_chilean_peso_state_visibility = {
		is_shown = {
			var:stockpiling_chilean_peso_state_1 > 0
		}
	}

	#colombian_peso
	stockpiling_colombian_peso_state_visibility = {
		is_shown = {
			var:stockpiling_colombian_peso_state_1 > 0
		}
	}

	#confederate_states_dollar
	stockpiling_confederate_states_dollar_state_visibility = {
		is_shown = {
			var:stockpiling_confederate_states_dollar_state_1 > 0
		}
	}

	#costa_rican_colon
	stockpiling_costa_rican_colon_state_visibility = {
		is_shown = {
			var:stockpiling_costa_rican_colon_state_1 > 0
		}
	}

	#cuban_peso
	stockpiling_cuban_peso_state_visibility = {
		is_shown = {
			var:stockpiling_cuban_peso_state_1 > 0
		}
	}

	#czech_koruna
	stockpiling_czech_koruna_state_visibility = {
		is_shown = {
			var:stockpiling_czech_koruna_state_1 > 0
		}
	}

	#danish_krone
	stockpiling_danish_krone_state_visibility = {
		is_shown = {
			var:stockpiling_danish_krone_state_1 > 0
		}
	}

	#dinar
	stockpiling_dinar_state_visibility = {
		is_shown = {
			var:stockpiling_dinar_state_1 > 0
		}
	}

	#ducato
	stockpiling_ducato_state_visibility = {
		is_shown = {
			var:stockpiling_ducato_state_1 > 0
		}
	}

	#drachma
	stockpiling_drachma_state_visibility = {
		is_shown = {
			var:stockpiling_drachma_state_1 > 0
		}
	}

	#ecuadorian_peso
	stockpiling_ecuadorian_peso_state_visibility = {
		is_shown = {
			var:stockpiling_ecuadorian_peso_state_1 > 0
		}
	}

	#egyptian_pound
	stockpiling_egyptian_pound_state_visibility = {
		is_shown = {
			var:stockpiling_egyptian_pound_state_1 > 0
		}
	}

	#estonian_kroon
	stockpiling_estonian_kroon_state_visibility = {
		is_shown = {
			var:stockpiling_estonian_kroon_state_1 > 0
		}
	}

	#ethiopian_birr
	stockpiling_ethiopian_birr_state_visibility = {
		is_shown = {
			var:stockpiling_ethiopian_birr_state_1 > 0
		}
	}

	#finnish_markka
	stockpiling_finnish_markka_state_visibility = {
		is_shown = {
			var:stockpiling_finnish_markka_state_1 > 0
		}
	}

	#florin
	stockpiling_florin_state_visibility = {
		is_shown = {
			var:stockpiling_florin_state_1 > 0
		}
	}

	#french_franc
	stockpiling_french_franc_state_visibility = {
		is_shown = {
			var:stockpiling_french_franc_state_1 > 0
		}
	}

	#ghanaian_cedi
	stockpiling_ghanaian_cedi_state_visibility = {
		is_shown = {
			var:stockpiling_ghanaian_cedi_state_1 > 0
		}
	}

	#gulden
	stockpiling_gulden_state_visibility = {
		is_shown = {
			var:stockpiling_gulden_state_1 > 0
		}
	}

	#guatemalan_quetzal
	stockpiling_guatemalan_quetzal_state_visibility = {
		is_shown = {
			var:stockpiling_guatemalan_quetzal_state_1 > 0
		}
	}

	#hannoveraner_thaler
	stockpiling_hannoveraner_thaler_state_visibility = {
		is_shown = {
			var:stockpiling_hannoveraner_thaler_state_1 > 0
		}
	}

	#honduran_lempira
	stockpiling_honduran_lempira_state_visibility = {
		is_shown = {
			var:stockpiling_honduran_lempira_state_1 > 0
		}
	}

	#hungarian_forint
	stockpiling_hungarian_forint_state_visibility = {
		is_shown = {
			var:stockpiling_hungarian_forint_state_1 > 0
		}
	}

	#icelandic_krona
	stockpiling_icelandic_krona_state_visibility = {
		is_shown = {
			var:stockpiling_icelandic_krona_state_1 > 0
		}
	}

	#indian_rupee
	stockpiling_indian_rupee_state_visibility = {
		is_shown = {
			var:stockpiling_indian_rupee_state_1 > 0
		}
	}

	#indies_guilder
	stockpiling_indies_guilder_state_visibility = {
		is_shown = {
			var:stockpiling_indies_guilder_state_1 > 0
		}
	}

	#indonesian_rupiah
	stockpiling_indonesian_rupiah_state_visibility = {
		is_shown = {
			var:stockpiling_indonesian_rupiah_state_1 > 0
		}
	}

	#iraqi_dinar
	stockpiling_iraqi_dinar_state_visibility = {
		is_shown = {
			var:stockpiling_iraqi_dinar_state_1 > 0
		}
	}

	#irish_pound
	stockpiling_irish_pound_state_visibility = {
		is_shown = {
			var:stockpiling_irish_pound_state_1 > 0
		}
	}

	#jordanian_dinar
	stockpiling_jordanian_dinar_state_visibility = {
		is_shown = {
			var:stockpiling_jordanian_dinar_state_1 > 0
		}
	}

	#korean_won
	stockpiling_korean_won_state_visibility = {
		is_shown = {
			var:stockpiling_korean_won_state_1 > 0
		}
	}

	#latvian_lats
	stockpiling_latvian_lats_state_visibility = {
		is_shown = {
			var:stockpiling_latvian_lats_state_1 > 0
		}
	}

	#leu
	stockpiling_leu_state_visibility = {
		is_shown = {
			var:stockpiling_leu_state_1 > 0
		}
	}

	#lev
	stockpiling_lev_state_visibility = {
		is_shown = {
			var:stockpiling_lev_state_1 > 0
		}
	}

	#liberian_dollar
	stockpiling_liberian_dollar_state_visibility = {
		is_shown = {
			var:stockpiling_liberian_dollar_state_1 > 0
		}
	}

	#libyan_dinar
	stockpiling_libyan_dinar_state_visibility = {
		is_shown = {
			var:stockpiling_libyan_dinar_state_1 > 0
		}
	}

	#lira
	stockpiling_lira_state_visibility = {
		is_shown = {
			var:stockpiling_lira_state_1 > 0
		}
	}

	#lithuanian_litas
	stockpiling_lithuanian_litas_state_visibility = {
		is_shown = {
			var:stockpiling_lithuanian_litas_state_1 > 0
		}
	}

	#luxembourgish_franc
	stockpiling_luxembourgish_franc_state_visibility = {
		is_shown = {
			var:stockpiling_luxembourgish_franc_state_1 > 0
		}
	}

	#mark
	stockpiling_mark_state_visibility = {
		is_shown = {
			var:stockpiling_mark_state_1 > 0
		}
	}

	#mexican_peso
	stockpiling_mexican_peso_state_visibility = {
		is_shown = {
			var:stockpiling_mexican_peso_state_1 > 0
		}
	}

	#moroccan_dirham
	stockpiling_moroccan_dirham_state_visibility = {
		is_shown = {
			var:stockpiling_moroccan_dirham_state_1 > 0
		}
	}

	#new_zealand_dollar
	stockpiling_new_zealand_dollar_state_visibility = {
		is_shown = {
			var:stockpiling_new_zealand_dollar_state_1 > 0
		}
	}

	#nicaraguan_cordoba
	stockpiling_nicaraguan_cordoba_state_visibility = {
		is_shown = {
			var:stockpiling_nicaraguan_cordoba_state_1 > 0
		}
	}

	#nigerian_naira
	stockpiling_nigerian_naira_state_visibility = {
		is_shown = {
			var:stockpiling_nigerian_naira_state_1 > 0
		}
	}

	#norwegian_krone
	stockpiling_norwegian_krone_state_visibility = {
		is_shown = {
			var:stockpiling_norwegian_krone_state_1 > 0
		}
	}

	#omanian_rial
	stockpiling_omanian_rial_state_visibility = {
		is_shown = {
			var:stockpiling_omanian_rial_state_1 > 0
		}
	}

	#ottoman_lira
	stockpiling_ottoman_lira_state_visibility = {
		is_shown = {
			var:stockpiling_ottoman_lira_state_1 > 0
		}
	}

	#pakistan_rupee
	stockpiling_pakistan_rupee_state_visibility = {
		is_shown = {
			var:stockpiling_pakistan_rupee_state_1 > 0
		}
	}

	#peseta
	stockpiling_peseta_state_visibility = {
		is_shown = {
			var:stockpiling_peseta_state_1 > 0
		}
	}

	#peso
	stockpiling_peso_state_visibility = {
		is_shown = {
			var:stockpiling_peso_state_1 > 0
		}
	}

	#peso_bolivien
	stockpiling_peso_bolivien_state_visibility = {
		is_shown = {
			var:stockpiling_peso_bolivien_state_1 > 0
		}
	}

	#philippine_peso
	stockpiling_philippine_peso_state_visibility = {
		is_shown = {
			var:stockpiling_philippine_peso_state_1 > 0
		}
	}

	#pound_sterling
	stockpiling_pound_sterling_state_visibility = {
		is_shown = {
			var:stockpiling_pound_sterling_state_1 > 0
		}
	}

	#prussian_thaler
	stockpiling_prussian_thaler_state_visibility = {
		is_shown = {
			var:stockpiling_prussian_thaler_state_1 > 0
		}
	}

	#qatari_riyal
	stockpiling_qatari_riyal_state_visibility = {
		is_shown = {
			var:stockpiling_qatari_riyal_state_1 > 0
		}
	}

	#qiran
	stockpiling_qiran_state_visibility = {
		is_shown = {
			var:stockpiling_qiran_state_1 > 0
		}
	}

	#real
	stockpiling_real_state_visibility = {
		is_shown = {
			var:stockpiling_real_state_1 > 0
		}
	}

	#ruble
	stockpiling_ruble_state_visibility = {
		is_shown = {
			var:stockpiling_ruble_state_1 > 0
		}
	}

	#saudi_riyal
	stockpiling_saudi_riyal_state_visibility = {
		is_shown = {
			var:stockpiling_saudi_riyal_state_1 > 0
		}
	}

	#saxon_thaler
	stockpiling_saxon_thaler_state_visibility = {
		is_shown = {
			var:stockpiling_saxon_thaler_state_1 > 0
		}
	}

	#scudo_pontificio
	stockpiling_scudo_pontificio_state_visibility = {
		is_shown = {
			var:stockpiling_scudo_pontificio_state_1 > 0
		}
	}

	#scudo_sardo
	stockpiling_scudo_sardo_state_visibility = {
		is_shown = {
			var:stockpiling_scudo_sardo_state_1 > 0
		}
	}

	#serbian_dinar
	stockpiling_serbian_dinar_state_visibility = {
		is_shown = {
			var:stockpiling_serbian_dinar_state_1 > 0
		}
	}

	#south_german_gulden
	stockpiling_south_german_gulden_state_visibility = {
		is_shown = {
			var:stockpiling_south_german_gulden_state_1 > 0
		}
	}

	#singapore_dollar
	stockpiling_singapore_dollar_state_visibility = {
		is_shown = {
			var:stockpiling_singapore_dollar_state_1 > 0
		}
	}

	#slovak_koruna
	stockpiling_slovak_koruna_state_visibility = {
		is_shown = {
			var:stockpiling_slovak_koruna_state_1 > 0
		}
	}

	#sol_de_oro
	stockpiling_sol_de_oro_state_visibility = {
		is_shown = {
			var:stockpiling_sol_de_oro_state_1 > 0
		}
	}

	#south_african_rand
	stockpiling_south_african_rand_state_visibility = {
		is_shown = {
			var:stockpiling_south_african_rand_state_1 > 0
		}
	}

	#swedish_krona
	stockpiling_swedish_krona_state_visibility = {
		is_shown = {
			var:stockpiling_swedish_krona_state_1 > 0
		}
	}

	#swiss_franc
	stockpiling_swiss_franc_state_visibility = {
		is_shown = {
			var:stockpiling_swiss_franc_state_1 > 0
		}
	}

	#tical
	stockpiling_tical_state_visibility = {
		is_shown = {
			var:stockpiling_tical_state_1 > 0
		}
	}

	#toscane_lira
	stockpiling_toscane_lira_state_visibility = {
		is_shown = {
			var:stockpiling_toscane_lira_state_1 > 0
		}
	}

	#tunisian_dinar
	stockpiling_tunisian_dinar_state_visibility = {
		is_shown = {
			var:stockpiling_tunisian_dinar_state_1 > 0
		}
	}

	#tuareg_ouguiya
	stockpiling_tuareg_ouguiya_state_visibility = {
		is_shown = {
			var:stockpiling_tuareg_ouguiya_state_1 > 0
		}
	}

	#uni
	stockpiling_uni_state_visibility = {
		is_shown = {
			var:stockpiling_uni_state_1 > 0
		}
	}

	#united_states_dollar
	stockpiling_united_states_dollar_state_visibility = {
		is_shown = {
			var:stockpiling_united_states_dollar_state_1 > 0
		}
	}

	#venezuelan_peso
	stockpiling_venezuelan_peso_state_visibility = {
		is_shown = {
			var:stockpiling_venezuelan_peso_state_1 > 0
		}
	}

	#west_african_eco
	stockpiling_west_african_eco_state_visibility = {
		is_shown = {
			var:stockpiling_west_african_eco_state_1 > 0
		}
	}

	#yen
	stockpiling_yen_state_visibility = {
		is_shown = {
			var:stockpiling_yen_state_1 > 0
		}
	}

	#yuan
	stockpiling_yuan_state_visibility = {
		is_shown = {
			var:stockpiling_yuan_state_1 > 0
		}
	}

	#yugoslav_dinar
	stockpiling_yugoslav_dinar_state_visibility = {
		is_shown = {
			var:stockpiling_yugoslav_dinar_state_1 > 0
		}
	}

	#zloti
	stockpiling_zloti_state_visibility = {
		is_shown = {
			var:stockpiling_zloti_state_1 > 0
		}
	}
#end_tag_4

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################



############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

#begin_tag_5
	#algerian_dinar
	stockpiling_algerian_dinar_visibility = {
		is_shown = {
			stockpiling_algerian_dinar_state > 0
		}
	}

	#argentine_peso
	stockpiling_argentine_peso_visibility = {
		is_shown = {
			stockpiling_argentine_peso_state > 0
		}
	}

	#ariary
	stockpiling_ariary_visibility = {
		is_shown = {
			stockpiling_ariary_state > 0
		}
	}

	#australian_dollar
	stockpiling_australian_dollar_visibility = {
		is_shown = {
			stockpiling_australian_dollar_state > 0
		}
	}

	#bahraini_dinar
	stockpiling_bahraini_dinar_visibility = {
		is_shown = {
			stockpiling_bahraini_dinar_state > 0
		}
	}

	#baht
	stockpiling_baht_visibility = {
		is_shown = {
			stockpiling_baht_state > 0
		}
	}

	#bavarian_gulden
	stockpiling_bavarian_gulden_visibility = {
		is_shown = {
			stockpiling_bavarian_gulden_state > 0
		}
	}

	#belgian_franc
	stockpiling_belgian_franc_visibility = {
		is_shown = {
			stockpiling_belgian_franc_state > 0
		}
	}

	#brazilian_real
	stockpiling_brazilian_real_visibility = {
		is_shown = {
			stockpiling_brazilian_real_state > 0
		}
	}

	#canadian_dollar
	stockpiling_canadian_dollar_visibility = {
		is_shown = {
			stockpiling_canadian_dollar_state > 0
		}
	}

	#caribbean_dollar
	stockpiling_caribbean_dollar_visibility = {
		is_shown = {
			stockpiling_caribbean_dollar_state > 0
		}
	}

	#central_african_eco
	stockpiling_central_african_eco_visibility = {
		is_shown = {
			stockpiling_central_african_eco_state > 0
		}
	}

	#chilean_peso
	stockpiling_chilean_peso_visibility = {
		is_shown = {
			stockpiling_chilean_peso_state > 0
		}
	}

	#colombian_peso
	stockpiling_colombian_peso_visibility = {
		is_shown = {
			stockpiling_colombian_peso_state > 0
		}
	}

	#confederate_states_dollar
	stockpiling_confederate_states_dollar_visibility = {
		is_shown = {
			stockpiling_confederate_states_dollar_state > 0
		}
	}

	#costa_rican_colon
	stockpiling_costa_rican_colon_visibility = {
		is_shown = {
			stockpiling_costa_rican_colon_state > 0
		}
	}

	#cuban_peso
	stockpiling_cuban_peso_visibility = {
		is_shown = {
			stockpiling_cuban_peso_state > 0
		}
	}

	#czech_koruna
	stockpiling_czech_koruna_visibility = {
		is_shown = {
			stockpiling_czech_koruna_state > 0
		}
	}

	#danish_krone
	stockpiling_danish_krone_visibility = {
		is_shown = {
			stockpiling_danish_krone_state > 0
		}
	}

	#dinar
	stockpiling_dinar_visibility = {
		is_shown = {
			stockpiling_dinar_state > 0
		}
	}

	#ducato
	stockpiling_ducato_visibility = {
		is_shown = {
			stockpiling_ducato_state > 0
		}
	}

	#drachma
	stockpiling_drachma_visibility = {
		is_shown = {
			stockpiling_drachma_state > 0
		}
	}

	#ecuadorian_peso
	stockpiling_ecuadorian_peso_visibility = {
		is_shown = {
			stockpiling_ecuadorian_peso_state > 0
		}
	}

	#egyptian_pound
	stockpiling_egyptian_pound_visibility = {
		is_shown = {
			stockpiling_egyptian_pound_state > 0
		}
	}

	#estonian_kroon
	stockpiling_estonian_kroon_visibility = {
		is_shown = {
			stockpiling_estonian_kroon_state > 0
		}
	}

	#ethiopian_birr
	stockpiling_ethiopian_birr_visibility = {
		is_shown = {
			stockpiling_ethiopian_birr_state > 0
		}
	}

	#finnish_markka
	stockpiling_finnish_markka_visibility = {
		is_shown = {
			stockpiling_finnish_markka_state > 0
		}
	}

	#florin
	stockpiling_florin_visibility = {
		is_shown = {
			stockpiling_florin_state > 0
		}
	}

	#french_franc
	stockpiling_french_franc_visibility = {
		is_shown = {
			stockpiling_french_franc_state > 0
		}
	}

	#ghanaian_cedi
	stockpiling_ghanaian_cedi_visibility = {
		is_shown = {
			stockpiling_ghanaian_cedi_state > 0
		}
	}

	#gulden
	stockpiling_gulden_visibility = {
		is_shown = {
			stockpiling_gulden_state > 0
		}
	}

	#guatemalan_quetzal
	stockpiling_guatemalan_quetzal_visibility = {
		is_shown = {
			stockpiling_guatemalan_quetzal_state > 0
		}
	}

	#hannoveraner_thaler
	stockpiling_hannoveraner_thaler_visibility = {
		is_shown = {
			stockpiling_hannoveraner_thaler_state > 0
		}
	}

	#honduran_lempira
	stockpiling_honduran_lempira_visibility = {
		is_shown = {
			stockpiling_honduran_lempira_state > 0
		}
	}

	#hungarian_forint
	stockpiling_hungarian_forint_visibility = {
		is_shown = {
			stockpiling_hungarian_forint_state > 0
		}
	}

	#icelandic_krona
	stockpiling_icelandic_krona_visibility = {
		is_shown = {
			stockpiling_icelandic_krona_state > 0
		}
	}

	#indian_rupee
	stockpiling_indian_rupee_visibility = {
		is_shown = {
			stockpiling_indian_rupee_state > 0
		}
	}

	#indies_guilder
	stockpiling_indies_guilder_visibility = {
		is_shown = {
			stockpiling_indies_guilder_state > 0
		}
	}

	#indonesian_rupiah
	stockpiling_indonesian_rupiah_visibility = {
		is_shown = {
			stockpiling_indonesian_rupiah_state > 0
		}
	}

	#iraqi_dinar
	stockpiling_iraqi_dinar_visibility = {
		is_shown = {
			stockpiling_iraqi_dinar_state > 0
		}
	}

	#irish_pound
	stockpiling_irish_pound_visibility = {
		is_shown = {
			stockpiling_irish_pound_state > 0
		}
	}

	#jordanian_dinar
	stockpiling_jordanian_dinar_visibility = {
		is_shown = {
			stockpiling_jordanian_dinar_state > 0
		}
	}

	#korean_won
	stockpiling_korean_won_visibility = {
		is_shown = {
			stockpiling_korean_won_state > 0
		}
	}

	#latvian_lats
	stockpiling_latvian_lats_visibility = {
		is_shown = {
			stockpiling_latvian_lats_state > 0
		}
	}

	#leu
	stockpiling_leu_visibility = {
		is_shown = {
			stockpiling_leu_state > 0
		}
	}

	#lev
	stockpiling_lev_visibility = {
		is_shown = {
			stockpiling_lev_state > 0
		}
	}

	#liberian_dollar
	stockpiling_liberian_dollar_visibility = {
		is_shown = {
			stockpiling_liberian_dollar_state > 0
		}
	}

	#libyan_dinar
	stockpiling_libyan_dinar_visibility = {
		is_shown = {
			stockpiling_libyan_dinar_state > 0
		}
	}

	#lira
	stockpiling_lira_visibility = {
		is_shown = {
			stockpiling_lira_state > 0
		}
	}

	#lithuanian_litas
	stockpiling_lithuanian_litas_visibility = {
		is_shown = {
			stockpiling_lithuanian_litas_state > 0
		}
	}

	#luxembourgish_franc
	stockpiling_luxembourgish_franc_visibility = {
		is_shown = {
			stockpiling_luxembourgish_franc_state > 0
		}
	}

	#mark
	stockpiling_mark_visibility = {
		is_shown = {
			stockpiling_mark_state > 0
		}
	}

	#mexican_peso
	stockpiling_mexican_peso_visibility = {
		is_shown = {
			stockpiling_mexican_peso_state > 0
		}
	}

	#moroccan_dirham
	stockpiling_moroccan_dirham_visibility = {
		is_shown = {
			stockpiling_moroccan_dirham_state > 0
		}
	}

	#new_zealand_dollar
	stockpiling_new_zealand_dollar_visibility = {
		is_shown = {
			stockpiling_new_zealand_dollar_state > 0
		}
	}

	#nicaraguan_cordoba
	stockpiling_nicaraguan_cordoba_visibility = {
		is_shown = {
			stockpiling_nicaraguan_cordoba_state > 0
		}
	}

	#nigerian_naira
	stockpiling_nigerian_naira_visibility = {
		is_shown = {
			stockpiling_nigerian_naira_state > 0
		}
	}

	#norwegian_krone
	stockpiling_norwegian_krone_visibility = {
		is_shown = {
			stockpiling_norwegian_krone_state > 0
		}
	}

	#omanian_rial
	stockpiling_omanian_rial_visibility = {
		is_shown = {
			stockpiling_omanian_rial_state > 0
		}
	}

	#ottoman_lira
	stockpiling_ottoman_lira_visibility = {
		is_shown = {
			stockpiling_ottoman_lira_state > 0
		}
	}

	#pakistan_rupee
	stockpiling_pakistan_rupee_visibility = {
		is_shown = {
			stockpiling_pakistan_rupee_state > 0
		}
	}

	#peseta
	stockpiling_peseta_visibility = {
		is_shown = {
			stockpiling_peseta_state > 0
		}
	}

	#peso
	stockpiling_peso_visibility = {
		is_shown = {
			stockpiling_peso_state > 0
		}
	}

	#peso_bolivien
	stockpiling_peso_bolivien_visibility = {
		is_shown = {
			stockpiling_peso_bolivien_state > 0
		}
	}

	#philippine_peso
	stockpiling_philippine_peso_visibility = {
		is_shown = {
			stockpiling_philippine_peso_state > 0
		}
	}

	#pound_sterling
	stockpiling_pound_sterling_visibility = {
		is_shown = {
			stockpiling_pound_sterling_state > 0
		}
	}

	#prussian_thaler
	stockpiling_prussian_thaler_visibility = {
		is_shown = {
			stockpiling_prussian_thaler_state > 0
		}
	}

	#qatari_riyal
	stockpiling_qatari_riyal_visibility = {
		is_shown = {
			stockpiling_qatari_riyal_state > 0
		}
	}

	#qiran
	stockpiling_qiran_visibility = {
		is_shown = {
			stockpiling_qiran_state > 0
		}
	}

	#real
	stockpiling_real_visibility = {
		is_shown = {
			stockpiling_real_state > 0
		}
	}

	#ruble
	stockpiling_ruble_visibility = {
		is_shown = {
			stockpiling_ruble_state > 0
		}
	}

	#saudi_riyal
	stockpiling_saudi_riyal_visibility = {
		is_shown = {
			stockpiling_saudi_riyal_state > 0
		}
	}

	#saxon_thaler
	stockpiling_saxon_thaler_visibility = {
		is_shown = {
			stockpiling_saxon_thaler_state > 0
		}
	}

	#scudo_pontificio
	stockpiling_scudo_pontificio_visibility = {
		is_shown = {
			stockpiling_scudo_pontificio_state > 0
		}
	}

	#scudo_sardo
	stockpiling_scudo_sardo_visibility = {
		is_shown = {
			stockpiling_scudo_sardo_state > 0
		}
	}

	#serbian_dinar
	stockpiling_serbian_dinar_visibility = {
		is_shown = {
			stockpiling_serbian_dinar_state > 0
		}
	}

	#south_german_gulden
	stockpiling_south_german_gulden_visibility = {
		is_shown = {
			stockpiling_south_german_gulden_state > 0
		}
	}

	#singapore_dollar
	stockpiling_singapore_dollar_visibility = {
		is_shown = {
			stockpiling_singapore_dollar_state > 0
		}
	}

	#slovak_koruna
	stockpiling_slovak_koruna_visibility = {
		is_shown = {
			stockpiling_slovak_koruna_state > 0
		}
	}

	#sol_de_oro
	stockpiling_sol_de_oro_visibility = {
		is_shown = {
			stockpiling_sol_de_oro_state > 0
		}
	}

	#south_african_rand
	stockpiling_south_african_rand_visibility = {
		is_shown = {
			stockpiling_south_african_rand_state > 0
		}
	}

	#swedish_krona
	stockpiling_swedish_krona_visibility = {
		is_shown = {
			stockpiling_swedish_krona_state > 0
		}
	}

	#swiss_franc
	stockpiling_swiss_franc_visibility = {
		is_shown = {
			stockpiling_swiss_franc_state > 0
		}
	}

	#tical
	stockpiling_tical_visibility = {
		is_shown = {
			stockpiling_tical_state > 0
		}
	}

	#toscane_lira
	stockpiling_toscane_lira_visibility = {
		is_shown = {
			stockpiling_toscane_lira_state > 0
		}
	}

	#tunisian_dinar
	stockpiling_tunisian_dinar_visibility = {
		is_shown = {
			stockpiling_tunisian_dinar_state > 0
		}
	}

	#tuareg_ouguiya
	stockpiling_tuareg_ouguiya_visibility = {
		is_shown = {
			stockpiling_tuareg_ouguiya_state > 0
		}
	}

	#uni
	stockpiling_uni_visibility = {
		is_shown = {
			stockpiling_uni_state > 0
		}
	}

	#united_states_dollar
	stockpiling_united_states_dollar_visibility = {
		is_shown = {
			stockpiling_united_states_dollar_state > 0
		}
	}

	#venezuelan_peso
	stockpiling_venezuelan_peso_visibility = {
		is_shown = {
			stockpiling_venezuelan_peso_state > 0
		}
	}

	#west_african_eco
	stockpiling_west_african_eco_visibility = {
		is_shown = {
			stockpiling_west_african_eco_state > 0
		}
	}

	#yen
	stockpiling_yen_visibility = {
		is_shown = {
			stockpiling_yen_state > 0
		}
	}

	#yuan
	stockpiling_yuan_visibility = {
		is_shown = {
			stockpiling_yuan_state > 0
		}
	}

	#yugoslav_dinar
	stockpiling_yugoslav_dinar_visibility = {
		is_shown = {
			stockpiling_yugoslav_dinar_state > 0
		}
	}

	#zloti
	stockpiling_zloti_visibility = {
		is_shown = {
			stockpiling_zloti_state > 0
		}
	}
#end_tag_5

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################



############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

#begin_tag_6
	#algerian_dinar
	law_algerian_dinar_currency_visible = {
		is_shown = {
			has_law = law_type:law_algerian_dinar_currency
		}
	}

	#argentine_peso
	law_argentine_peso_currency_visible = {
		is_shown = {
			has_law = law_type:law_argentine_peso_currency
		}
	}

	#ariary
	law_ariary_currency_visible = {
		is_shown = {
			has_law = law_type:law_ariary_currency
		}
	}

	#australian_dollar
	law_australian_dollar_currency_visible = {
		is_shown = {
			has_law = law_type:law_australian_dollar_currency
		}
	}

	#bahraini_dinar
	law_bahraini_dinar_currency_visible = {
		is_shown = {
			has_law = law_type:law_bahraini_dinar_currency
		}
	}

	#baht
	law_baht_currency_visible = {
		is_shown = {
			has_law = law_type:law_baht_currency
		}
	}

	#bavarian_gulden
	law_bavarian_gulden_currency_visible = {
		is_shown = {
			has_law = law_type:law_bavarian_gulden_currency
		}
	}

	#belgian_franc
	law_belgian_franc_currency_visible = {
		is_shown = {
			has_law = law_type:law_belgian_franc_currency
		}
	}

	#brazilian_real
	law_brazilian_real_currency_visible = {
		is_shown = {
			has_law = law_type:law_brazilian_real_currency
		}
	}

	#canadian_dollar
	law_canadian_dollar_currency_visible = {
		is_shown = {
			has_law = law_type:law_canadian_dollar_currency
		}
	}

	#caribbean_dollar
	law_caribbean_dollar_currency_visible = {
		is_shown = {
			has_law = law_type:law_caribbean_dollar_currency
		}
	}

	#central_african_eco
	law_central_african_eco_currency_visible = {
		is_shown = {
			has_law = law_type:law_central_african_eco_currency
		}
	}

	#chilean_peso
	law_chilean_peso_currency_visible = {
		is_shown = {
			has_law = law_type:law_chilean_peso_currency
		}
	}

	#colombian_peso
	law_colombian_peso_currency_visible = {
		is_shown = {
			has_law = law_type:law_colombian_peso_currency
		}
	}

	#confederate_states_dollar
	law_confederate_states_dollar_currency_visible = {
		is_shown = {
			has_law = law_type:law_confederate_states_dollar_currency
		}
	}

	#costa_rican_colon
	law_costa_rican_colon_currency_visible = {
		is_shown = {
			has_law = law_type:law_costa_rican_colon_currency
		}
	}

	#cuban_peso
	law_cuban_peso_currency_visible = {
		is_shown = {
			has_law = law_type:law_cuban_peso_currency
		}
	}

	#czech_koruna
	law_czech_koruna_currency_visible = {
		is_shown = {
			has_law = law_type:law_czech_koruna_currency
		}
	}

	#danish_krone
	law_danish_krone_currency_visible = {
		is_shown = {
			has_law = law_type:law_danish_krone_currency
		}
	}

	#dinar
	law_dinar_currency_visible = {
		is_shown = {
			has_law = law_type:law_dinar_currency
		}
	}

	#ducato
	law_ducato_currency_visible = {
		is_shown = {
			has_law = law_type:law_ducato_currency
		}
	}

	#drachma
	law_drachma_currency_visible = {
		is_shown = {
			has_law = law_type:law_drachma_currency
		}
	}

	#ecuadorian_peso
	law_ecuadorian_peso_currency_visible = {
		is_shown = {
			has_law = law_type:law_ecuadorian_peso_currency
		}
	}

	#egyptian_pound
	law_egyptian_pound_currency_visible = {
		is_shown = {
			has_law = law_type:law_egyptian_pound_currency
		}
	}

	#estonian_kroon
	law_estonian_kroon_currency_visible = {
		is_shown = {
			has_law = law_type:law_estonian_kroon_currency
		}
	}

	#ethiopian_birr
	law_ethiopian_birr_currency_visible = {
		is_shown = {
			has_law = law_type:law_ethiopian_birr_currency
		}
	}

	#finnish_markka
	law_finnish_markka_currency_visible = {
		is_shown = {
			has_law = law_type:law_finnish_markka_currency
		}
	}

	#florin
	law_florin_currency_visible = {
		is_shown = {
			has_law = law_type:law_florin_currency
		}
	}

	#french_franc
	law_french_franc_currency_visible = {
		is_shown = {
			has_law = law_type:law_french_franc_currency
		}
	}

	#ghanaian_cedi
	law_ghanaian_cedi_currency_visible = {
		is_shown = {
			has_law = law_type:law_ghanaian_cedi_currency
		}
	}

	#gulden
	law_gulden_currency_visible = {
		is_shown = {
			has_law = law_type:law_gulden_currency
		}
	}

	#guatemalan_quetzal
	law_guatemalan_quetzal_currency_visible = {
		is_shown = {
			has_law = law_type:law_guatemalan_quetzal_currency
		}
	}

	#hannoveraner_thaler
	law_hannoveraner_thaler_currency_visible = {
		is_shown = {
			has_law = law_type:law_hannoveraner_thaler_currency
		}
	}

	#honduran_lempira
	law_honduran_lempira_currency_visible = {
		is_shown = {
			has_law = law_type:law_honduran_lempira_currency
		}
	}

	#hungarian_forint
	law_hungarian_forint_currency_visible = {
		is_shown = {
			has_law = law_type:law_hungarian_forint_currency
		}
	}

	#icelandic_krona
	law_icelandic_krona_currency_visible = {
		is_shown = {
			has_law = law_type:law_icelandic_krona_currency
		}
	}

	#indian_rupee
	law_indian_rupee_currency_visible = {
		is_shown = {
			has_law = law_type:law_indian_rupee_currency
		}
	}

	#indies_guilder
	law_indies_guilder_currency_visible = {
		is_shown = {
			has_law = law_type:law_indies_guilder_currency
		}
	}

	#indonesian_rupiah
	law_indonesian_rupiah_currency_visible = {
		is_shown = {
			has_law = law_type:law_indonesian_rupiah_currency
		}
	}

	#iraqi_dinar
	law_iraqi_dinar_currency_visible = {
		is_shown = {
			has_law = law_type:law_iraqi_dinar_currency
		}
	}

	#irish_pound
	law_irish_pound_currency_visible = {
		is_shown = {
			has_law = law_type:law_irish_pound_currency
		}
	}

	#jordanian_dinar
	law_jordanian_dinar_currency_visible = {
		is_shown = {
			has_law = law_type:law_jordanian_dinar_currency
		}
	}

	#korean_won
	law_korean_won_currency_visible = {
		is_shown = {
			has_law = law_type:law_korean_won_currency
		}
	}

	#latvian_lats
	law_latvian_lats_currency_visible = {
		is_shown = {
			has_law = law_type:law_latvian_lats_currency
		}
	}

	#leu
	law_leu_currency_visible = {
		is_shown = {
			has_law = law_type:law_leu_currency
		}
	}

	#lev
	law_lev_currency_visible = {
		is_shown = {
			has_law = law_type:law_lev_currency
		}
	}

	#liberian_dollar
	law_liberian_dollar_currency_visible = {
		is_shown = {
			has_law = law_type:law_liberian_dollar_currency
		}
	}

	#libyan_dinar
	law_libyan_dinar_currency_visible = {
		is_shown = {
			has_law = law_type:law_libyan_dinar_currency
		}
	}

	#lira
	law_lira_currency_visible = {
		is_shown = {
			has_law = law_type:law_lira_currency
		}
	}

	#lithuanian_litas
	law_lithuanian_litas_currency_visible = {
		is_shown = {
			has_law = law_type:law_lithuanian_litas_currency
		}
	}

	#luxembourgish_franc
	law_luxembourgish_franc_currency_visible = {
		is_shown = {
			has_law = law_type:law_luxembourgish_franc_currency
		}
	}

	#mark
	law_mark_currency_visible = {
		is_shown = {
			has_law = law_type:law_mark_currency
		}
	}

	#mexican_peso
	law_mexican_peso_currency_visible = {
		is_shown = {
			has_law = law_type:law_mexican_peso_currency
		}
	}

	#moroccan_dirham
	law_moroccan_dirham_currency_visible = {
		is_shown = {
			has_law = law_type:law_moroccan_dirham_currency
		}
	}

	#new_zealand_dollar
	law_new_zealand_dollar_currency_visible = {
		is_shown = {
			has_law = law_type:law_new_zealand_dollar_currency
		}
	}

	#nicaraguan_cordoba
	law_nicaraguan_cordoba_currency_visible = {
		is_shown = {
			has_law = law_type:law_nicaraguan_cordoba_currency
		}
	}

	#nigerian_naira
	law_nigerian_naira_currency_visible = {
		is_shown = {
			has_law = law_type:law_nigerian_naira_currency
		}
	}

	#norwegian_krone
	law_norwegian_krone_currency_visible = {
		is_shown = {
			has_law = law_type:law_norwegian_krone_currency
		}
	}

	#omanian_rial
	law_omanian_rial_currency_visible = {
		is_shown = {
			has_law = law_type:law_omanian_rial_currency
		}
	}

	#ottoman_lira
	law_ottoman_lira_currency_visible = {
		is_shown = {
			has_law = law_type:law_ottoman_lira_currency
		}
	}

	#pakistan_rupee
	law_pakistan_rupee_currency_visible = {
		is_shown = {
			has_law = law_type:law_pakistan_rupee_currency
		}
	}

	#peseta
	law_peseta_currency_visible = {
		is_shown = {
			has_law = law_type:law_peseta_currency
		}
	}

	#peso
	law_peso_currency_visible = {
		is_shown = {
			has_law = law_type:law_peso_currency
		}
	}

	#peso_bolivien
	law_peso_bolivien_currency_visible = {
		is_shown = {
			has_law = law_type:law_peso_bolivien_currency
		}
	}

	#philippine_peso
	law_philippine_peso_currency_visible = {
		is_shown = {
			has_law = law_type:law_philippine_peso_currency
		}
	}

	#pound_sterling
	law_pound_sterling_currency_visible = {
		is_shown = {
			has_law = law_type:law_pound_sterling_currency
		}
	}

	#prussian_thaler
	law_prussian_thaler_currency_visible = {
		is_shown = {
			has_law = law_type:law_prussian_thaler_currency
		}
	}

	#qatari_riyal
	law_qatari_riyal_currency_visible = {
		is_shown = {
			has_law = law_type:law_qatari_riyal_currency
		}
	}

	#qiran
	law_qiran_currency_visible = {
		is_shown = {
			has_law = law_type:law_qiran_currency
		}
	}

	#real
	law_real_currency_visible = {
		is_shown = {
			has_law = law_type:law_real_currency
		}
	}

	#ruble
	law_ruble_currency_visible = {
		is_shown = {
			has_law = law_type:law_ruble_currency
		}
	}

	#saudi_riyal
	law_saudi_riyal_currency_visible = {
		is_shown = {
			has_law = law_type:law_saudi_riyal_currency
		}
	}

	#saxon_thaler
	law_saxon_thaler_currency_visible = {
		is_shown = {
			has_law = law_type:law_saxon_thaler_currency
		}
	}

	#scudo_pontificio
	law_scudo_pontificio_currency_visible = {
		is_shown = {
			has_law = law_type:law_scudo_pontificio_currency
		}
	}

	#scudo_sardo
	law_scudo_sardo_currency_visible = {
		is_shown = {
			has_law = law_type:law_scudo_sardo_currency
		}
	}

	#serbian_dinar
	law_serbian_dinar_currency_visible = {
		is_shown = {
			has_law = law_type:law_serbian_dinar_currency
		}
	}

	#south_german_gulden
	law_south_german_gulden_currency_visible = {
		is_shown = {
			has_law = law_type:law_south_german_gulden_currency
		}
	}

	#singapore_dollar
	law_singapore_dollar_currency_visible = {
		is_shown = {
			has_law = law_type:law_singapore_dollar_currency
		}
	}

	#slovak_koruna
	law_slovak_koruna_currency_visible = {
		is_shown = {
			has_law = law_type:law_slovak_koruna_currency
		}
	}

	#sol_de_oro
	law_sol_de_oro_currency_visible = {
		is_shown = {
			has_law = law_type:law_sol_de_oro_currency
		}
	}

	#south_african_rand
	law_south_african_rand_currency_visible = {
		is_shown = {
			has_law = law_type:law_south_african_rand_currency
		}
	}

	#swedish_krona
	law_swedish_krona_currency_visible = {
		is_shown = {
			has_law = law_type:law_swedish_krona_currency
		}
	}

	#swiss_franc
	law_swiss_franc_currency_visible = {
		is_shown = {
			has_law = law_type:law_swiss_franc_currency
		}
	}

	#tical
	law_tical_currency_visible = {
		is_shown = {
			has_law = law_type:law_tical_currency
		}
	}

	#toscane_lira
	law_toscane_lira_currency_visible = {
		is_shown = {
			has_law = law_type:law_toscane_lira_currency
		}
	}

	#tunisian_dinar
	law_tunisian_dinar_currency_visible = {
		is_shown = {
			has_law = law_type:law_tunisian_dinar_currency
		}
	}

	#tuareg_ouguiya
	law_tuareg_ouguiya_currency_visible = {
		is_shown = {
			has_law = law_type:law_tuareg_ouguiya_currency
		}
	}

	#uni
	law_uni_currency_visible = {
		is_shown = {
			has_law = law_type:law_uni_currency
		}
	}

	#united_states_dollar
	law_united_states_dollar_currency_visible = {
		is_shown = {
			has_law = law_type:law_united_states_dollar_currency
		}
	}

	#venezuelan_peso
	law_venezuelan_peso_currency_visible = {
		is_shown = {
			has_law = law_type:law_venezuelan_peso_currency
		}
	}

	#west_african_eco
	law_west_african_eco_currency_visible = {
		is_shown = {
			has_law = law_type:law_west_african_eco_currency
		}
	}

	#yen
	law_yen_currency_visible = {
		is_shown = {
			has_law = law_type:law_yen_currency
		}
	}

	#yuan
	law_yuan_currency_visible = {
		is_shown = {
			has_law = law_type:law_yuan_currency
		}
	}

	#yugoslav_dinar
	law_yugoslav_dinar_currency_visible = {
		is_shown = {
			has_law = law_type:law_yugoslav_dinar_currency
		}
	}

	#zloti
	law_zloti_currency_visible = {
		is_shown = {
			has_law = law_type:law_zloti_currency
		}
	}
#end_tag_6

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

#begin_tag_7
	#algerian_dinar
	algerian_dinar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_algerian_dinar_currency
			or = {
				player.var:trade_algerian_dinar_var = 3
			}
		}
	}

	#argentine_peso
	argentine_peso_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_argentine_peso_currency
			or = {
				player.var:trade_argentine_peso_var = 3
			}
		}
	}

	#ariary
	ariary_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_ariary_currency
			or = {
				player.var:trade_ariary_var = 3
			}
		}
	}

	#australian_dollar
	australian_dollar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_australian_dollar_currency
			or = {
				player.var:trade_australian_dollar_var = 3
			}
		}
	}

	#bahraini_dinar
	bahraini_dinar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_bahraini_dinar_currency
			or = {
				player.var:trade_bahraini_dinar_var = 3
			}
		}
	}

	#baht
	baht_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_baht_currency
			or = {
				player.var:trade_baht_var = 3
			}
		}
	}

	#bavarian_gulden
	bavarian_gulden_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_bavarian_gulden_currency
			or = {
				player.var:trade_bavarian_gulden_var = 3
			}
		}
	}

	#belgian_franc
	belgian_franc_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_belgian_franc_currency
			or = {
				player.var:trade_belgian_franc_var = 3
			}
		}
	}

	#brazilian_real
	brazilian_real_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_brazilian_real_currency
			or = {
				player.var:trade_brazilian_real_var = 3
			}
		}
	}

	#canadian_dollar
	canadian_dollar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_canadian_dollar_currency
			or = {
				player.var:trade_canadian_dollar_var = 3
			}
		}
	}

	#caribbean_dollar
	caribbean_dollar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_caribbean_dollar_currency
			or = {
				player.var:trade_caribbean_dollar_var = 3
			}
		}
	}

	#central_african_eco
	central_african_eco_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_central_african_eco_currency
			or = {
				player.var:trade_central_african_eco_var = 3
			}
		}
	}

	#chilean_peso
	chilean_peso_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_chilean_peso_currency
			or = {
				player.var:trade_chilean_peso_var = 3
			}
		}
	}

	#colombian_peso
	colombian_peso_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_colombian_peso_currency
			or = {
				player.var:trade_colombian_peso_var = 3
			}
		}
	}

	#confederate_states_dollar
	confederate_states_dollar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_confederate_states_dollar_currency
			or = {
				player.var:trade_confederate_states_dollar_var = 3
			}
		}
	}

	#costa_rican_colon
	costa_rican_colon_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_costa_rican_colon_currency
			or = {
				player.var:trade_costa_rican_colon_var = 3
			}
		}
	}

	#cuban_peso
	cuban_peso_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_cuban_peso_currency
			or = {
				player.var:trade_cuban_peso_var = 3
			}
		}
	}

	#czech_koruna
	czech_koruna_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_czech_koruna_currency
			or = {
				player.var:trade_czech_koruna_var = 3
			}
		}
	}

	#danish_krone
	danish_krone_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_danish_krone_currency
			or = {
				player.var:trade_danish_krone_var = 3
			}
		}
	}

	#dinar
	dinar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_dinar_currency
			or = {
				player.var:trade_dinar_var = 3
			}
		}
	}

	#ducato
	ducato_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_ducato_currency
			or = {
				player.var:trade_ducato_var = 3
			}
		}
	}

	#drachma
	drachma_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_drachma_currency
			or = {
				player.var:trade_drachma_var = 3
			}
		}
	}

	#ecuadorian_peso
	ecuadorian_peso_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_ecuadorian_peso_currency
			or = {
				player.var:trade_ecuadorian_peso_var = 3
			}
		}
	}

	#egyptian_pound
	egyptian_pound_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_egyptian_pound_currency
			or = {
				player.var:trade_egyptian_pound_var = 3
			}
		}
	}

	#estonian_kroon
	estonian_kroon_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_estonian_kroon_currency
			or = {
				player.var:trade_estonian_kroon_var = 3
			}
		}
	}

	#ethiopian_birr
	ethiopian_birr_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_ethiopian_birr_currency
			or = {
				player.var:trade_ethiopian_birr_var = 3
			}
		}
	}

	#finnish_markka
	finnish_markka_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_finnish_markka_currency
			or = {
				player.var:trade_finnish_markka_var = 3
			}
		}
	}

	#florin
	florin_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_florin_currency
			or = {
				player.var:trade_florin_var = 3
			}
		}
	}

	#french_franc
	french_franc_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_french_franc_currency
			or = {
				player.var:trade_french_franc_var = 3
			}
		}
	}

	#ghanaian_cedi
	ghanaian_cedi_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_ghanaian_cedi_currency
			or = {
				player.var:trade_ghanaian_cedi_var = 3
			}
		}
	}

	#gulden
	gulden_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_gulden_currency
			or = {
				player.var:trade_gulden_var = 3
			}
		}
	}

	#guatemalan_quetzal
	guatemalan_quetzal_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_guatemalan_quetzal_currency
			or = {
				player.var:trade_guatemalan_quetzal_var = 3
			}
		}
	}

	#hannoveraner_thaler
	hannoveraner_thaler_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_hannoveraner_thaler_currency
			or = {
				player.var:trade_hannoveraner_thaler_var = 3
			}
		}
	}

	#honduran_lempira
	honduran_lempira_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_honduran_lempira_currency
			or = {
				player.var:trade_honduran_lempira_var = 3
			}
		}
	}

	#hungarian_forint
	hungarian_forint_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_hungarian_forint_currency
			or = {
				player.var:trade_hungarian_forint_var = 3
			}
		}
	}

	#icelandic_krona
	icelandic_krona_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_icelandic_krona_currency
			or = {
				player.var:trade_icelandic_krona_var = 3
			}
		}
	}

	#indian_rupee
	indian_rupee_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_indian_rupee_currency
			or = {
				player.var:trade_indian_rupee_var = 3
			}
		}
	}

	#indies_guilder
	indies_guilder_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_indies_guilder_currency
			or = {
				player.var:trade_indies_guilder_var = 3
			}
		}
	}

	#indonesian_rupiah
	indonesian_rupiah_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_indonesian_rupiah_currency
			or = {
				player.var:trade_indonesian_rupiah_var = 3
			}
		}
	}

	#iraqi_dinar
	iraqi_dinar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_iraqi_dinar_currency
			or = {
				player.var:trade_iraqi_dinar_var = 3
			}
		}
	}

	#irish_pound
	irish_pound_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_irish_pound_currency
			or = {
				player.var:trade_irish_pound_var = 3
			}
		}
	}

	#jordanian_dinar
	jordanian_dinar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_jordanian_dinar_currency
			or = {
				player.var:trade_jordanian_dinar_var = 3
			}
		}
	}

	#korean_won
	korean_won_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_korean_won_currency
			or = {
				player.var:trade_korean_won_var = 3
			}
		}
	}

	#latvian_lats
	latvian_lats_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_latvian_lats_currency
			or = {
				player.var:trade_latvian_lats_var = 3
			}
		}
	}

	#leu
	leu_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_leu_currency
			or = {
				player.var:trade_leu_var = 3
			}
		}
	}

	#lev
	lev_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_lev_currency
			or = {
				player.var:trade_lev_var = 3
			}
		}
	}

	#liberian_dollar
	liberian_dollar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_liberian_dollar_currency
			or = {
				player.var:trade_liberian_dollar_var = 3
			}
		}
	}

	#libyan_dinar
	libyan_dinar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_libyan_dinar_currency
			or = {
				player.var:trade_libyan_dinar_var = 3
			}
		}
	}

	#lira
	lira_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_lira_currency
			or = {
				player.var:trade_lira_var = 3
			}
		}
	}

	#lithuanian_litas
	lithuanian_litas_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_lithuanian_litas_currency
			or = {
				player.var:trade_lithuanian_litas_var = 3
			}
		}
	}

	#luxembourgish_franc
	luxembourgish_franc_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_luxembourgish_franc_currency
			or = {
				player.var:trade_luxembourgish_franc_var = 3
			}
		}
	}

	#mark
	mark_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_mark_currency
			or = {
				player.var:trade_mark_var = 3
			}
		}
	}

	#mexican_peso
	mexican_peso_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_mexican_peso_currency
			or = {
				player.var:trade_mexican_peso_var = 3
			}
		}
	}

	#moroccan_dirham
	moroccan_dirham_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_moroccan_dirham_currency
			or = {
				player.var:trade_moroccan_dirham_var = 3
			}
		}
	}

	#new_zealand_dollar
	new_zealand_dollar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_new_zealand_dollar_currency
			or = {
				player.var:trade_new_zealand_dollar_var = 3
			}
		}
	}

	#nicaraguan_cordoba
	nicaraguan_cordoba_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_nicaraguan_cordoba_currency
			or = {
				player.var:trade_nicaraguan_cordoba_var = 3
			}
		}
	}

	#nigerian_naira
	nigerian_naira_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_nigerian_naira_currency
			or = {
				player.var:trade_nigerian_naira_var = 3
			}
		}
	}

	#norwegian_krone
	norwegian_krone_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_norwegian_krone_currency
			or = {
				player.var:trade_norwegian_krone_var = 3
			}
		}
	}

	#omanian_rial
	omanian_rial_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_omanian_rial_currency
			or = {
				player.var:trade_omanian_rial_var = 3
			}
		}
	}

	#ottoman_lira
	ottoman_lira_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_ottoman_lira_currency
			or = {
				player.var:trade_ottoman_lira_var = 3
			}
		}
	}

	#pakistan_rupee
	pakistan_rupee_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_pakistan_rupee_currency
			or = {
				player.var:trade_pakistan_rupee_var = 3
			}
		}
	}

	#peseta
	peseta_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_peseta_currency
			or = {
				player.var:trade_peseta_var = 3
			}
		}
	}

	#peso
	peso_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_peso_currency
			or = {
				player.var:trade_peso_var = 3
			}
		}
	}

	#peso_bolivien
	peso_bolivien_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_peso_bolivien_currency
			or = {
				player.var:trade_peso_bolivien_var = 3
			}
		}
	}

	#philippine_peso
	philippine_peso_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_philippine_peso_currency
			or = {
				player.var:trade_philippine_peso_var = 3
			}
		}
	}

	#pound_sterling
	pound_sterling_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_pound_sterling_currency
			or = {
				player.var:trade_pound_sterling_var = 3
			}
		}
	}

	#prussian_thaler
	prussian_thaler_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_prussian_thaler_currency
			or = {
				player.var:trade_prussian_thaler_var = 3
			}
		}
	}

	#qatari_riyal
	qatari_riyal_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_qatari_riyal_currency
			or = {
				player.var:trade_qatari_riyal_var = 3
			}
		}
	}

	#qiran
	qiran_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_qiran_currency
			or = {
				player.var:trade_qiran_var = 3
			}
		}
	}

	#real
	real_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_real_currency
			or = {
				player.var:trade_real_var = 3
			}
		}
	}

	#ruble
	ruble_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_ruble_currency
			or = {
				player.var:trade_ruble_var = 3
			}
		}
	}

	#saudi_riyal
	saudi_riyal_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_saudi_riyal_currency
			or = {
				player.var:trade_saudi_riyal_var = 3
			}
		}
	}

	#saxon_thaler
	saxon_thaler_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_saxon_thaler_currency
			or = {
				player.var:trade_saxon_thaler_var = 3
			}
		}
	}

	#scudo_pontificio
	scudo_pontificio_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_scudo_pontificio_currency
			or = {
				player.var:trade_scudo_pontificio_var = 3
			}
		}
	}

	#scudo_sardo
	scudo_sardo_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_scudo_sardo_currency
			or = {
				player.var:trade_scudo_sardo_var = 3
			}
		}
	}

	#serbian_dinar
	serbian_dinar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_serbian_dinar_currency
			or = {
				player.var:trade_serbian_dinar_var = 3
			}
		}
	}

	#south_german_gulden
	south_german_gulden_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_south_german_gulden_currency
			or = {
				player.var:trade_south_german_gulden_var = 3
			}
		}
	}

	#singapore_dollar
	singapore_dollar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_singapore_dollar_currency
			or = {
				player.var:trade_singapore_dollar_var = 3
			}
		}
	}

	#slovak_koruna
	slovak_koruna_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_slovak_koruna_currency
			or = {
				player.var:trade_slovak_koruna_var = 3
			}
		}
	}

	#sol_de_oro
	sol_de_oro_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_sol_de_oro_currency
			or = {
				player.var:trade_sol_de_oro_var = 3
			}
		}
	}

	#south_african_rand
	south_african_rand_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_south_african_rand_currency
			or = {
				player.var:trade_south_african_rand_var = 3
			}
		}
	}

	#swedish_krona
	swedish_krona_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_swedish_krona_currency
			or = {
				player.var:trade_swedish_krona_var = 3
			}
		}
	}

	#swiss_franc
	swiss_franc_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_swiss_franc_currency
			or = {
				player.var:trade_swiss_franc_var = 3
			}
		}
	}

	#tical
	tical_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_tical_currency
			or = {
				player.var:trade_tical_var = 3
			}
		}
	}

	#toscane_lira
	toscane_lira_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_toscane_lira_currency
			or = {
				player.var:trade_toscane_lira_var = 3
			}
		}
	}

	#tunisian_dinar
	tunisian_dinar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_tunisian_dinar_currency
			or = {
				player.var:trade_tunisian_dinar_var = 3
			}
		}
	}

	#tuareg_ouguiya
	tuareg_ouguiya_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_tuareg_ouguiya_currency
			or = {
				player.var:trade_tuareg_ouguiya_var = 3
			}
		}
	}

	#uni
	uni_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_uni_currency
			or = {
				player.var:trade_uni_var = 3
			}
		}
	}

	#united_states_dollar
	united_states_dollar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_united_states_dollar_currency
			or = {
				player.var:trade_united_states_dollar_var = 3
			}
		}
	}

	#venezuelan_peso
	venezuelan_peso_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_venezuelan_peso_currency
			or = {
				player.var:trade_venezuelan_peso_var = 3
			}
		}
	}

	#west_african_eco
	west_african_eco_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_west_african_eco_currency
			or = {
				player.var:trade_west_african_eco_var = 3
			}
		}
	}

	#yen
	yen_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_yen_currency
			or = {
				player.var:trade_yen_var = 3
			}
		}
	}

	#yuan
	yuan_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_yuan_currency
			or = {
				player.var:trade_yuan_var = 3
			}
		}
	}

	#yugoslav_dinar
	yugoslav_dinar_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_yugoslav_dinar_currency
			or = {
				player.var:trade_yugoslav_dinar_var = 3
			}
		}
	}

	#zloti
	zloti_currency_in_gold = {
		is_shown = {
			has_law = law_type:law_zloti_currency
			or = {
				player.var:trade_zloti_var = 3
			}
		}
	}
#end_tag_7

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################



############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

#begin_tag_8
	#algerian_dinar
	law_algerian_dinar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_algerian_dinar_state > 0
			}
		}
	}

	#argentine_peso
	law_argentine_peso_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_argentine_peso_state > 0
			}
		}
	}

	#ariary
	law_ariary_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_ariary_state > 0
			}
		}
	}

	#australian_dollar
	law_australian_dollar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_australian_dollar_state > 0
			}
		}
	}

	#bahraini_dinar
	law_bahraini_dinar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_bahraini_dinar_state > 0
			}
		}
	}

	#baht
	law_baht_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_baht_state > 0
			}
		}
	}

	#bavarian_gulden
	law_bavarian_gulden_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_bavarian_gulden_state > 0
			}
		}
	}

	#belgian_franc
	law_belgian_franc_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_belgian_franc_state > 0
			}
		}
	}

	#brazilian_real
	law_brazilian_real_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_brazilian_real_state > 0
			}
		}
	}

	#canadian_dollar
	law_canadian_dollar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_canadian_dollar_state > 0
			}
		}
	}

	#caribbean_dollar
	law_caribbean_dollar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_caribbean_dollar_state > 0
			}
		}
	}

	#central_african_eco
	law_central_african_eco_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_central_african_eco_state > 0
			}
		}
	}

	#chilean_peso
	law_chilean_peso_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_chilean_peso_state > 0
			}
		}
	}

	#colombian_peso
	law_colombian_peso_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_colombian_peso_state > 0
			}
		}
	}

	#confederate_states_dollar
	law_confederate_states_dollar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_confederate_states_dollar_state > 0
			}
		}
	}

	#costa_rican_colon
	law_costa_rican_colon_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_costa_rican_colon_state > 0
			}
		}
	}

	#cuban_peso
	law_cuban_peso_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_cuban_peso_state > 0
			}
		}
	}

	#czech_koruna
	law_czech_koruna_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_czech_koruna_state > 0
			}
		}
	}

	#danish_krone
	law_danish_krone_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_danish_krone_state > 0
			}
		}
	}

	#dinar
	law_dinar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_dinar_state > 0
			}
		}
	}

	#ducato
	law_ducato_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_ducato_state > 0
			}
		}
	}

	#drachma
	law_drachma_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_drachma_state > 0
			}
		}
	}

	#ecuadorian_peso
	law_ecuadorian_peso_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_ecuadorian_peso_state > 0
			}
		}
	}

	#egyptian_pound
	law_egyptian_pound_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_egyptian_pound_state > 0
			}
		}
	}

	#estonian_kroon
	law_estonian_kroon_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_estonian_kroon_state > 0
			}
		}
	}

	#ethiopian_birr
	law_ethiopian_birr_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_ethiopian_birr_state > 0
			}
		}
	}

	#finnish_markka
	law_finnish_markka_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_finnish_markka_state > 0
			}
		}
	}

	#florin
	law_florin_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_florin_state > 0
			}
		}
	}

	#french_franc
	law_french_franc_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_french_franc_state > 0
			}
		}
	}

	#ghanaian_cedi
	law_ghanaian_cedi_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_ghanaian_cedi_state > 0
			}
		}
	}

	#gulden
	law_gulden_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_gulden_state > 0
			}
		}
	}

	#guatemalan_quetzal
	law_guatemalan_quetzal_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_guatemalan_quetzal_state > 0
			}
		}
	}

	#hannoveraner_thaler
	law_hannoveraner_thaler_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_hannoveraner_thaler_state > 0
			}
		}
	}

	#honduran_lempira
	law_honduran_lempira_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_honduran_lempira_state > 0
			}
		}
	}

	#hungarian_forint
	law_hungarian_forint_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_hungarian_forint_state > 0
			}
		}
	}

	#icelandic_krona
	law_icelandic_krona_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_icelandic_krona_state > 0
			}
		}
	}

	#indian_rupee
	law_indian_rupee_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_indian_rupee_state > 0
			}
		}
	}

	#indies_guilder
	law_indies_guilder_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_indies_guilder_state > 0
			}
		}
	}

	#indonesian_rupiah
	law_indonesian_rupiah_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_indonesian_rupiah_state > 0
			}
		}
	}

	#iraqi_dinar
	law_iraqi_dinar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_iraqi_dinar_state > 0
			}
		}
	}

	#irish_pound
	law_irish_pound_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_irish_pound_state > 0
			}
		}
	}

	#jordanian_dinar
	law_jordanian_dinar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_jordanian_dinar_state > 0
			}
		}
	}

	#korean_won
	law_korean_won_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_korean_won_state > 0
			}
		}
	}

	#latvian_lats
	law_latvian_lats_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_latvian_lats_state > 0
			}
		}
	}

	#leu
	law_leu_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_leu_state > 0
			}
		}
	}

	#lev
	law_lev_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_lev_state > 0
			}
		}
	}

	#liberian_dollar
	law_liberian_dollar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_liberian_dollar_state > 0
			}
		}
	}

	#libyan_dinar
	law_libyan_dinar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_libyan_dinar_state > 0
			}
		}
	}

	#lira
	law_lira_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_lira_state > 0
			}
		}
	}

	#lithuanian_litas
	law_lithuanian_litas_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_lithuanian_litas_state > 0
			}
		}
	}

	#luxembourgish_franc
	law_luxembourgish_franc_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_luxembourgish_franc_state > 0
			}
		}
	}

	#mark
	law_mark_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_mark_state > 0
			}
		}
	}

	#mexican_peso
	law_mexican_peso_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_mexican_peso_state > 0
			}
		}
	}

	#moroccan_dirham
	law_moroccan_dirham_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_moroccan_dirham_state > 0
			}
		}
	}

	#new_zealand_dollar
	law_new_zealand_dollar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_new_zealand_dollar_state > 0
			}
		}
	}

	#nicaraguan_cordoba
	law_nicaraguan_cordoba_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_nicaraguan_cordoba_state > 0
			}
		}
	}

	#nigerian_naira
	law_nigerian_naira_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_nigerian_naira_state > 0
			}
		}
	}

	#norwegian_krone
	law_norwegian_krone_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_norwegian_krone_state > 0
			}
		}
	}

	#omanian_rial
	law_omanian_rial_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_omanian_rial_state > 0
			}
		}
	}

	#ottoman_lira
	law_ottoman_lira_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_ottoman_lira_state > 0
			}
		}
	}

	#pakistan_rupee
	law_pakistan_rupee_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_pakistan_rupee_state > 0
			}
		}
	}

	#peseta
	law_peseta_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_peseta_state > 0
			}
		}
	}

	#peso
	law_peso_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_peso_state > 0
			}
		}
	}

	#peso_bolivien
	law_peso_bolivien_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_peso_bolivien_state > 0
			}
		}
	}

	#philippine_peso
	law_philippine_peso_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_philippine_peso_state > 0
			}
		}
	}

	#pound_sterling
	law_pound_sterling_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_pound_sterling_state > 0
			}
		}
	}

	#prussian_thaler
	law_prussian_thaler_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_prussian_thaler_state > 0
			}
		}
	}

	#qatari_riyal
	law_qatari_riyal_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_qatari_riyal_state > 0
			}
		}
	}

	#qiran
	law_qiran_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_qiran_state > 0
			}
		}
	}

	#real
	law_real_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_real_state > 0
			}
		}
	}

	#ruble
	law_ruble_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_ruble_state > 0
			}
		}
	}

	#saudi_riyal
	law_saudi_riyal_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_saudi_riyal_state > 0
			}
		}
	}

	#saxon_thaler
	law_saxon_thaler_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_saxon_thaler_state > 0
			}
		}
	}

	#scudo_pontificio
	law_scudo_pontificio_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_scudo_pontificio_state > 0
			}
		}
	}

	#scudo_sardo
	law_scudo_sardo_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_scudo_sardo_state > 0
			}
		}
	}

	#serbian_dinar
	law_serbian_dinar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_serbian_dinar_state > 0
			}
		}
	}

	#south_german_gulden
	law_south_german_gulden_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_south_german_gulden_state > 0
			}
		}
	}

	#singapore_dollar
	law_singapore_dollar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_singapore_dollar_state > 0
			}
		}
	}

	#slovak_koruna
	law_slovak_koruna_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_slovak_koruna_state > 0
			}
		}
	}

	#sol_de_oro
	law_sol_de_oro_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_sol_de_oro_state > 0
			}
		}
	}

	#south_african_rand
	law_south_african_rand_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_south_african_rand_state > 0
			}
		}
	}

	#swedish_krona
	law_swedish_krona_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_swedish_krona_state > 0
			}
		}
	}

	#swiss_franc
	law_swiss_franc_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_swiss_franc_state > 0
			}
		}
	}

	#tical
	law_tical_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_tical_state > 0
			}
		}
	}

	#toscane_lira
	law_toscane_lira_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_toscane_lira_state > 0
			}
		}
	}

	#tunisian_dinar
	law_tunisian_dinar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_tunisian_dinar_state > 0
			}
		}
	}

	#tuareg_ouguiya
	law_tuareg_ouguiya_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_tuareg_ouguiya_state > 0
			}
		}
	}

	#uni
	law_uni_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_uni_state > 0
			}
		}
	}

	#united_states_dollar
	law_united_states_dollar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_united_states_dollar_state > 0
			}
		}
	}

	#venezuelan_peso
	law_venezuelan_peso_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_venezuelan_peso_state > 0
			}
		}
	}

	#west_african_eco
	law_west_african_eco_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_west_african_eco_state > 0
			}
		}
	}

	#yen
	law_yen_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_yen_state > 0
			}
		}
	}

	#yuan
	law_yuan_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_yuan_state > 0
			}
		}
	}

	#yugoslav_dinar
	law_yugoslav_dinar_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_yugoslav_dinar_state > 0
			}
		}
	}

	#zloti
	law_zloti_currency_stockpiling_visible = {
		is_shown = {
			or = {
				stockpiling_zloti_state > 0
			}
		}
	}
#end_tag_8

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

#  ██████╗███████╗███╗   ██╗████████╗██████╗  █████╗ ██╗             ██████╗  █████╗ ███╗   ██╗██╗  ██╗         ██████╗  ██████╗ ██╗     ██████╗         ██████╗ ███████╗███████╗███████╗██████╗ ██╗   ██╗███████╗███████╗        ███████╗████████╗ █████╗ ████████╗███████╗     ████████╗██████╗  █████╗
# ██╔════╝██╔════╝████╗  ██║╚══██╔══╝██╔══██╗██╔══██╗██║             ██╔══██╗██╔══██╗████╗  ██║██║ ██╔╝        ██╔════╝ ██╔═══██╗██║     ██╔══██╗        ██╔══██╗██╔════╝██╔════╝██╔════╝██╔══██╗██║   ██║██╔════╝██╔════╝        ██╔════╝╚══██╔══╝██╔══██╗╚══██╔══╝██╔════╝     ╚══██╔══╝██╔══██╗██╔══██╗
# ██║     █████╗  ██╔██╗ ██║   ██║   ██████╔╝███████║██║             ██████╔╝███████║██╔██╗ ██║█████╔╝         ██║  ███╗██║   ██║██║     ██║  ██║        ██████╔╝█████╗  ███████╗█████╗  ██████╔╝██║   ██║█████╗  ███████╗        ███████╗   ██║   ███████║   ██║   █████╗          ██║   ██████╔╝███████║
# ██║     ██╔══╝  ██║╚██╗██║   ██║   ██╔══██╗██╔══██║██║             ██╔══██╗██╔══██║██║╚██╗██║██╔═██╗         ██║   ██║██║   ██║██║     ██║  ██║        ██╔══██╗██╔══╝  ╚════██║██╔══╝  ██╔══██╗╚██╗ ██╔╝██╔══╝  ╚════██║        ╚════██║   ██║   ██╔══██║   ██║   ██╔══╝          ██║   ██╔══██╗██╔══██║
# ╚██████╗███████╗██║ ╚████║   ██║   ██║  ██║██║  ██║███████╗███████╗██████╔╝██║  ██║██║ ╚████║██║  ██╗███████╗╚██████╔╝╚██████╔╝███████╗██████╔╝███████╗██║  ██║███████╗███████║███████╗██║  ██║ ╚████╔╝ ███████╗███████║███████╗███████║   ██║   ██║  ██║   ██║   ███████╗███████╗██║   ██║  ██║██║  ██║
#  ╚═════╝╚══════╝╚═╝  ╚═══╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═══╝╚═╝  ╚═╝╚══════╝ ╚═════╝  ╚═════╝ ╚══════╝╚═════╝ ╚══════╝╚═╝  ╚═╝╚══════╝╚══════╝╚══════╝╚═╝  ╚═╝  ╚═══╝  ╚══════╝╚══════╝╚══════╝╚══════╝   ╚═╝   ╚═╝  ╚═╝   ╚═╝   ╚══════╝╚══════╝╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝
#
# ███╗   ██╗███████╗███████╗███████╗██████╗ ████████╗     ███████╗████████╗ █████╗ ████████╗███████╗         ██████╗ ██╗    ██╗███╗   ██╗███████╗██████╗
# ████╗  ██║██╔════╝██╔════╝██╔════╝██╔══██╗╚══██╔══╝     ██╔════╝╚══██╔══╝██╔══██╗╚══██╔══╝██╔════╝        ██╔═══██╗██║    ██║████╗  ██║██╔════╝██╔══██╗
# ██╔██╗ ██║███████╗█████╗  █████╗  ██████╔╝   ██║        ███████╗   ██║   ███████║   ██║   █████╗          ██║   ██║██║ █╗ ██║██╔██╗ ██║█████╗  ██████╔╝
# ██║╚██╗██║╚════██║██╔══╝  ██╔══╝  ██╔══██╗   ██║        ╚════██║   ██║   ██╔══██║   ██║   ██╔══╝          ██║   ██║██║███╗██║██║╚██╗██║██╔══╝  ██╔══██╗
# ██║ ╚████║███████║██║     ███████╗██║  ██║   ██║███████╗███████║   ██║   ██║  ██║   ██║   ███████╗███████╗╚██████╔╝╚███╔███╔╝██║ ╚████║███████╗██║  ██║
# ╚═╝  ╚═══╝╚══════╝╚═╝     ╚══════╝╚═╝  ╚═╝   ╚═╝╚══════╝╚══════╝   ╚═╝   ╚═╝  ╚═╝   ╚═╝   ╚══════╝╚══════╝ ╚═════╝  ╚══╝╚══╝ ╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

central_bank_gold_reserves_state_transfert_state_owner = {
	is_valid = {
		owner = player
		is_capital = no
	}
}

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

# ███╗   ███╗ ██████╗ ██████╗ ██╗███████╗██╗███████╗██████╗          ██████╗██╗   ██╗██████╗ ██████╗ ███████╗███╗   ██╗ ██████╗██╗   ██╗    ██╗   ██╗ █████╗ ██╗     ██╗   ██╗███████╗        ██╗███╗   ██╗███████╗██╗      █████╗ ████████╗██╗ ██████╗ ███╗   ██╗
# ████╗ ████║██╔═══██╗██╔══██╗██║██╔════╝██║██╔════╝██╔══██╗        ██╔════╝██║   ██║██╔══██╗██╔══██╗██╔════╝████╗  ██║██╔════╝╚██╗ ██╔╝    ██║   ██║██╔══██╗██║     ██║   ██║██╔════╝        ██║████╗  ██║██╔════╝██║     ██╔══██╗╚══██╔══╝██║██╔═══██╗████╗  ██║
# ██╔████╔██║██║   ██║██║  ██║██║█████╗  ██║█████╗  ██████╔╝        ██║     ██║   ██║██████╔╝██████╔╝█████╗  ██╔██╗ ██║██║      ╚████╔╝     ██║   ██║███████║██║     ██║   ██║█████╗          ██║██╔██╗ ██║█████╗  ██║     ███████║   ██║   ██║██║   ██║██╔██╗ ██║
# ██║╚██╔╝██║██║   ██║██║  ██║██║██╔══╝  ██║██╔══╝  ██╔══██╗        ██║     ██║   ██║██╔══██╗██╔══██╗██╔══╝  ██║╚██╗██║██║       ╚██╔╝      ╚██╗ ██╔╝██╔══██║██║     ██║   ██║██╔══╝          ██║██║╚██╗██║██╔══╝  ██║     ██╔══██║   ██║   ██║██║   ██║██║╚██╗██║
# ██║ ╚═╝ ██║╚██████╔╝██████╔╝██║██║     ██║███████╗██║  ██║███████╗╚██████╗╚██████╔╝██║  ██║██║  ██║███████╗██║ ╚████║╚██████╗   ██║███████╗╚████╔╝ ██║  ██║███████╗╚██████╔╝███████╗███████╗██║██║ ╚████║██║     ███████╗██║  ██║   ██║   ██║╚██████╔╝██║ ╚████║
# ╚═╝     ╚═╝ ╚═════╝ ╚═════╝ ╚═╝╚═╝     ╚═╝╚══════╝╚═╝  ╚═╝╚══════╝ ╚═════╝ ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═══╝ ╚═════╝   ╚═╝╚══════╝ ╚═══╝  ╚═╝  ╚═╝╚══════╝ ╚═════╝ ╚══════╝╚══════╝╚═╝╚═╝  ╚═══╝╚═╝     ╚══════╝╚═╝  ╚═╝   ╚═╝   ╚═╝ ╚═════╝ ╚═╝  ╚═══╝

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

modifier_currency_value = {
	effect = {
		if = {
			limit = {
				money_value > 0.00001
				money_value < 1
				Not = {
					has_modifier = strong_currency
					has_modifier = normal_currency
				}
			}
			if = {
				limit = {
					has_modifier = has_central_bank
				}
				add_modifier = {
					name = weak_currency
					multiplier = var:month_weak_currency
				}
			}
			if = {
				limit = { #for countru no has_central_bank
					not = {
						has_modifier = has_central_bank
					}
				}
				add_modifier = {
					name = weak_currency
					multiplier = 1
				}
			}
			#set_variable = {
			#	name = month_normal_currency
			#	value = 0
			#}
			set_variable = {
				name = month_strong_currency
				value = 0
			}
		}
		if = {
			limit = {
				money_value > 1
				Not = {
					or = {
						has_modifier = strong_currency
						has_modifier = weak_currency
						country_rank = rank_value:great_power
					}
				}
			}
			if = {
				limit = {
					has_modifier = has_central_bank
				}
				add_modifier = {
					name = normal_currency
					multiplier = var:month_normal_currency
				}
			}
			set_variable = {
				name = month_weak_currency
				value = 0
			}
			set_variable = {
				name = month_strong_currency
				value = 0
			}
		}
		if = {
			limit = {
				or = {
					country_rank = rank_value:great_power
					this = c:SWI
					this = c:NET
				}
				Not = {
					or = {
						has_modifier = weak_currency
						has_modifier = normal_currency
						money_value < 1
					}
				}
			}
			add_modifier = {
				name = strong_currency
				multiplier = var:month_strong_currency
			}
			#set_variable = {
			#	name = month_weak_currency
			#	value = 0
			#}
		}
	}
}
modifier_inflation = {
	effect = {
		if = {
			limit = {
				inflation_value > 0.05
			}
			add_modifier = {
				name = inflation_country
				multiplier = inflation_value
			}
		}
		else_if = {
			limit = {
				inflation_value < -0.05
			}
			add_modifier = {
				name = deflation_country
				multiplier = inflation_value
			}
		}
	}
}

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

# ██████╗ ███████╗██╗   ██╗ █████╗ ██╗     ██╗   ██╗ █████╗ ████████╗██╗ ██████╗ ███╗   ██╗    ██╗██████╗ ███████╗██╗   ██╗ █████╗ ██╗     ██╗   ██╗ █████╗ ████████╗██╗ ██████╗ ███╗   ██╗
# ██╔══██╗██╔════╝██║   ██║██╔══██╗██║     ██║   ██║██╔══██╗╚══██╔══╝██║██╔═══██╗████╗  ██║   ██╔╝██╔══██╗██╔════╝██║   ██║██╔══██╗██║     ██║   ██║██╔══██╗╚══██╔══╝██║██╔═══██╗████╗  ██║
# ██║  ██║█████╗  ██║   ██║███████║██║     ██║   ██║███████║   ██║   ██║██║   ██║██╔██╗ ██║  ██╔╝ ██████╔╝█████╗  ██║   ██║███████║██║     ██║   ██║███████║   ██║   ██║██║   ██║██╔██╗ ██║
# ██║  ██║██╔══╝  ╚██╗ ██╔╝██╔══██║██║     ██║   ██║██╔══██║   ██║   ██║██║   ██║██║╚██╗██║ ██╔╝  ██╔══██╗██╔══╝  ╚██╗ ██╔╝██╔══██║██║     ██║   ██║██╔══██║   ██║   ██║██║   ██║██║╚██╗██║
# ██████╔╝███████╗ ╚████╔╝ ██║  ██║███████╗╚██████╔╝██║  ██║   ██║   ██║╚██████╔╝██║ ╚████║██╔╝   ██║  ██║███████╗ ╚████╔╝ ██║  ██║███████╗╚██████╔╝██║  ██║   ██║   ██║╚██████╔╝██║ ╚████║
# ╚═════╝ ╚══════╝  ╚═══╝  ╚═╝  ╚═╝╚══════╝ ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚═╝ ╚═════╝ ╚═╝  ╚═══╝╚═╝    ╚═╝  ╚═╝╚══════╝  ╚═══╝  ╚═╝  ╚═╝╚══════╝ ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚═╝ ╚═════╝ ╚═╝  ╚═══╝

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

no_monetary_policy_0 = {
	is_shown = {
	}
	is_valid = {
		var:revaluation_on = 0
		var:devaluation_on = 0
	}
	effect = {
		activate_law = law_type:law_no_monetary_policy
		random_scope_building = {
			limit = {
				is_building_group = bg_bank
			}
			remove_modifier = devaluation_currency_25
			remove_modifier = devaluation_currency_50
			remove_modifier = devaluation_currency_75
			remove_modifier = devaluation_currency_100
			remove_modifier = revaluation_currency_25
			remove_modifier = revaluation_currency_50
			remove_modifier = revaluation_currency_75
			remove_modifier = revaluation_currency_100
		}
	}
}

################################

################################

devaluation_currency_25 = {
	is_shown = {
	}
	is_valid = {
		var:revaluation_on = 0
		var:devaluation_on = 0
		has_technology_researched = central_banking
		has_modifier = has_central_bank
		# NOT = {
		# 	is_subject = yes
		# 	is_subject_type = subject_type_customs_union
		# 	is_subject_type = subject_type_protectorate
		# }
	}
	effect = {
		activate_law = law_type:law_devaluation_25
		random_scope_building = {
			limit = {
				is_building_group = bg_bank
				not = {
					has_modifier = devaluation_currency_25
				}
			}
			add_modifier = {
				name = devaluation_currency_25
			}
			remove_modifier = devaluation_currency_50
			remove_modifier = devaluation_currency_75
			remove_modifier = devaluation_currency_100
			remove_modifier = revaluation_currency_25
			remove_modifier = revaluation_currency_50
			remove_modifier = revaluation_currency_75
			remove_modifier = revaluation_currency_100
		}
	}
}

revaluation_currency_25 = {
	is_shown = {
	}
	is_valid = {
		var:revaluation_on = 0
		var:devaluation_on = 0
		has_technology_researched = central_banking
		has_modifier = has_central_bank
		# NOT = {
		# 	is_subject = yes
		# 	is_subject_type = subject_type_customs_union
		# 	is_subject_type = subject_type_protectorate
		# }
	}
	effect = {
		activate_law = law_type:law_revaluation_25
		random_scope_building = {
			limit = {
				is_building_group = bg_bank
				not = {
					has_modifier = revaluation_currency_25
				}
			}
			add_modifier = {
				name = revaluation_currency_25
			}
			remove_modifier = devaluation_currency_25
			remove_modifier = devaluation_currency_50
			remove_modifier = devaluation_currency_75
			remove_modifier = devaluation_currency_100
			remove_modifier = revaluation_currency_50
			remove_modifier = revaluation_currency_75
			remove_modifier = revaluation_currency_100
		}
	}
}

################################

################################

devaluation_revaluation_enabled = {
	is_valid = {
		var:revaluation_on = 0
		var:devaluation_on = 0
		has_technology_researched = monetary_policy_tools
	}
}


devaluation_rate_increase = {
	is_shown = {
		#var:money_value_target <= 10
	}
	effect = {
		if = {
			limit = {
				has_variable = devaluation_rate
				var:devaluation_rate < 200 #500
			}
			change_variable = {
				name = devaluation_rate
				add = 5
			}
			if = {
				limit = {
					has_variable = devaluation_rate
					var:devaluation_rate > 65
					var:devaluation_rate <= 70

				}
				set_variable = {
					name = devaluation_time_1
					value = 5
				}
			}
			if = {
				limit = {
					has_variable = devaluation_rate
					var:devaluation_rate > 110
					var:devaluation_rate <= 115

				}
				set_variable = {
					name = devaluation_time_1
					value = 7.5
				}
			}
			if = {
				limit = {
					has_variable = devaluation_rate
					var:devaluation_rate > 155
					var:devaluation_rate <= 160

				}
				set_variable = {
					name = devaluation_time_1
					value = 10
				}
			}
		}
	}
}
devaluation_rate_reduce = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
				has_variable = devaluation_rate
				var:devaluation_rate > 25
			}
			change_variable = {
				name = devaluation_rate
				subtract = 5
			}
			if = {
				limit = {
					has_variable = devaluation_rate
					var:devaluation_rate < 70
					var:devaluation_rate >= 65

				}
				set_variable = {
					name = devaluation_time_1
					value = 2.5
				}
			}
			if = {
				limit = {
					has_variable = devaluation_rate
					var:devaluation_rate < 115
					var:devaluation_rate >= 110

				}
				set_variable = {
					name = devaluation_time_1
					value = 5
				}
			}

			if = {
				limit = {
					has_variable = devaluation_rate
					var:devaluation_rate < 160
					var:devaluation_rate >= 155

				}
				set_variable = {
					name = devaluation_time_1
					value = 7.5
				}
			}

		}
	}
}
devaluation_time_increase = {
	is_shown = {
		#var:money_value_target <= 10
	}
	effect = {
		if = {
			limit = {
				has_variable = devaluation_time
				var:devaluation_time < 10 #500
			}
			change_variable = {
				name = devaluation_time
				add = 1
			}
		}
	}
}
devaluation_time_reduce = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
				has_variable = devaluation_time
				var:devaluation_time > 1
			}
			change_variable = {
				name = devaluation_time
				subtract = 1
			}
		}
	}
}

################################

################################

revaluation_rate_increase = {
	is_shown = {
		#var:money_value_target <= 10
	}
	effect = {
		if = {
			limit = {
				has_variable = revaluation_rate
				var:revaluation_rate < 95 #500
			}
			change_variable = {
				name = revaluation_rate
				add = 5
			}
			if = {
				limit = {
					has_variable = revaluation_rate
					var:revaluation_rate > 65
					var:revaluation_rate <= 70

				}
				set_variable = {
					name = revaluation_time_1
					value = 5
				}
			}
		}
	}
}
revaluation_rate_reduce = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
				has_variable = revaluation_rate
				var:revaluation_rate > 25
			}
			change_variable = {
				name = revaluation_rate
				subtract = 5
			}
			if = {
				limit = {
					has_variable = revaluation_rate
					var:revaluation_rate < 70
					var:revaluation_rate >= 65

				}
				set_variable = {
					name = revaluation_time_1
					value = 2.5
				}
			}
		}
	}
}
revaluation_time_increase = {
	is_shown = {
		#var:money_value_target <= 10
	}
	effect = {
		if = {
			limit = {
				has_variable = revaluation_time
				var:revaluation_time < 5 #500
			}
			change_variable = {
				name = revaluation_time
				add = 1
			}
		}
	}
}
revaluation_time_reduce = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
				has_variable = revaluation_time
				var:revaluation_time > 1
			}
			change_variable = {
				name = revaluation_time
				subtract = 1
			}
		}
	}
}

################################

################################

set_devaluation_rate = {
	effect = {
		set_variable = {
			name = devaluation_on
			value = 1
		}
		set_variable = { #to fixe the variable
			name = money_supply_predicted_add_devaluation_1_month_valided
			value = money_supply_predicted_add_devaluation_1
		}
		set_variable = { #to fixe the variable
			name = inflation_value_predicted_devaluation_month_valided
			value = inflation_value_predicted_devaluation_month
		}
		set_variable = { #to fixe the variable
			name = money_value_target_valided
			value = money_value_predicted_devaluation
		}


		add_modifier = {
			name = foreign_exchange_controls
			months = devaluation_time_1_month
		}
		#Reset law
		activate_law = law_type:law_no_monetary_policy
	}
}
set_revaluation_rate = {
	effect = {
		set_variable = {
			name = revaluation_on
			value = 1
		}
		set_variable = { #to fixe the variable
			name = money_supply_predicted_add_revaluation_1_month_valided
			value = money_supply_predicted_add_revaluation_1
		}
		set_variable = { #to fixe the variable
			name = inflation_value_predicted_revaluation_month_valided
			value = inflation_value_predicted_revaluation_month
		}
		set_variable = { #to fixe the variable
			name = money_value_target_valided
			value = money_value_predicted_revaluation
		}



		add_modifier = {
			name = foreign_exchange_controls
			months = revaluation_time_1_month
		}
		#Reset law
		activate_law = law_type:law_no_monetary_policy
	}
}

################################

################################


################################################################################################
################################################################################################
################################################################################################
################################################################################################

# ██╗   ██╗██╗███████╗██╗██████╗ ██╗██╗     ██╗████████╗██╗   ██╗    ██████╗ ██╗   ██╗██████╗  ██████╗ ███████╗████████╗    ██████╗  █████╗ ███╗   ██╗███████╗██╗
# ██║   ██║██║██╔════╝██║██╔══██╗██║██║     ██║╚══██╔══╝╚██╗ ██╔╝    ██╔══██╗██║   ██║██╔══██╗██╔════╝ ██╔════╝╚══██╔══╝    ██╔══██╗██╔══██╗████╗  ██║██╔════╝██║
# ██║   ██║██║███████╗██║██████╔╝██║██║     ██║   ██║    ╚████╔╝     ██████╔╝██║   ██║██║  ██║██║  ███╗█████╗     ██║       ██████╔╝███████║██╔██╗ ██║█████╗  ██║
# ╚██╗ ██╔╝██║╚════██║██║██╔══██╗██║██║     ██║   ██║     ╚██╔╝      ██╔══██╗██║   ██║██║  ██║██║   ██║██╔══╝     ██║       ██╔═══╝ ██╔══██║██║╚██╗██║██╔══╝  ██║
#  ╚████╔╝ ██║███████║██║██████╔╝██║███████╗██║   ██║      ██║       ██████╔╝╚██████╔╝██████╔╝╚██████╔╝███████╗   ██║       ██║     ██║  ██║██║ ╚████║███████╗███████╗
#   ╚═══╝  ╚═╝╚══════╝╚═╝╚═════╝ ╚═╝╚══════╝╚═╝   ╚═╝      ╚═╝       ╚═════╝  ╚═════╝ ╚═════╝  ╚═════╝ ╚══════╝   ╚═╝       ╚═╝     ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚══════╝

################################################################################################
################################################################################################
################################################################################################
################################################################################################

for_observer = {
	is_shown = {
		is_visible_to_countryless_observer = yes
	}
}

has_currency_standards_no_central_banking_tech_visibility = {
	is_shown = {
		has_technology_researched = currency_standards
		not = {
			has_technology_researched = central_banking
			or = {
				is_subject = yes
				is_subject_type = subject_type_dominion
				is_subject_type = subject_type_customs_union
				is_subject_type = subject_type_protectorate
				is_subject_type = subject_type_puppet
				is_subject_type = subject_type_personal_union
				is_subject_type = subject_type_vassal
				is_subject_type = subject_type_tributary
			}
		}
	}
}

has_central_banking_no_gold_standard_tech_visibility = {
	is_shown = {
		has_technology_researched = central_banking
		not = {
			has_technology_researched = gold_standard
			or = {
				is_subject = yes
				is_subject_type = subject_type_dominion
				is_subject_type = subject_type_customs_union
				is_subject_type = subject_type_protectorate
				is_subject_type = subject_type_puppet
				is_subject_type = subject_type_personal_union
				is_subject_type = subject_type_vassal
				is_subject_type = subject_type_tributary
			}
		}
	}
}
#central_banking only
has_central_banking_tech_visibility = {
	is_shown = {
		has_technology_researched = central_banking
		has_modifier = has_central_bank
	}
}

has_gold_standard_no_gold_exchange_standard_tech_visibility = {
	is_shown = {
		has_technology_researched = gold_standard
		not = {
			has_technology_researched = gold_exchange_standard
			or = {
				is_subject = yes
				is_subject_type = subject_type_dominion
				is_subject_type = subject_type_customs_union
				is_subject_type = subject_type_protectorate
				is_subject_type = subject_type_puppet
				is_subject_type = subject_type_personal_union
				is_subject_type = subject_type_vassal
				is_subject_type = subject_type_tributary
			}
		}
		has_modifier = has_central_bank
	}
}
#gold_standard only
has_gold_standard_tech_visibility = {
	is_shown = {
		has_technology_researched = gold_standard
		has_modifier = has_central_bank
	}
}

has_monetary_policy_tools_tech_visibility = {
	is_shown = {
		has_technology_researched = monetary_policy_tools
		not = {
			#has_technology_researched = gold_exchange_standard
			or = {
				is_subject = yes
				is_subject_type = subject_type_dominion
				is_subject_type = subject_type_customs_union
				is_subject_type = subject_type_protectorate
				is_subject_type = subject_type_puppet
				is_subject_type = subject_type_personal_union
				is_subject_type = subject_type_vassal
				is_subject_type = subject_type_tributary
			}
		}
		has_modifier = has_central_bank
	}
}
no_has_monetary_policy_tools_tech_visibility = {
	is_shown = {
		has_technology_researched = central_banking
		not = {
			has_technology_researched = monetary_policy_tools
		}
		has_modifier = has_central_bank
	}
}
has_gold_exchange_standard_tech_visibility = {
	is_shown = {
		has_technology_researched = gold_exchange_standard
		not = {
			or = {
				is_subject = yes
				is_subject_type = subject_type_dominion
				is_subject_type = subject_type_customs_union
				is_subject_type = subject_type_protectorate
				is_subject_type = subject_type_puppet
				is_subject_type = subject_type_personal_union
				is_subject_type = subject_type_vassal
				is_subject_type = subject_type_tributary
			}
		}
		has_modifier = has_central_bank
	}
}

#subject
has_central_banking_tech_and_is_subject_visibility = {
	is_shown = {
		has_technology_researched = central_banking
		or = {
			is_subject = yes
			is_subject_type = subject_type_dominion
			is_subject_type = subject_type_customs_union
			is_subject_type = subject_type_protectorate
			is_subject_type = subject_type_puppet
			is_subject_type = subject_type_personal_union
			is_subject_type = subject_type_vassal
			is_subject_type = subject_type_tributary
		}
		has_modifier = has_central_bank
	}
}

################################################################################################
################################################################################################
################################################################################################
################################################################################################

# ██╗   ██╗██╗███████╗██╗██████╗ ██╗██╗     ██╗████████╗██╗   ██╗    ██████╗ ██╗   ██╗██████╗  ██████╗ ███████╗████████╗    ██████╗  █████╗ ███╗   ██╗███████╗██╗
# ██║   ██║██║██╔════╝██║██╔══██╗██║██║     ██║╚══██╔══╝╚██╗ ██╔╝    ██╔══██╗██║   ██║██╔══██╗██╔════╝ ██╔════╝╚══██╔══╝    ██╔══██╗██╔══██╗████╗  ██║██╔════╝██║
# ██║   ██║██║███████╗██║██████╔╝██║██║     ██║   ██║    ╚████╔╝     ██████╔╝██║   ██║██║  ██║██║  ███╗█████╗     ██║       ██████╔╝███████║██╔██╗ ██║█████╗  ██║
# ╚██╗ ██╔╝██║╚════██║██║██╔══██╗██║██║     ██║   ██║     ╚██╔╝      ██╔══██╗██║   ██║██║  ██║██║   ██║██╔══╝     ██║       ██╔═══╝ ██╔══██║██║╚██╗██║██╔══╝  ██║
#  ╚████╔╝ ██║███████║██║██████╔╝██║███████╗██║   ██║      ██║       ██████╔╝╚██████╔╝██████╔╝╚██████╔╝███████╗   ██║       ██║     ██║  ██║██║ ╚████║███████╗███████╗
#   ╚═══╝  ╚═╝╚══════╝╚═╝╚═════╝ ╚═╝╚══════╝╚═╝   ╚═╝      ╚═╝       ╚═════╝  ╚═════╝ ╚═════╝  ╚═════╝ ╚══════╝   ╚═╝       ╚═╝     ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚══════╝

################################################################################################
################################################################################################
################################################################################################
################################################################################################

has_gold_standard_tech_no_gold_exchange_standard_more_button_visibility = {
	is_valid = {
		has_technology_researched = gold_standard
		not = {
			or = {
				has_technology_researched = gold_exchange_standard
			}
		}
	}
}
is_not_global_monetary_reference_more_button_visibility = {
	is_shown= {
		not = {
			has_modifier = global_monetary_reference
		}
	}
}
is_global_monetary_reference_more_button_visibility = {
	is_shown= {
		has_modifier = global_monetary_reference
	}
}

has_gold_exchange_standard_tech_more_button_visibility = {
	is_valid = {
		has_technology_researched = gold_exchange_standard
	}
	is_shown = {
		has_technology_researched = gold_exchange_standard
		var:sell_in_currency_on = 1
	}
}
has_gold_standard_tech_more_button_visibility = {
	is_shown = {
		has_technology_researched = gold_standard
		var:sell_in_gold_on = 1
	}
}

sell_in_gold_on = {
	effect  = {
		set_variable = {
			name = sell_in_gold_on
			value = 1
		}
		set_variable = {
			name = sell_in_currency_on
			value = 0
		}
	}
}

sell_in_currency_on = {
	effect  = {
		set_variable = {
			name = sell_in_currency_on
			value = 1
		}
		set_variable = {
			name = sell_in_gold_on
			value = 0
		}
	}
}

################################################################################################

#for foreing invest witch currency

has_financial_center_tech_visibility = {
	is_shown = {
		has_technology_researched = financial_center
		has_modifier = has_financial_center
	}
}

################################################################################################

has_gold_standard_no_gold_exchange_standard_tech_market_panel_visibility = {
	is_shown = {
		has_technology_researched = gold_standard
		not = {
			has_technology_researched = gold_exchange_standard
		}
	}
}

has_gold_exchange_standard_tech_market_panel_visibility = {
	is_shown = {
		has_technology_researched = gold_exchange_standard
	}
}




# visible = "[GetScriptedGui('has_gold_exchange_standard_tech_market_panel_visibility').IsShown( GuiScope.SetRoot(GetPlayer.MakeScope).End)]"

################################################################################################
################################################################################################
################################################################################################
################################################################################################

# ███╗   ███╗ ██████╗ ███╗   ██╗███████╗██╗   ██╗    ██╗   ██╗ █████╗ ██╗     ██╗   ██╗███████╗
# ████╗ ████║██╔═══██╗████╗  ██║██╔════╝╚██╗ ██╔╝    ██║   ██║██╔══██╗██║     ██║   ██║██╔════╝
# ██╔████╔██║██║   ██║██╔██╗ ██║█████╗   ╚████╔╝     ██║   ██║███████║██║     ██║   ██║█████╗
# ██║╚██╔╝██║██║   ██║██║╚██╗██║██╔══╝    ╚██╔╝      ╚██╗ ██╔╝██╔══██║██║     ██║   ██║██╔══╝
# ██║ ╚═╝ ██║╚██████╔╝██║ ╚████║███████╗   ██║        ╚████╔╝ ██║  ██║███████╗╚██████╔╝███████╗
# ╚═╝     ╚═╝ ╚═════╝ ╚═╝  ╚═══╝╚══════╝   ╚═╝         ╚═══╝  ╚═╝  ╚═╝╚══════╝ ╚═════╝ ╚══════╝
#
# ████████╗ █████╗ ██████╗  ██████╗ ███████╗████████╗
# ╚══██╔══╝██╔══██╗██╔══██╗██╔════╝ ██╔════╝╚══██╔══╝
#    ██║   ███████║██████╔╝██║  ███╗█████╗     ██║
#    ██║   ██╔══██║██╔══██╗██║   ██║██╔══╝     ██║
#    ██║   ██║  ██║██║  ██║╚██████╔╝███████╗   ██║
#    ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚══════╝   ╚═╝

################################################################################################
################################################################################################
################################################################################################
################################################################################################

money_value_target_increase = {
	is_shown = {
		#var:money_value_target <= 10
	}
	effect = {
		if = {
			limit = {
				has_variable = money_value_target_2
				#var:money_value_target_1 > 0.5
			}
			change_variable = {
				name = money_value_target_2
				add = 0.25
			}
		}
	}
}
money_value_target_reduce = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
				has_variable = money_value_target_2
				var:money_value_target_2 > 0.25
			}
			change_variable = {
				name = money_value_target_2
				subtract = 0.25
			}
		}
	}
}
set_money_value_target = {
	is_valid = {
		not = {
			var:money_value_target_time = 1
		}
	}
	effect = {
		set_variable = {
			name = money_value_target_1
			value = var:money_value_target_2
		}
		set_variable = {
			name = money_value_target_time
			value = 1
		}
		add_modifier = {
			name = foreign_exchange_controls
			months = 60
		}
	}
}
################################################################################################

money_value_target_with_the_reference_currency_increase = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
				has_variable = money_value_target_with_the_reference_currency_2
				var:money_value_target_with_the_reference_currency_2 < 1
			}
			change_variable = {
				name = money_value_target_with_the_reference_currency_2
				add = 0.1
			}
		}
	}
}
money_value_target_with_the_reference_currency_reduce = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
				has_variable = money_value_target_with_the_reference_currency_2
				var:money_value_target_with_the_reference_currency_2 > 0.1
			}
			change_variable = {
				name = money_value_target_with_the_reference_currency_2
				subtract = 0.1
			}
		}
	}
}
set_money_value_target_with_the_reference_currency = {
	is_valid = {
		not = {
			var:money_value_target_time = 1 #use same variable
		}
	}
	effect = {
		set_variable = {
			name = money_value_target_with_the_reference_currency_effective
			value = {
				add = global_monetary_reference
				multiply = var:money_value_target_with_the_reference_currency_2
			}
		}
		set_variable = {
			name = money_value_target_with_the_reference_currency_1
			value = var:money_value_target_with_the_reference_currency_2
		}
		set_variable = {
			name = money_value_target_1
			value = var:money_value_target_with_the_reference_currency_effective
		}
		set_variable = {
			name = money_value_target_time #money_value_target_with_the_reference_currency_time #use same variable
			value = 1
		}
		add_modifier = {
			name = foreign_exchange_controls
			months = 60
		}
	}
}


################################################################################################
################################################################################################
################################################################################################
################################################################################################

# ██████╗  █████╗ ██████╗ ██╗████████╗██╗   ██╗     ███████╗ ██████╗ █████╗ ██╗     ███████╗██████╗         ██████╗ ██╗   ██╗  ████████╗██╗  ██╗███████╗
# ██╔══██╗██╔══██╗██╔══██╗██║╚══██╔══╝╚██╗ ██╔╝     ██╔════╝██╔════╝██╔══██╗██║     ██╔════╝██╔══██╗        ██╔══██╗╚██╗ ██╔╝  ╚══██╔══╝██║  ██║██╔════╝
# ██████╔╝███████║██████╔╝██║   ██║    ╚████╔╝      ███████╗██║     ███████║██║     █████╗  ██║  ██║        ██████╔╝ ╚████╔╝      ██║   ███████║█████╗
# ██╔═══╝ ██╔══██║██╔══██╗██║   ██║     ╚██╔╝       ╚════██║██║     ██╔══██║██║     ██╔══╝  ██║  ██║        ██╔══██╗  ╚██╔╝       ██║   ██╔══██║██╔══╝
# ██║     ██║  ██║██║  ██║██║   ██║      ██║███████╗███████║╚██████╗██║  ██║███████╗███████╗██████╔╝███████╗██████╔╝   ██║███████╗██║   ██║  ██║███████╗
# ╚═╝     ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝   ╚═╝      ╚═╝╚══════╝╚══════╝ ╚═════╝╚═╝  ╚═╝╚══════╝╚══════╝╚═════╝ ╚══════╝╚═════╝    ╚═╝╚══════╝╚═╝   ╚═╝  ╚═╝╚══════╝
#
#          ██████╗ ██╗   ██╗███████╗██████╗ ██╗      ██████╗ ██████╗ ██████╗
#         ██╔═══██╗██║   ██║██╔════╝██╔══██╗██║     ██╔═══██╗██╔══██╗██╔══██╗
#         ██║   ██║██║   ██║█████╗  ██████╔╝██║     ██║   ██║██████╔╝██║  ██║
#         ██║   ██║╚██╗ ██╔╝██╔══╝  ██╔══██╗██║     ██║   ██║██╔══██╗██║  ██║
# ███████╗╚██████╔╝ ╚████╔╝ ███████╗██║  ██║███████╗╚██████╔╝██║  ██║██████╔╝
# ╚══════╝ ╚═════╝   ╚═══╝  ╚══════╝╚═╝  ╚═╝╚══════╝ ╚═════╝ ╚═╝  ╚═╝╚═════╝

################################################################################################
################################################################################################
################################################################################################
################################################################################################

is_subject_yes = {
	is_shown = {
		or = {
			is_subject = yes
			is_subject_type = subject_type_dominion
			is_subject_type = subject_type_customs_union
			is_subject_type = subject_type_protectorate
			is_subject_type = subject_type_puppet
			is_subject_type = subject_type_personal_union
			is_subject_type = subject_type_vassal
			is_subject_type = subject_type_tributary
		}
	}
}

has_subject_yes = {
	is_shown = {
		#always = no
		any_subject_or_below = {
			save_scope_as = subject
		}
		limit = {
			exists = scope:subject
		}
	}
}


parity_scaled_by_the_overlord_1_enabled = {
	is_valid = {
		not = {
			parity_scaled_by_the_overlord = 1
		}
	}
}

parity_scaled_by_the_overlord_2_enabled = {
	is_valid = {
		not = {
			parity_scaled_by_the_overlord = 5
		}
	}
}

parity_scaled_by_the_overlord_3_enabled = {
	is_valid = {
		not = {
			parity_scaled_by_the_overlord = 10
		}
	}
}

parity_scaled_by_the_overlord_4_enabled = {
	is_valid = {
		not = {
			parity_scaled_by_the_overlord = 15
		}
	}
}

################################

################################

parity_scaled_by_the_overlord_increase = {
	is_shown = {
		#var:parity_scaled_by_the_overlord <= 10
	}
	effect = {
		if = {
			limit = {
				has_variable = parity_scaled_by_the_overlord
				var:parity_scaled_by_the_overlord <10

			}
			change_variable = {
				name = parity_scaled_by_the_overlord
				add = 1
			}
		}
	}
}
parity_scaled_by_the_overlord_reduce = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
				has_variable = parity_scaled_by_the_overlord
				var:parity_scaled_by_the_overlord >1

			}
			change_variable = {
				name = parity_scaled_by_the_overlord
				subtract = 1
			}
		}
	}
}

################################
#Supp
################################
parity_scaled_by_the_overlord_set_1 = {
	effect = {
		set_variable = {
			name = parity_scaled_by_the_overlord
			value = 1
		}
		#1
	}
}
parity_scaled_by_the_overlord_set_2 = {
	effect = {
		set_variable = {
			name = parity_scaled_by_the_overlord
			value = 2
		}
		#5
	}
}
parity_scaled_by_the_overlord_set_3 = {
	effect = {
		set_variable = {
			name = parity_scaled_by_the_overlord
			value = 3
		}
		#10
	}
}
parity_scaled_by_the_overlord_set_4 = {
	effect = {
		set_variable = {
			name = parity_scaled_by_the_overlord
			value = 4
		}
		#15
	}
}
################################
#Supp
################################

################################################################################################
################################################################################################
################################################################################################
################################################################################################

# ███████╗ ██████╗ ██████╗ ███████╗██╗  ██╗        ███╗   ███╗ █████╗ ██████╗ ██╗  ██╗███████╗████████╗     ██████╗  █████╗ ███╗   ██╗███████╗██╗
# ██╔════╝██╔═══██╗██╔══██╗██╔════╝╚██╗██╔╝        ████╗ ████║██╔══██╗██╔══██╗██║ ██╔╝██╔════╝╚══██╔══╝     ██╔══██╗██╔══██╗████╗  ██║██╔════╝██║
# █████╗  ██║   ██║██████╔╝█████╗   ╚███╔╝         ██╔████╔██║███████║██████╔╝█████╔╝ █████╗     ██║        ██████╔╝███████║██╔██╗ ██║█████╗  ██║
# ██╔══╝  ██║   ██║██╔══██╗██╔══╝   ██╔██╗         ██║╚██╔╝██║██╔══██║██╔══██╗██╔═██╗ ██╔══╝     ██║        ██╔═══╝ ██╔══██║██║╚██╗██║██╔══╝  ██║
# ██║     ╚██████╔╝██║  ██║███████╗██╔╝ ██╗███████╗██║ ╚═╝ ██║██║  ██║██║  ██║██║  ██╗███████╗   ██║███████╗██║     ██║  ██║██║ ╚████║███████╗███████╗
# ╚═╝      ╚═════╝ ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚══════╝╚═╝     ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝   ╚═╝╚══════╝╚═╝     ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚══════╝

################################################################################################
################################################################################################
################################################################################################
################################################################################################

#begin_tag_9
############################################################################################################################################################
#algerian_dinar
algerian_dinar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = algerian_dinar_quantity
				#var:algerian_dinar_quantity < market.owner.stockpiling_algerian_dinar_state
				var:algerian_dinar_quantity < sell_limit_currency_var_rest
				var:algerian_dinar_quantity < 20000000
			}
			change_variable = {
				name = algerian_dinar_quantity
				add = 5000000
			}
		}
	}
}
algerian_dinar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = algerian_dinar_quantity
				var:algerian_dinar_quantity > 5000000
			}
			change_variable = {
				name = algerian_dinar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_algerian_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_algerian_dinar_state > player.var:algerian_dinar_quantity

		money_supply_verification_algerian_dinar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:algerian_dinar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_algerian_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_algerian_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_algerian_dinar_state > player.var:algerian_dinar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_algerian_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_algerian_dinar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_algerian_dinar_market_panel_verification_current = 1

	}
}
buy_algerian_dinar_market_panel = {
	is_shown = {
		var:algerian_dinar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = algerian_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:algerian_dinar_order = 1
				var:algerian_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_1 #Player country quantity of algerian_dinar buy
					value  = scope:player_country.var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = algerian_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:algerian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_buy_1 #Player country quantity of algerian_dinar buy
					value  = var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:algerian_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to algerian_dinar_suply
				set_variable = {
					name = algerian_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:algerian_dinar_quantity
							multiply = var:algerian_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_algerian_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_algerian_dinar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:algerian_dinar_order = 2
				var:algerian_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_2 #Player country quantity of algerian_dinar buy
					value  = scope:player_country.var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = algerian_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:algerian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_buy_2 #Player country quantity of algerian_dinar buy
					value  = var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:algerian_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to algerian_dinar_suply
				set_variable = {
					name = algerian_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:algerian_dinar_quantity
							multiply = var:algerian_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_algerian_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_algerian_dinar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:algerian_dinar_order = 3
				var:algerian_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_3 #Player country quantity of algerian_dinar buy
					value  = scope:player_country.var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = algerian_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:algerian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_buy_3 #Player country quantity of algerian_dinar buy
					value  = var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:algerian_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to algerian_dinar_suply
				set_variable = {
					name = algerian_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:algerian_dinar_quantity
							multiply = var:algerian_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_algerian_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_algerian_dinar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:algerian_dinar_order = 4
				var:algerian_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_4 #Player country quantity of algerian_dinar buy
					value  = scope:player_country.var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = algerian_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:algerian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_buy_4 #Player country quantity of algerian_dinar buy
					value  = var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:algerian_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to algerian_dinar_suply
				set_variable = {
					name = algerian_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:algerian_dinar_quantity
							multiply = var:algerian_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_algerian_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_algerian_dinar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:algerian_dinar_order = 5
				var:algerian_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_5 #Player country quantity of algerian_dinar buy
					value  = scope:player_country.var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = algerian_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:algerian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_buy_5 #Player country quantity of algerian_dinar buy
					value  = var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:algerian_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to algerian_dinar_suply
				set_variable = {
					name = algerian_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:algerian_dinar_quantity
							multiply = var:algerian_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_algerian_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_algerian_dinar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:algerian_dinar_order >= 5
			}
			set_variable = {
				name = algerian_dinar_order
				#Player country quantity of algerian_dinar buy
				value  = 0
			}
		}
	}
}
sell_algerian_dinar_market_panel = {
	is_shown = {
		var:algerian_dinar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = algerian_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:algerian_dinar_order = 1
				var:algerian_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_1 #Player country quantity of algerian_dinar sell
					value  = scope:player_country.var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = algerian_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:algerian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_1 #Player country quantity of algerian_dinar sell
					value  = var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:algerian_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to algerian_dinar_suply
				set_variable = {
					name = algerian_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:algerian_dinar_quantity
							multiply = var:algerian_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_algerian_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_algerian_dinar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:algerian_dinar_order = 2
				var:algerian_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_2 #Player country quantity of algerian_dinar sell
					value  = scope:player_country.var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = algerian_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:algerian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_2 #Player country quantity of algerian_dinar sell
					value  = var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:algerian_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to algerian_dinar_suply
				set_variable = {
					name = algerian_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:algerian_dinar_quantity
							multiply = var:algerian_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_algerian_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_algerian_dinar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:algerian_dinar_order = 3
				var:algerian_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_3 #Player country quantity of algerian_dinar sell
					value  = scope:player_country.var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = algerian_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:algerian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_3 #Player country quantity of algerian_dinar sell
					value  = var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:algerian_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to algerian_dinar_suply
				set_variable = {
					name = algerian_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:algerian_dinar_quantity
							multiply = var:algerian_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_algerian_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_algerian_dinar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:algerian_dinar_order = 4
				var:algerian_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_4 #Player country quantity of algerian_dinar sell
					value  = scope:player_country.var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = algerian_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:algerian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_4 #Player country quantity of algerian_dinar sell
					value  = var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:algerian_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to algerian_dinar_suply
				set_variable = {
					name = algerian_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:algerian_dinar_quantity
							multiply = var:algerian_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_algerian_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_algerian_dinar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:algerian_dinar_order = 5
				var:algerian_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_5 #Player country quantity of algerian_dinar sell
					value  = scope:player_country.var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = algerian_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:algerian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = algerian_dinar_sell_5 #Player country quantity of algerian_dinar sell
					value  = var:algerian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = algerian_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:algerian_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to algerian_dinar_suply
				set_variable = {
					name = algerian_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:algerian_dinar_quantity
							multiply = var:algerian_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_algerian_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_algerian_dinar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:algerian_dinar_order >= 5
			}
			set_variable = {
				name = algerian_dinar_order
				#Player country quantity of algerian_dinar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_algerian_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:algerian_dinar_quantity < stockpiling_algerian_dinar_state
		player.central_bank_gold_reserves_state > buy_algerian_dinar_in_gold_market_panel
	}
}
sell_algerian_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:algerian_dinar_quantity < player.stockpiling_algerian_dinar_state
		central_bank_gold_reserves_state > sell_algerian_dinar_in_gold_market_panel
	}
}
algerian_dinar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_algerian_dinar_state_1
					add = scope:player_country.var:algerian_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:algerian_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_algerian_dinar_state_1
						subtract = owner.var:algerian_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:algerian_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
algerian_dinar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_algerian_dinar_state_1
					subtract = scope:player_country.var:algerian_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:algerian_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_algerian_dinar_state_1
						add = owner.var:algerian_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:algerian_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#argentine_peso
argentine_peso_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = argentine_peso_quantity
				#var:argentine_peso_quantity < market.owner.stockpiling_argentine_peso_state
				var:argentine_peso_quantity < sell_limit_currency_var_rest
				var:argentine_peso_quantity < 20000000
			}
			change_variable = {
				name = argentine_peso_quantity
				add = 5000000
			}
		}
	}
}
argentine_peso_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = argentine_peso_quantity
				var:argentine_peso_quantity > 5000000
			}
			change_variable = {
				name = argentine_peso_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_argentine_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_argentine_peso_state > player.var:argentine_peso_quantity

		money_supply_verification_argentine_peso < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:argentine_peso_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_argentine_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_argentine_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_argentine_peso_state > player.var:argentine_peso_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_argentine_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_argentine_peso_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_argentine_peso_market_panel_verification_current = 1

	}
}
buy_argentine_peso_market_panel = {
	is_shown = {
		var:argentine_peso_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = argentine_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:argentine_peso_order = 1
				var:argentine_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_1 #Player country quantity of argentine_peso buy
					value  = scope:player_country.var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = argentine_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:argentine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_buy_1 #Player country quantity of argentine_peso buy
					value  = var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:argentine_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to argentine_peso_suply
				set_variable = {
					name = argentine_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:argentine_peso_quantity
							multiply = var:argentine_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_argentine_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_argentine_peso_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:argentine_peso_order = 2
				var:argentine_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_2 #Player country quantity of argentine_peso buy
					value  = scope:player_country.var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = argentine_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:argentine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_buy_2 #Player country quantity of argentine_peso buy
					value  = var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:argentine_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to argentine_peso_suply
				set_variable = {
					name = argentine_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:argentine_peso_quantity
							multiply = var:argentine_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_argentine_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_argentine_peso_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:argentine_peso_order = 3
				var:argentine_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_3 #Player country quantity of argentine_peso buy
					value  = scope:player_country.var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = argentine_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:argentine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_buy_3 #Player country quantity of argentine_peso buy
					value  = var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:argentine_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to argentine_peso_suply
				set_variable = {
					name = argentine_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:argentine_peso_quantity
							multiply = var:argentine_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_argentine_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_argentine_peso_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:argentine_peso_order = 4
				var:argentine_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_4 #Player country quantity of argentine_peso buy
					value  = scope:player_country.var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = argentine_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:argentine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_buy_4 #Player country quantity of argentine_peso buy
					value  = var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:argentine_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to argentine_peso_suply
				set_variable = {
					name = argentine_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:argentine_peso_quantity
							multiply = var:argentine_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_argentine_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_argentine_peso_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:argentine_peso_order = 5
				var:argentine_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_5 #Player country quantity of argentine_peso buy
					value  = scope:player_country.var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = argentine_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:argentine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_buy_5 #Player country quantity of argentine_peso buy
					value  = var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:argentine_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to argentine_peso_suply
				set_variable = {
					name = argentine_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:argentine_peso_quantity
							multiply = var:argentine_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_argentine_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_argentine_peso_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:argentine_peso_order >= 5
			}
			set_variable = {
				name = argentine_peso_order
				#Player country quantity of argentine_peso buy
				value  = 0
			}
		}
	}
}
sell_argentine_peso_market_panel = {
	is_shown = {
		var:argentine_peso_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = argentine_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:argentine_peso_order = 1
				var:argentine_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_1 #Player country quantity of argentine_peso sell
					value  = scope:player_country.var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = argentine_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:argentine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_1 #Player country quantity of argentine_peso sell
					value  = var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:argentine_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to argentine_peso_suply
				set_variable = {
					name = argentine_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:argentine_peso_quantity
							multiply = var:argentine_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_argentine_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_argentine_peso_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:argentine_peso_order = 2
				var:argentine_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_2 #Player country quantity of argentine_peso sell
					value  = scope:player_country.var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = argentine_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:argentine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_2 #Player country quantity of argentine_peso sell
					value  = var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:argentine_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to argentine_peso_suply
				set_variable = {
					name = argentine_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:argentine_peso_quantity
							multiply = var:argentine_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_argentine_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_argentine_peso_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:argentine_peso_order = 3
				var:argentine_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_3 #Player country quantity of argentine_peso sell
					value  = scope:player_country.var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = argentine_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:argentine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_3 #Player country quantity of argentine_peso sell
					value  = var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:argentine_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to argentine_peso_suply
				set_variable = {
					name = argentine_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:argentine_peso_quantity
							multiply = var:argentine_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_argentine_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_argentine_peso_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:argentine_peso_order = 4
				var:argentine_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_4 #Player country quantity of argentine_peso sell
					value  = scope:player_country.var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = argentine_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:argentine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_4 #Player country quantity of argentine_peso sell
					value  = var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:argentine_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to argentine_peso_suply
				set_variable = {
					name = argentine_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:argentine_peso_quantity
							multiply = var:argentine_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_argentine_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_argentine_peso_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:argentine_peso_order = 5
				var:argentine_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_5 #Player country quantity of argentine_peso sell
					value  = scope:player_country.var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = argentine_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:argentine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = argentine_peso_sell_5 #Player country quantity of argentine_peso sell
					value  = var:argentine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = argentine_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:argentine_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to argentine_peso_suply
				set_variable = {
					name = argentine_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:argentine_peso_quantity
							multiply = var:argentine_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_argentine_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_argentine_peso_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:argentine_peso_order >= 5
			}
			set_variable = {
				name = argentine_peso_order
				#Player country quantity of argentine_peso sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_argentine_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:argentine_peso_quantity < stockpiling_argentine_peso_state
		player.central_bank_gold_reserves_state > buy_argentine_peso_in_gold_market_panel
	}
}
sell_argentine_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:argentine_peso_quantity < player.stockpiling_argentine_peso_state
		central_bank_gold_reserves_state > sell_argentine_peso_in_gold_market_panel
	}
}
argentine_peso_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_argentine_peso_state_1
					add = scope:player_country.var:argentine_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:argentine_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_argentine_peso_state_1
						subtract = owner.var:argentine_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:argentine_peso_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
argentine_peso_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_argentine_peso_state_1
					subtract = scope:player_country.var:argentine_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:argentine_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_argentine_peso_state_1
						add = owner.var:argentine_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:argentine_peso_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#ariary
ariary_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = ariary_quantity
				#var:ariary_quantity < market.owner.stockpiling_ariary_state
				var:ariary_quantity < sell_limit_currency_var_rest
				var:ariary_quantity < 20000000
			}
			change_variable = {
				name = ariary_quantity
				add = 5000000
			}
		}
	}
}
ariary_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = ariary_quantity
				var:ariary_quantity > 5000000
			}
			change_variable = {
				name = ariary_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_ariary_market_panel_enabled = {
	is_valid = {
		stockpiling_ariary_state > player.var:ariary_quantity

		money_supply_verification_ariary < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:ariary_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_ariary_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_ariary_market_panel_enabled = {
	is_valid = {
		stockpiling_ariary_state > player.var:ariary_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_ariary_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_ariary_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_ariary_market_panel_verification_current = 1

	}
}
buy_ariary_market_panel = {
	is_shown = {
		var:ariary_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ariary_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ariary_order = 1
				var:ariary_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_1 #Player country quantity of ariary buy
					value  = scope:player_country.var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ariary_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ariary_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ariary_buy_1 #Player country quantity of ariary buy
					value  = var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_1
					value = scope:target.var:ariary_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ariary_suply
				set_variable = {
					name = ariary_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ariary_quantity
							multiply = var:ariary_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_ariary_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ariary_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ariary_order = 2
				var:ariary_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_2 #Player country quantity of ariary buy
					value  = scope:player_country.var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ariary_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ariary_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ariary_buy_2 #Player country quantity of ariary buy
					value  = var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_2
					value = scope:target.var:ariary_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ariary_suply
				set_variable = {
					name = ariary_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ariary_quantity
							multiply = var:ariary_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_ariary_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ariary_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ariary_order = 3
				var:ariary_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_3 #Player country quantity of ariary buy
					value  = scope:player_country.var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ariary_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ariary_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ariary_buy_3 #Player country quantity of ariary buy
					value  = var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_3
					value = scope:target.var:ariary_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ariary_suply
				set_variable = {
					name = ariary_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ariary_quantity
							multiply = var:ariary_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_ariary_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ariary_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ariary_order = 4
				var:ariary_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_4 #Player country quantity of ariary buy
					value  = scope:player_country.var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ariary_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ariary_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ariary_buy_4 #Player country quantity of ariary buy
					value  = var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_4
					value = scope:target.var:ariary_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ariary_suply
				set_variable = {
					name = ariary_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ariary_quantity
							multiply = var:ariary_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_ariary_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ariary_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ariary_order = 5
				var:ariary_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_5 #Player country quantity of ariary buy
					value  = scope:player_country.var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ariary_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ariary_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ariary_buy_5 #Player country quantity of ariary buy
					value  = var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_5
					value = scope:target.var:ariary_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ariary_suply
				set_variable = {
					name = ariary_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ariary_quantity
							multiply = var:ariary_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_ariary_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ariary_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ariary_order >= 5
			}
			set_variable = {
				name = ariary_order
				#Player country quantity of ariary buy
				value  = 0
			}
		}
	}
}
sell_ariary_market_panel = {
	is_shown = {
		var:ariary_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ariary_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ariary_order = 1
				var:ariary_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_1 #Player country quantity of ariary sell
					value  = scope:player_country.var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ariary_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ariary_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_1 #Player country quantity of ariary sell
					value  = var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_1
					value = scope:target.var:ariary_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ariary_suply
				set_variable = {
					name = ariary_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ariary_quantity
							multiply = var:ariary_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_ariary_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ariary_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ariary_order = 2
				var:ariary_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_2 #Player country quantity of ariary sell
					value  = scope:player_country.var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ariary_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ariary_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_2 #Player country quantity of ariary sell
					value  = var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_2
					value = scope:target.var:ariary_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ariary_suply
				set_variable = {
					name = ariary_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ariary_quantity
							multiply = var:ariary_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_ariary_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ariary_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ariary_order = 3
				var:ariary_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_3 #Player country quantity of ariary sell
					value  = scope:player_country.var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ariary_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ariary_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_3 #Player country quantity of ariary sell
					value  = var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_3
					value = scope:target.var:ariary_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ariary_suply
				set_variable = {
					name = ariary_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ariary_quantity
							multiply = var:ariary_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_ariary_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ariary_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ariary_order = 4
				var:ariary_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_4 #Player country quantity of ariary sell
					value  = scope:player_country.var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ariary_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ariary_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_4 #Player country quantity of ariary sell
					value  = var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_4
					value = scope:target.var:ariary_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ariary_suply
				set_variable = {
					name = ariary_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ariary_quantity
							multiply = var:ariary_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_ariary_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ariary_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ariary_order = 5
				var:ariary_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_5 #Player country quantity of ariary sell
					value  = scope:player_country.var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ariary_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ariary_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ariary_sell_5 #Player country quantity of ariary sell
					value  = var:ariary_quantity
				}

				#exchange rate
				set_variable = {
					name = ariary_to_player_currency_exchange_rate_5
					value = scope:target.var:ariary_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ariary_suply
				set_variable = {
					name = ariary_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ariary_quantity
							multiply = var:ariary_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_ariary_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ariary_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ariary_order >= 5
			}
			set_variable = {
				name = ariary_order
				#Player country quantity of ariary sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_ariary_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ariary_quantity < stockpiling_ariary_state
		player.central_bank_gold_reserves_state > buy_ariary_in_gold_market_panel
	}
}
sell_ariary_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ariary_quantity < player.stockpiling_ariary_state
		central_bank_gold_reserves_state > sell_ariary_in_gold_market_panel
	}
}
ariary_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ariary_state_1
					add = scope:player_country.var:ariary_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:ariary_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ariary_state_1
						subtract = owner.var:ariary_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:ariary_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
ariary_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ariary_state_1
					subtract = scope:player_country.var:ariary_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:ariary_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ariary_state_1
						add = owner.var:ariary_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:ariary_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#australian_dollar
australian_dollar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = australian_dollar_quantity
				#var:australian_dollar_quantity < market.owner.stockpiling_australian_dollar_state
				var:australian_dollar_quantity < sell_limit_currency_var_rest
				var:australian_dollar_quantity < 20000000
			}
			change_variable = {
				name = australian_dollar_quantity
				add = 5000000
			}
		}
	}
}
australian_dollar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = australian_dollar_quantity
				var:australian_dollar_quantity > 5000000
			}
			change_variable = {
				name = australian_dollar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_australian_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_australian_dollar_state > player.var:australian_dollar_quantity

		money_supply_verification_australian_dollar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:australian_dollar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_australian_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_australian_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_australian_dollar_state > player.var:australian_dollar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_australian_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_australian_dollar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_australian_dollar_market_panel_verification_current = 1

	}
}
buy_australian_dollar_market_panel = {
	is_shown = {
		var:australian_dollar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = australian_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:australian_dollar_order = 1
				var:australian_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_1 #Player country quantity of australian_dollar buy
					value  = scope:player_country.var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = australian_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:australian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_buy_1 #Player country quantity of australian_dollar buy
					value  = var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:australian_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to australian_dollar_suply
				set_variable = {
					name = australian_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:australian_dollar_quantity
							multiply = var:australian_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_australian_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_australian_dollar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:australian_dollar_order = 2
				var:australian_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_2 #Player country quantity of australian_dollar buy
					value  = scope:player_country.var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = australian_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:australian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_buy_2 #Player country quantity of australian_dollar buy
					value  = var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:australian_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to australian_dollar_suply
				set_variable = {
					name = australian_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:australian_dollar_quantity
							multiply = var:australian_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_australian_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_australian_dollar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:australian_dollar_order = 3
				var:australian_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_3 #Player country quantity of australian_dollar buy
					value  = scope:player_country.var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = australian_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:australian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_buy_3 #Player country quantity of australian_dollar buy
					value  = var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:australian_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to australian_dollar_suply
				set_variable = {
					name = australian_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:australian_dollar_quantity
							multiply = var:australian_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_australian_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_australian_dollar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:australian_dollar_order = 4
				var:australian_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_4 #Player country quantity of australian_dollar buy
					value  = scope:player_country.var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = australian_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:australian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_buy_4 #Player country quantity of australian_dollar buy
					value  = var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:australian_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to australian_dollar_suply
				set_variable = {
					name = australian_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:australian_dollar_quantity
							multiply = var:australian_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_australian_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_australian_dollar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:australian_dollar_order = 5
				var:australian_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_5 #Player country quantity of australian_dollar buy
					value  = scope:player_country.var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = australian_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:australian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_buy_5 #Player country quantity of australian_dollar buy
					value  = var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:australian_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to australian_dollar_suply
				set_variable = {
					name = australian_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:australian_dollar_quantity
							multiply = var:australian_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_australian_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_australian_dollar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:australian_dollar_order >= 5
			}
			set_variable = {
				name = australian_dollar_order
				#Player country quantity of australian_dollar buy
				value  = 0
			}
		}
	}
}
sell_australian_dollar_market_panel = {
	is_shown = {
		var:australian_dollar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = australian_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:australian_dollar_order = 1
				var:australian_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_1 #Player country quantity of australian_dollar sell
					value  = scope:player_country.var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = australian_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:australian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_1 #Player country quantity of australian_dollar sell
					value  = var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:australian_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to australian_dollar_suply
				set_variable = {
					name = australian_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:australian_dollar_quantity
							multiply = var:australian_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_australian_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_australian_dollar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:australian_dollar_order = 2
				var:australian_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_2 #Player country quantity of australian_dollar sell
					value  = scope:player_country.var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = australian_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:australian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_2 #Player country quantity of australian_dollar sell
					value  = var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:australian_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to australian_dollar_suply
				set_variable = {
					name = australian_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:australian_dollar_quantity
							multiply = var:australian_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_australian_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_australian_dollar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:australian_dollar_order = 3
				var:australian_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_3 #Player country quantity of australian_dollar sell
					value  = scope:player_country.var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = australian_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:australian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_3 #Player country quantity of australian_dollar sell
					value  = var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:australian_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to australian_dollar_suply
				set_variable = {
					name = australian_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:australian_dollar_quantity
							multiply = var:australian_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_australian_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_australian_dollar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:australian_dollar_order = 4
				var:australian_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_4 #Player country quantity of australian_dollar sell
					value  = scope:player_country.var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = australian_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:australian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_4 #Player country quantity of australian_dollar sell
					value  = var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:australian_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to australian_dollar_suply
				set_variable = {
					name = australian_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:australian_dollar_quantity
							multiply = var:australian_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_australian_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_australian_dollar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:australian_dollar_order = 5
				var:australian_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_5 #Player country quantity of australian_dollar sell
					value  = scope:player_country.var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = australian_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:australian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = australian_dollar_sell_5 #Player country quantity of australian_dollar sell
					value  = var:australian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = australian_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:australian_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to australian_dollar_suply
				set_variable = {
					name = australian_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:australian_dollar_quantity
							multiply = var:australian_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_australian_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_australian_dollar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:australian_dollar_order >= 5
			}
			set_variable = {
				name = australian_dollar_order
				#Player country quantity of australian_dollar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_australian_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:australian_dollar_quantity < stockpiling_australian_dollar_state
		player.central_bank_gold_reserves_state > buy_australian_dollar_in_gold_market_panel
	}
}
sell_australian_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:australian_dollar_quantity < player.stockpiling_australian_dollar_state
		central_bank_gold_reserves_state > sell_australian_dollar_in_gold_market_panel
	}
}
australian_dollar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_australian_dollar_state_1
					add = scope:player_country.var:australian_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:australian_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_australian_dollar_state_1
						subtract = owner.var:australian_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:australian_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
australian_dollar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_australian_dollar_state_1
					subtract = scope:player_country.var:australian_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:australian_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_australian_dollar_state_1
						add = owner.var:australian_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:australian_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#bahraini_dinar
bahraini_dinar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = bahraini_dinar_quantity
				#var:bahraini_dinar_quantity < market.owner.stockpiling_bahraini_dinar_state
				var:bahraini_dinar_quantity < sell_limit_currency_var_rest
				var:bahraini_dinar_quantity < 20000000
			}
			change_variable = {
				name = bahraini_dinar_quantity
				add = 5000000
			}
		}
	}
}
bahraini_dinar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = bahraini_dinar_quantity
				var:bahraini_dinar_quantity > 5000000
			}
			change_variable = {
				name = bahraini_dinar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_bahraini_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_bahraini_dinar_state > player.var:bahraini_dinar_quantity

		money_supply_verification_bahraini_dinar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:bahraini_dinar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_bahraini_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_bahraini_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_bahraini_dinar_state > player.var:bahraini_dinar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_bahraini_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_bahraini_dinar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_bahraini_dinar_market_panel_verification_current = 1

	}
}
buy_bahraini_dinar_market_panel = {
	is_shown = {
		var:bahraini_dinar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = bahraini_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:bahraini_dinar_order = 1
				var:bahraini_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_1 #Player country quantity of bahraini_dinar buy
					value  = scope:player_country.var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bahraini_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bahraini_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_buy_1 #Player country quantity of bahraini_dinar buy
					value  = var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:bahraini_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to bahraini_dinar_suply
				set_variable = {
					name = bahraini_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bahraini_dinar_quantity
							multiply = var:bahraini_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_bahraini_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bahraini_dinar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:bahraini_dinar_order = 2
				var:bahraini_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_2 #Player country quantity of bahraini_dinar buy
					value  = scope:player_country.var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bahraini_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bahraini_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_buy_2 #Player country quantity of bahraini_dinar buy
					value  = var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:bahraini_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to bahraini_dinar_suply
				set_variable = {
					name = bahraini_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bahraini_dinar_quantity
							multiply = var:bahraini_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_bahraini_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bahraini_dinar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:bahraini_dinar_order = 3
				var:bahraini_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_3 #Player country quantity of bahraini_dinar buy
					value  = scope:player_country.var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bahraini_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bahraini_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_buy_3 #Player country quantity of bahraini_dinar buy
					value  = var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:bahraini_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to bahraini_dinar_suply
				set_variable = {
					name = bahraini_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bahraini_dinar_quantity
							multiply = var:bahraini_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_bahraini_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bahraini_dinar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:bahraini_dinar_order = 4
				var:bahraini_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_4 #Player country quantity of bahraini_dinar buy
					value  = scope:player_country.var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bahraini_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bahraini_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_buy_4 #Player country quantity of bahraini_dinar buy
					value  = var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:bahraini_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to bahraini_dinar_suply
				set_variable = {
					name = bahraini_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bahraini_dinar_quantity
							multiply = var:bahraini_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_bahraini_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bahraini_dinar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:bahraini_dinar_order = 5
				var:bahraini_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_5 #Player country quantity of bahraini_dinar buy
					value  = scope:player_country.var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bahraini_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bahraini_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_buy_5 #Player country quantity of bahraini_dinar buy
					value  = var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:bahraini_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to bahraini_dinar_suply
				set_variable = {
					name = bahraini_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bahraini_dinar_quantity
							multiply = var:bahraini_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_bahraini_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bahraini_dinar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:bahraini_dinar_order >= 5
			}
			set_variable = {
				name = bahraini_dinar_order
				#Player country quantity of bahraini_dinar buy
				value  = 0
			}
		}
	}
}
sell_bahraini_dinar_market_panel = {
	is_shown = {
		var:bahraini_dinar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = bahraini_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:bahraini_dinar_order = 1
				var:bahraini_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_1 #Player country quantity of bahraini_dinar sell
					value  = scope:player_country.var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bahraini_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bahraini_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_1 #Player country quantity of bahraini_dinar sell
					value  = var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:bahraini_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to bahraini_dinar_suply
				set_variable = {
					name = bahraini_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bahraini_dinar_quantity
							multiply = var:bahraini_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_bahraini_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bahraini_dinar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:bahraini_dinar_order = 2
				var:bahraini_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_2 #Player country quantity of bahraini_dinar sell
					value  = scope:player_country.var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bahraini_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bahraini_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_2 #Player country quantity of bahraini_dinar sell
					value  = var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:bahraini_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to bahraini_dinar_suply
				set_variable = {
					name = bahraini_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bahraini_dinar_quantity
							multiply = var:bahraini_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_bahraini_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bahraini_dinar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:bahraini_dinar_order = 3
				var:bahraini_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_3 #Player country quantity of bahraini_dinar sell
					value  = scope:player_country.var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bahraini_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bahraini_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_3 #Player country quantity of bahraini_dinar sell
					value  = var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:bahraini_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to bahraini_dinar_suply
				set_variable = {
					name = bahraini_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bahraini_dinar_quantity
							multiply = var:bahraini_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_bahraini_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bahraini_dinar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:bahraini_dinar_order = 4
				var:bahraini_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_4 #Player country quantity of bahraini_dinar sell
					value  = scope:player_country.var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bahraini_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bahraini_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_4 #Player country quantity of bahraini_dinar sell
					value  = var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:bahraini_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to bahraini_dinar_suply
				set_variable = {
					name = bahraini_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bahraini_dinar_quantity
							multiply = var:bahraini_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_bahraini_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bahraini_dinar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:bahraini_dinar_order = 5
				var:bahraini_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_5 #Player country quantity of bahraini_dinar sell
					value  = scope:player_country.var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bahraini_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bahraini_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bahraini_dinar_sell_5 #Player country quantity of bahraini_dinar sell
					value  = var:bahraini_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = bahraini_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:bahraini_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to bahraini_dinar_suply
				set_variable = {
					name = bahraini_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bahraini_dinar_quantity
							multiply = var:bahraini_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_bahraini_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bahraini_dinar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:bahraini_dinar_order >= 5
			}
			set_variable = {
				name = bahraini_dinar_order
				#Player country quantity of bahraini_dinar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_bahraini_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:bahraini_dinar_quantity < stockpiling_bahraini_dinar_state
		player.central_bank_gold_reserves_state > buy_bahraini_dinar_in_gold_market_panel
	}
}
sell_bahraini_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:bahraini_dinar_quantity < player.stockpiling_bahraini_dinar_state
		central_bank_gold_reserves_state > sell_bahraini_dinar_in_gold_market_panel
	}
}
bahraini_dinar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_bahraini_dinar_state_1
					add = scope:player_country.var:bahraini_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:bahraini_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_bahraini_dinar_state_1
						subtract = owner.var:bahraini_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:bahraini_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
bahraini_dinar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_bahraini_dinar_state_1
					subtract = scope:player_country.var:bahraini_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:bahraini_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_bahraini_dinar_state_1
						add = owner.var:bahraini_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:bahraini_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#baht
baht_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = baht_quantity
				#var:baht_quantity < market.owner.stockpiling_baht_state
				var:baht_quantity < sell_limit_currency_var_rest
				var:baht_quantity < 20000000
			}
			change_variable = {
				name = baht_quantity
				add = 5000000
			}
		}
	}
}
baht_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = baht_quantity
				var:baht_quantity > 5000000
			}
			change_variable = {
				name = baht_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_baht_market_panel_enabled = {
	is_valid = {
		stockpiling_baht_state > player.var:baht_quantity

		money_supply_verification_baht < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:baht_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_baht_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_baht_market_panel_enabled = {
	is_valid = {
		stockpiling_baht_state > player.var:baht_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_baht_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_baht_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_baht_market_panel_verification_current = 1

	}
}
buy_baht_market_panel = {
	is_shown = {
		var:baht_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = baht_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:baht_order = 1
				var:baht_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_1 #Player country quantity of baht buy
					value  = scope:player_country.var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = baht_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:baht_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = baht_buy_1 #Player country quantity of baht buy
					value  = var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_1
					value = scope:target.var:baht_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to baht_suply
				set_variable = {
					name = baht_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:baht_quantity
							multiply = var:baht_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_baht_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_baht_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:baht_order = 2
				var:baht_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_2 #Player country quantity of baht buy
					value  = scope:player_country.var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = baht_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:baht_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = baht_buy_2 #Player country quantity of baht buy
					value  = var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_2
					value = scope:target.var:baht_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to baht_suply
				set_variable = {
					name = baht_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:baht_quantity
							multiply = var:baht_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_baht_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_baht_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:baht_order = 3
				var:baht_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_3 #Player country quantity of baht buy
					value  = scope:player_country.var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = baht_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:baht_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = baht_buy_3 #Player country quantity of baht buy
					value  = var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_3
					value = scope:target.var:baht_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to baht_suply
				set_variable = {
					name = baht_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:baht_quantity
							multiply = var:baht_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_baht_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_baht_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:baht_order = 4
				var:baht_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_4 #Player country quantity of baht buy
					value  = scope:player_country.var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = baht_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:baht_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = baht_buy_4 #Player country quantity of baht buy
					value  = var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_4
					value = scope:target.var:baht_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to baht_suply
				set_variable = {
					name = baht_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:baht_quantity
							multiply = var:baht_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_baht_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_baht_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:baht_order = 5
				var:baht_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_5 #Player country quantity of baht buy
					value  = scope:player_country.var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = baht_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:baht_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = baht_buy_5 #Player country quantity of baht buy
					value  = var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_5
					value = scope:target.var:baht_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to baht_suply
				set_variable = {
					name = baht_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:baht_quantity
							multiply = var:baht_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_baht_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_baht_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:baht_order >= 5
			}
			set_variable = {
				name = baht_order
				#Player country quantity of baht buy
				value  = 0
			}
		}
	}
}
sell_baht_market_panel = {
	is_shown = {
		var:baht_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = baht_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:baht_order = 1
				var:baht_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_1 #Player country quantity of baht sell
					value  = scope:player_country.var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = baht_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:baht_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_1 #Player country quantity of baht sell
					value  = var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_1
					value = scope:target.var:baht_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to baht_suply
				set_variable = {
					name = baht_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:baht_quantity
							multiply = var:baht_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_baht_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_baht_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:baht_order = 2
				var:baht_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_2 #Player country quantity of baht sell
					value  = scope:player_country.var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = baht_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:baht_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_2 #Player country quantity of baht sell
					value  = var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_2
					value = scope:target.var:baht_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to baht_suply
				set_variable = {
					name = baht_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:baht_quantity
							multiply = var:baht_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_baht_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_baht_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:baht_order = 3
				var:baht_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_3 #Player country quantity of baht sell
					value  = scope:player_country.var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = baht_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:baht_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_3 #Player country quantity of baht sell
					value  = var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_3
					value = scope:target.var:baht_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to baht_suply
				set_variable = {
					name = baht_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:baht_quantity
							multiply = var:baht_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_baht_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_baht_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:baht_order = 4
				var:baht_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_4 #Player country quantity of baht sell
					value  = scope:player_country.var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = baht_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:baht_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_4 #Player country quantity of baht sell
					value  = var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_4
					value = scope:target.var:baht_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to baht_suply
				set_variable = {
					name = baht_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:baht_quantity
							multiply = var:baht_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_baht_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_baht_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:baht_order = 5
				var:baht_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_5 #Player country quantity of baht sell
					value  = scope:player_country.var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = baht_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:baht_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = baht_sell_5 #Player country quantity of baht sell
					value  = var:baht_quantity
				}

				#exchange rate
				set_variable = {
					name = baht_to_player_currency_exchange_rate_5
					value = scope:target.var:baht_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to baht_suply
				set_variable = {
					name = baht_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:baht_quantity
							multiply = var:baht_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_baht_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_baht_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:baht_order >= 5
			}
			set_variable = {
				name = baht_order
				#Player country quantity of baht sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_baht_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:baht_quantity < stockpiling_baht_state
		player.central_bank_gold_reserves_state > buy_baht_in_gold_market_panel
	}
}
sell_baht_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:baht_quantity < player.stockpiling_baht_state
		central_bank_gold_reserves_state > sell_baht_in_gold_market_panel
	}
}
baht_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_baht_state_1
					add = scope:player_country.var:baht_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:baht_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_baht_state_1
						subtract = owner.var:baht_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:baht_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
baht_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_baht_state_1
					subtract = scope:player_country.var:baht_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:baht_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_baht_state_1
						add = owner.var:baht_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:baht_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#bavarian_gulden
bavarian_gulden_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = bavarian_gulden_quantity
				#var:bavarian_gulden_quantity < market.owner.stockpiling_bavarian_gulden_state
				var:bavarian_gulden_quantity < sell_limit_currency_var_rest
				var:bavarian_gulden_quantity < 20000000
			}
			change_variable = {
				name = bavarian_gulden_quantity
				add = 5000000
			}
		}
	}
}
bavarian_gulden_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = bavarian_gulden_quantity
				var:bavarian_gulden_quantity > 5000000
			}
			change_variable = {
				name = bavarian_gulden_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_bavarian_gulden_market_panel_enabled = {
	is_valid = {
		stockpiling_bavarian_gulden_state > player.var:bavarian_gulden_quantity

		money_supply_verification_bavarian_gulden < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:bavarian_gulden_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_bavarian_gulden_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_bavarian_gulden_market_panel_enabled = {
	is_valid = {
		stockpiling_bavarian_gulden_state > player.var:bavarian_gulden_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_bavarian_gulden_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_bavarian_gulden_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_bavarian_gulden_market_panel_verification_current = 1

	}
}
buy_bavarian_gulden_market_panel = {
	is_shown = {
		var:bavarian_gulden_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = bavarian_gulden_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:bavarian_gulden_order = 1
				var:bavarian_gulden_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_1 #Player country quantity of bavarian_gulden buy
					value  = scope:player_country.var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bavarian_gulden_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bavarian_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_buy_1 #Player country quantity of bavarian_gulden buy
					value  = var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_1
					value = scope:target.var:bavarian_gulden_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to bavarian_gulden_suply
				set_variable = {
					name = bavarian_gulden_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bavarian_gulden_quantity
							multiply = var:bavarian_gulden_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_bavarian_gulden_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bavarian_gulden_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:bavarian_gulden_order = 2
				var:bavarian_gulden_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_2 #Player country quantity of bavarian_gulden buy
					value  = scope:player_country.var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bavarian_gulden_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bavarian_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_buy_2 #Player country quantity of bavarian_gulden buy
					value  = var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_2
					value = scope:target.var:bavarian_gulden_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to bavarian_gulden_suply
				set_variable = {
					name = bavarian_gulden_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bavarian_gulden_quantity
							multiply = var:bavarian_gulden_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_bavarian_gulden_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bavarian_gulden_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:bavarian_gulden_order = 3
				var:bavarian_gulden_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_3 #Player country quantity of bavarian_gulden buy
					value  = scope:player_country.var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bavarian_gulden_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bavarian_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_buy_3 #Player country quantity of bavarian_gulden buy
					value  = var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_3
					value = scope:target.var:bavarian_gulden_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to bavarian_gulden_suply
				set_variable = {
					name = bavarian_gulden_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bavarian_gulden_quantity
							multiply = var:bavarian_gulden_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_bavarian_gulden_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bavarian_gulden_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:bavarian_gulden_order = 4
				var:bavarian_gulden_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_4 #Player country quantity of bavarian_gulden buy
					value  = scope:player_country.var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bavarian_gulden_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bavarian_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_buy_4 #Player country quantity of bavarian_gulden buy
					value  = var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_4
					value = scope:target.var:bavarian_gulden_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to bavarian_gulden_suply
				set_variable = {
					name = bavarian_gulden_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bavarian_gulden_quantity
							multiply = var:bavarian_gulden_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_bavarian_gulden_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bavarian_gulden_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:bavarian_gulden_order = 5
				var:bavarian_gulden_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_5 #Player country quantity of bavarian_gulden buy
					value  = scope:player_country.var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bavarian_gulden_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bavarian_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_buy_5 #Player country quantity of bavarian_gulden buy
					value  = var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_5
					value = scope:target.var:bavarian_gulden_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to bavarian_gulden_suply
				set_variable = {
					name = bavarian_gulden_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bavarian_gulden_quantity
							multiply = var:bavarian_gulden_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_bavarian_gulden_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bavarian_gulden_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:bavarian_gulden_order >= 5
			}
			set_variable = {
				name = bavarian_gulden_order
				#Player country quantity of bavarian_gulden buy
				value  = 0
			}
		}
	}
}
sell_bavarian_gulden_market_panel = {
	is_shown = {
		var:bavarian_gulden_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = bavarian_gulden_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:bavarian_gulden_order = 1
				var:bavarian_gulden_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_1 #Player country quantity of bavarian_gulden sell
					value  = scope:player_country.var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bavarian_gulden_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bavarian_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_1 #Player country quantity of bavarian_gulden sell
					value  = var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_1
					value = scope:target.var:bavarian_gulden_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to bavarian_gulden_suply
				set_variable = {
					name = bavarian_gulden_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bavarian_gulden_quantity
							multiply = var:bavarian_gulden_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_bavarian_gulden_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bavarian_gulden_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:bavarian_gulden_order = 2
				var:bavarian_gulden_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_2 #Player country quantity of bavarian_gulden sell
					value  = scope:player_country.var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bavarian_gulden_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bavarian_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_2 #Player country quantity of bavarian_gulden sell
					value  = var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_2
					value = scope:target.var:bavarian_gulden_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to bavarian_gulden_suply
				set_variable = {
					name = bavarian_gulden_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bavarian_gulden_quantity
							multiply = var:bavarian_gulden_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_bavarian_gulden_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bavarian_gulden_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:bavarian_gulden_order = 3
				var:bavarian_gulden_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_3 #Player country quantity of bavarian_gulden sell
					value  = scope:player_country.var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bavarian_gulden_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bavarian_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_3 #Player country quantity of bavarian_gulden sell
					value  = var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_3
					value = scope:target.var:bavarian_gulden_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to bavarian_gulden_suply
				set_variable = {
					name = bavarian_gulden_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bavarian_gulden_quantity
							multiply = var:bavarian_gulden_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_bavarian_gulden_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bavarian_gulden_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:bavarian_gulden_order = 4
				var:bavarian_gulden_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_4 #Player country quantity of bavarian_gulden sell
					value  = scope:player_country.var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bavarian_gulden_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bavarian_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_4 #Player country quantity of bavarian_gulden sell
					value  = var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_4
					value = scope:target.var:bavarian_gulden_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to bavarian_gulden_suply
				set_variable = {
					name = bavarian_gulden_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bavarian_gulden_quantity
							multiply = var:bavarian_gulden_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_bavarian_gulden_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bavarian_gulden_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:bavarian_gulden_order = 5
				var:bavarian_gulden_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_5 #Player country quantity of bavarian_gulden sell
					value  = scope:player_country.var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = bavarian_gulden_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bavarian_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bavarian_gulden_sell_5 #Player country quantity of bavarian_gulden sell
					value  = var:bavarian_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = bavarian_gulden_to_player_currency_exchange_rate_5
					value = scope:target.var:bavarian_gulden_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to bavarian_gulden_suply
				set_variable = {
					name = bavarian_gulden_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bavarian_gulden_quantity
							multiply = var:bavarian_gulden_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_bavarian_gulden_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bavarian_gulden_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:bavarian_gulden_order >= 5
			}
			set_variable = {
				name = bavarian_gulden_order
				#Player country quantity of bavarian_gulden sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_bavarian_gulden_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:bavarian_gulden_quantity < stockpiling_bavarian_gulden_state
		player.central_bank_gold_reserves_state > buy_bavarian_gulden_in_gold_market_panel
	}
}
sell_bavarian_gulden_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:bavarian_gulden_quantity < player.stockpiling_bavarian_gulden_state
		central_bank_gold_reserves_state > sell_bavarian_gulden_in_gold_market_panel
	}
}
bavarian_gulden_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_bavarian_gulden_state_1
					add = scope:player_country.var:bavarian_gulden_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:bavarian_gulden_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_bavarian_gulden_state_1
						subtract = owner.var:bavarian_gulden_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:bavarian_gulden_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
bavarian_gulden_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_bavarian_gulden_state_1
					subtract = scope:player_country.var:bavarian_gulden_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:bavarian_gulden_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_bavarian_gulden_state_1
						add = owner.var:bavarian_gulden_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:bavarian_gulden_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#belgian_franc
belgian_franc_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = belgian_franc_quantity
				#var:belgian_franc_quantity < market.owner.stockpiling_belgian_franc_state
				var:belgian_franc_quantity < sell_limit_currency_var_rest
				var:belgian_franc_quantity < 20000000
			}
			change_variable = {
				name = belgian_franc_quantity
				add = 5000000
			}
		}
	}
}
belgian_franc_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = belgian_franc_quantity
				var:belgian_franc_quantity > 5000000
			}
			change_variable = {
				name = belgian_franc_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_belgian_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_belgian_franc_state > player.var:belgian_franc_quantity

		money_supply_verification_belgian_franc < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:belgian_franc_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_belgian_franc_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_belgian_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_belgian_franc_state > player.var:belgian_franc_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_belgian_franc_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_belgian_franc_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_belgian_franc_market_panel_verification_current = 1

	}
}
buy_belgian_franc_market_panel = {
	is_shown = {
		var:belgian_franc_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = belgian_franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:belgian_franc_order = 1
				var:belgian_franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_1 #Player country quantity of belgian_franc buy
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_buy_1 #Player country quantity of belgian_franc buy
					value  = var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_1
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to belgian_franc_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_belgian_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:belgian_franc_order = 2
				var:belgian_franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_2 #Player country quantity of belgian_franc buy
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_buy_2 #Player country quantity of belgian_franc buy
					value  = var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_2
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to belgian_franc_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_belgian_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:belgian_franc_order = 3
				var:belgian_franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_3 #Player country quantity of belgian_franc buy
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_buy_3 #Player country quantity of belgian_franc buy
					value  = var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_3
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to belgian_franc_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_belgian_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:belgian_franc_order = 4
				var:belgian_franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_4 #Player country quantity of belgian_franc buy
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_buy_4 #Player country quantity of belgian_franc buy
					value  = var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_4
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to belgian_franc_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_belgian_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:belgian_franc_order = 5
				var:belgian_franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_5 #Player country quantity of belgian_franc buy
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_buy_5 #Player country quantity of belgian_franc buy
					value  = var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_5
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to belgian_franc_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_belgian_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:belgian_franc_order >= 5
			}
			set_variable = {
				name = belgian_franc_order
				#Player country quantity of belgian_franc buy
				value  = 0
			}
		}
	}
}
sell_belgian_franc_market_panel = {
	is_shown = {
		var:belgian_franc_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = belgian_franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:belgian_franc_order = 1
				var:belgian_franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_1 #Player country quantity of belgian_franc sell
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_1 #Player country quantity of belgian_franc sell
					value  = var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_1
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to belgian_franc_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_belgian_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:belgian_franc_order = 2
				var:belgian_franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_2 #Player country quantity of belgian_franc sell
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_2 #Player country quantity of belgian_franc sell
					value  = var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_2
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to belgian_franc_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_belgian_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:belgian_franc_order = 3
				var:belgian_franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_3 #Player country quantity of belgian_franc sell
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_3 #Player country quantity of belgian_franc sell
					value  = var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_3
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to belgian_franc_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_belgian_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:belgian_franc_order = 4
				var:belgian_franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_4 #Player country quantity of belgian_franc sell
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_4 #Player country quantity of belgian_franc sell
					value  = var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_4
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to belgian_franc_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_belgian_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:belgian_franc_order = 5
				var:belgian_franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_5 #Player country quantity of belgian_franc sell
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_5 #Player country quantity of belgian_franc sell
					value  = var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_5
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to belgian_franc_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_belgian_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:belgian_franc_order >= 5
			}
			set_variable = {
				name = belgian_franc_order
				#Player country quantity of belgian_franc sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_belgian_franc_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:belgian_franc_quantity < stockpiling_belgian_franc_state
		player.central_bank_gold_reserves_state > buy_belgian_franc_in_gold_market_panel
	}
}
sell_belgian_franc_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:belgian_franc_quantity < player.stockpiling_belgian_franc_state
		central_bank_gold_reserves_state > sell_belgian_franc_in_gold_market_panel
	}
}
belgian_franc_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_belgian_franc_state_1
					add = scope:player_country.var:belgian_franc_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:belgian_franc_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_belgian_franc_state_1
						subtract = owner.var:belgian_franc_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:belgian_franc_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
belgian_franc_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_belgian_franc_state_1
					subtract = scope:player_country.var:belgian_franc_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:belgian_franc_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_belgian_franc_state_1
						add = owner.var:belgian_franc_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:belgian_franc_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#brazilian_real
brazilian_real_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = brazilian_real_quantity
				#var:brazilian_real_quantity < market.owner.stockpiling_brazilian_real_state
				var:brazilian_real_quantity < sell_limit_currency_var_rest
				var:brazilian_real_quantity < 20000000
			}
			change_variable = {
				name = brazilian_real_quantity
				add = 5000000
			}
		}
	}
}
brazilian_real_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = brazilian_real_quantity
				var:brazilian_real_quantity > 5000000
			}
			change_variable = {
				name = brazilian_real_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_brazilian_real_market_panel_enabled = {
	is_valid = {
		stockpiling_brazilian_real_state > player.var:brazilian_real_quantity

		money_supply_verification_brazilian_real < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:brazilian_real_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_brazilian_real_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_brazilian_real_market_panel_enabled = {
	is_valid = {
		stockpiling_brazilian_real_state > player.var:brazilian_real_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_brazilian_real_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_brazilian_real_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_brazilian_real_market_panel_verification_current = 1

	}
}
buy_brazilian_real_market_panel = {
	is_shown = {
		var:brazilian_real_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = brazilian_real_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:brazilian_real_order = 1
				var:brazilian_real_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_1 #Player country quantity of brazilian_real buy
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_buy_1 #Player country quantity of brazilian_real buy
					value  = var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_1
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to brazilian_real_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_brazilian_real_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:brazilian_real_order = 2
				var:brazilian_real_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_2 #Player country quantity of brazilian_real buy
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_buy_2 #Player country quantity of brazilian_real buy
					value  = var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_2
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to brazilian_real_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_brazilian_real_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:brazilian_real_order = 3
				var:brazilian_real_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_3 #Player country quantity of brazilian_real buy
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_buy_3 #Player country quantity of brazilian_real buy
					value  = var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_3
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to brazilian_real_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_brazilian_real_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:brazilian_real_order = 4
				var:brazilian_real_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_4 #Player country quantity of brazilian_real buy
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_buy_4 #Player country quantity of brazilian_real buy
					value  = var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_4
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to brazilian_real_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_brazilian_real_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:brazilian_real_order = 5
				var:brazilian_real_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_5 #Player country quantity of brazilian_real buy
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_buy_5 #Player country quantity of brazilian_real buy
					value  = var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_5
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to brazilian_real_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_brazilian_real_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:brazilian_real_order >= 5
			}
			set_variable = {
				name = brazilian_real_order
				#Player country quantity of brazilian_real buy
				value  = 0
			}
		}
	}
}
sell_brazilian_real_market_panel = {
	is_shown = {
		var:brazilian_real_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = brazilian_real_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:brazilian_real_order = 1
				var:brazilian_real_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_1 #Player country quantity of brazilian_real sell
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_1 #Player country quantity of brazilian_real sell
					value  = var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_1
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to brazilian_real_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_brazilian_real_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:brazilian_real_order = 2
				var:brazilian_real_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_2 #Player country quantity of brazilian_real sell
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_2 #Player country quantity of brazilian_real sell
					value  = var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_2
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to brazilian_real_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_brazilian_real_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:brazilian_real_order = 3
				var:brazilian_real_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_3 #Player country quantity of brazilian_real sell
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_3 #Player country quantity of brazilian_real sell
					value  = var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_3
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to brazilian_real_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_brazilian_real_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:brazilian_real_order = 4
				var:brazilian_real_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_4 #Player country quantity of brazilian_real sell
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_4 #Player country quantity of brazilian_real sell
					value  = var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_4
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to brazilian_real_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_brazilian_real_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:brazilian_real_order = 5
				var:brazilian_real_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_5 #Player country quantity of brazilian_real sell
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_5 #Player country quantity of brazilian_real sell
					value  = var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_5
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to brazilian_real_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_brazilian_real_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:brazilian_real_order >= 5
			}
			set_variable = {
				name = brazilian_real_order
				#Player country quantity of brazilian_real sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_brazilian_real_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:brazilian_real_quantity < stockpiling_brazilian_real_state
		player.central_bank_gold_reserves_state > buy_brazilian_real_in_gold_market_panel
	}
}
sell_brazilian_real_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:brazilian_real_quantity < player.stockpiling_brazilian_real_state
		central_bank_gold_reserves_state > sell_brazilian_real_in_gold_market_panel
	}
}
brazilian_real_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_brazilian_real_state_1
					add = scope:player_country.var:brazilian_real_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:brazilian_real_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_brazilian_real_state_1
						subtract = owner.var:brazilian_real_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:brazilian_real_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
brazilian_real_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_brazilian_real_state_1
					subtract = scope:player_country.var:brazilian_real_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:brazilian_real_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_brazilian_real_state_1
						add = owner.var:brazilian_real_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:brazilian_real_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#canadian_dollar
canadian_dollar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = canadian_dollar_quantity
				#var:canadian_dollar_quantity < market.owner.stockpiling_canadian_dollar_state
				var:canadian_dollar_quantity < sell_limit_currency_var_rest
				var:canadian_dollar_quantity < 20000000
			}
			change_variable = {
				name = canadian_dollar_quantity
				add = 5000000
			}
		}
	}
}
canadian_dollar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = canadian_dollar_quantity
				var:canadian_dollar_quantity > 5000000
			}
			change_variable = {
				name = canadian_dollar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_canadian_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_canadian_dollar_state > player.var:canadian_dollar_quantity

		money_supply_verification_canadian_dollar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:canadian_dollar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_canadian_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_canadian_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_canadian_dollar_state > player.var:canadian_dollar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_canadian_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_canadian_dollar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_canadian_dollar_market_panel_verification_current = 1

	}
}
buy_canadian_dollar_market_panel = {
	is_shown = {
		var:canadian_dollar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = canadian_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:canadian_dollar_order = 1
				var:canadian_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_1 #Player country quantity of canadian_dollar buy
					value  = scope:player_country.var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = canadian_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:canadian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_buy_1 #Player country quantity of canadian_dollar buy
					value  = var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:canadian_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to canadian_dollar_suply
				set_variable = {
					name = canadian_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:canadian_dollar_quantity
							multiply = var:canadian_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_canadian_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_canadian_dollar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:canadian_dollar_order = 2
				var:canadian_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_2 #Player country quantity of canadian_dollar buy
					value  = scope:player_country.var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = canadian_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:canadian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_buy_2 #Player country quantity of canadian_dollar buy
					value  = var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:canadian_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to canadian_dollar_suply
				set_variable = {
					name = canadian_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:canadian_dollar_quantity
							multiply = var:canadian_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_canadian_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_canadian_dollar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:canadian_dollar_order = 3
				var:canadian_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_3 #Player country quantity of canadian_dollar buy
					value  = scope:player_country.var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = canadian_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:canadian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_buy_3 #Player country quantity of canadian_dollar buy
					value  = var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:canadian_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to canadian_dollar_suply
				set_variable = {
					name = canadian_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:canadian_dollar_quantity
							multiply = var:canadian_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_canadian_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_canadian_dollar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:canadian_dollar_order = 4
				var:canadian_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_4 #Player country quantity of canadian_dollar buy
					value  = scope:player_country.var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = canadian_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:canadian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_buy_4 #Player country quantity of canadian_dollar buy
					value  = var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:canadian_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to canadian_dollar_suply
				set_variable = {
					name = canadian_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:canadian_dollar_quantity
							multiply = var:canadian_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_canadian_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_canadian_dollar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:canadian_dollar_order = 5
				var:canadian_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_5 #Player country quantity of canadian_dollar buy
					value  = scope:player_country.var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = canadian_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:canadian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_buy_5 #Player country quantity of canadian_dollar buy
					value  = var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:canadian_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to canadian_dollar_suply
				set_variable = {
					name = canadian_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:canadian_dollar_quantity
							multiply = var:canadian_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_canadian_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_canadian_dollar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:canadian_dollar_order >= 5
			}
			set_variable = {
				name = canadian_dollar_order
				#Player country quantity of canadian_dollar buy
				value  = 0
			}
		}
	}
}
sell_canadian_dollar_market_panel = {
	is_shown = {
		var:canadian_dollar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = canadian_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:canadian_dollar_order = 1
				var:canadian_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_1 #Player country quantity of canadian_dollar sell
					value  = scope:player_country.var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = canadian_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:canadian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_1 #Player country quantity of canadian_dollar sell
					value  = var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:canadian_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to canadian_dollar_suply
				set_variable = {
					name = canadian_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:canadian_dollar_quantity
							multiply = var:canadian_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_canadian_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_canadian_dollar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:canadian_dollar_order = 2
				var:canadian_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_2 #Player country quantity of canadian_dollar sell
					value  = scope:player_country.var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = canadian_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:canadian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_2 #Player country quantity of canadian_dollar sell
					value  = var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:canadian_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to canadian_dollar_suply
				set_variable = {
					name = canadian_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:canadian_dollar_quantity
							multiply = var:canadian_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_canadian_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_canadian_dollar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:canadian_dollar_order = 3
				var:canadian_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_3 #Player country quantity of canadian_dollar sell
					value  = scope:player_country.var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = canadian_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:canadian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_3 #Player country quantity of canadian_dollar sell
					value  = var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:canadian_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to canadian_dollar_suply
				set_variable = {
					name = canadian_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:canadian_dollar_quantity
							multiply = var:canadian_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_canadian_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_canadian_dollar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:canadian_dollar_order = 4
				var:canadian_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_4 #Player country quantity of canadian_dollar sell
					value  = scope:player_country.var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = canadian_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:canadian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_4 #Player country quantity of canadian_dollar sell
					value  = var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:canadian_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to canadian_dollar_suply
				set_variable = {
					name = canadian_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:canadian_dollar_quantity
							multiply = var:canadian_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_canadian_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_canadian_dollar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:canadian_dollar_order = 5
				var:canadian_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_5 #Player country quantity of canadian_dollar sell
					value  = scope:player_country.var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = canadian_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:canadian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = canadian_dollar_sell_5 #Player country quantity of canadian_dollar sell
					value  = var:canadian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = canadian_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:canadian_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to canadian_dollar_suply
				set_variable = {
					name = canadian_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:canadian_dollar_quantity
							multiply = var:canadian_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_canadian_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_canadian_dollar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:canadian_dollar_order >= 5
			}
			set_variable = {
				name = canadian_dollar_order
				#Player country quantity of canadian_dollar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_canadian_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:canadian_dollar_quantity < stockpiling_canadian_dollar_state
		player.central_bank_gold_reserves_state > buy_canadian_dollar_in_gold_market_panel
	}
}
sell_canadian_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:canadian_dollar_quantity < player.stockpiling_canadian_dollar_state
		central_bank_gold_reserves_state > sell_canadian_dollar_in_gold_market_panel
	}
}
canadian_dollar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_canadian_dollar_state_1
					add = scope:player_country.var:canadian_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:canadian_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_canadian_dollar_state_1
						subtract = owner.var:canadian_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:canadian_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
canadian_dollar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_canadian_dollar_state_1
					subtract = scope:player_country.var:canadian_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:canadian_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_canadian_dollar_state_1
						add = owner.var:canadian_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:canadian_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#caribbean_dollar
caribbean_dollar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = caribbean_dollar_quantity
				#var:caribbean_dollar_quantity < market.owner.stockpiling_caribbean_dollar_state
				var:caribbean_dollar_quantity < sell_limit_currency_var_rest
				var:caribbean_dollar_quantity < 20000000
			}
			change_variable = {
				name = caribbean_dollar_quantity
				add = 5000000
			}
		}
	}
}
caribbean_dollar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = caribbean_dollar_quantity
				var:caribbean_dollar_quantity > 5000000
			}
			change_variable = {
				name = caribbean_dollar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_caribbean_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_caribbean_dollar_state > player.var:caribbean_dollar_quantity

		money_supply_verification_caribbean_dollar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:caribbean_dollar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_caribbean_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_caribbean_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_caribbean_dollar_state > player.var:caribbean_dollar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_caribbean_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_caribbean_dollar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_caribbean_dollar_market_panel_verification_current = 1

	}
}
buy_caribbean_dollar_market_panel = {
	is_shown = {
		var:caribbean_dollar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = caribbean_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:caribbean_dollar_order = 1
				var:caribbean_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_1 #Player country quantity of caribbean_dollar buy
					value  = scope:player_country.var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = caribbean_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:caribbean_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_buy_1 #Player country quantity of caribbean_dollar buy
					value  = var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:caribbean_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to caribbean_dollar_suply
				set_variable = {
					name = caribbean_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:caribbean_dollar_quantity
							multiply = var:caribbean_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_caribbean_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_caribbean_dollar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:caribbean_dollar_order = 2
				var:caribbean_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_2 #Player country quantity of caribbean_dollar buy
					value  = scope:player_country.var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = caribbean_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:caribbean_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_buy_2 #Player country quantity of caribbean_dollar buy
					value  = var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:caribbean_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to caribbean_dollar_suply
				set_variable = {
					name = caribbean_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:caribbean_dollar_quantity
							multiply = var:caribbean_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_caribbean_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_caribbean_dollar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:caribbean_dollar_order = 3
				var:caribbean_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_3 #Player country quantity of caribbean_dollar buy
					value  = scope:player_country.var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = caribbean_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:caribbean_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_buy_3 #Player country quantity of caribbean_dollar buy
					value  = var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:caribbean_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to caribbean_dollar_suply
				set_variable = {
					name = caribbean_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:caribbean_dollar_quantity
							multiply = var:caribbean_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_caribbean_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_caribbean_dollar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:caribbean_dollar_order = 4
				var:caribbean_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_4 #Player country quantity of caribbean_dollar buy
					value  = scope:player_country.var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = caribbean_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:caribbean_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_buy_4 #Player country quantity of caribbean_dollar buy
					value  = var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:caribbean_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to caribbean_dollar_suply
				set_variable = {
					name = caribbean_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:caribbean_dollar_quantity
							multiply = var:caribbean_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_caribbean_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_caribbean_dollar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:caribbean_dollar_order = 5
				var:caribbean_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_5 #Player country quantity of caribbean_dollar buy
					value  = scope:player_country.var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = caribbean_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:caribbean_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_buy_5 #Player country quantity of caribbean_dollar buy
					value  = var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:caribbean_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to caribbean_dollar_suply
				set_variable = {
					name = caribbean_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:caribbean_dollar_quantity
							multiply = var:caribbean_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_caribbean_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_caribbean_dollar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:caribbean_dollar_order >= 5
			}
			set_variable = {
				name = caribbean_dollar_order
				#Player country quantity of caribbean_dollar buy
				value  = 0
			}
		}
	}
}
sell_caribbean_dollar_market_panel = {
	is_shown = {
		var:caribbean_dollar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = caribbean_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:caribbean_dollar_order = 1
				var:caribbean_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_1 #Player country quantity of caribbean_dollar sell
					value  = scope:player_country.var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = caribbean_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:caribbean_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_1 #Player country quantity of caribbean_dollar sell
					value  = var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:caribbean_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to caribbean_dollar_suply
				set_variable = {
					name = caribbean_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:caribbean_dollar_quantity
							multiply = var:caribbean_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_caribbean_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_caribbean_dollar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:caribbean_dollar_order = 2
				var:caribbean_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_2 #Player country quantity of caribbean_dollar sell
					value  = scope:player_country.var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = caribbean_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:caribbean_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_2 #Player country quantity of caribbean_dollar sell
					value  = var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:caribbean_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to caribbean_dollar_suply
				set_variable = {
					name = caribbean_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:caribbean_dollar_quantity
							multiply = var:caribbean_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_caribbean_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_caribbean_dollar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:caribbean_dollar_order = 3
				var:caribbean_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_3 #Player country quantity of caribbean_dollar sell
					value  = scope:player_country.var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = caribbean_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:caribbean_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_3 #Player country quantity of caribbean_dollar sell
					value  = var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:caribbean_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to caribbean_dollar_suply
				set_variable = {
					name = caribbean_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:caribbean_dollar_quantity
							multiply = var:caribbean_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_caribbean_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_caribbean_dollar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:caribbean_dollar_order = 4
				var:caribbean_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_4 #Player country quantity of caribbean_dollar sell
					value  = scope:player_country.var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = caribbean_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:caribbean_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_4 #Player country quantity of caribbean_dollar sell
					value  = var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:caribbean_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to caribbean_dollar_suply
				set_variable = {
					name = caribbean_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:caribbean_dollar_quantity
							multiply = var:caribbean_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_caribbean_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_caribbean_dollar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:caribbean_dollar_order = 5
				var:caribbean_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_5 #Player country quantity of caribbean_dollar sell
					value  = scope:player_country.var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = caribbean_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:caribbean_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = caribbean_dollar_sell_5 #Player country quantity of caribbean_dollar sell
					value  = var:caribbean_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = caribbean_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:caribbean_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to caribbean_dollar_suply
				set_variable = {
					name = caribbean_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:caribbean_dollar_quantity
							multiply = var:caribbean_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_caribbean_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_caribbean_dollar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:caribbean_dollar_order >= 5
			}
			set_variable = {
				name = caribbean_dollar_order
				#Player country quantity of caribbean_dollar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_caribbean_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:caribbean_dollar_quantity < stockpiling_caribbean_dollar_state
		player.central_bank_gold_reserves_state > buy_caribbean_dollar_in_gold_market_panel
	}
}
sell_caribbean_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:caribbean_dollar_quantity < player.stockpiling_caribbean_dollar_state
		central_bank_gold_reserves_state > sell_caribbean_dollar_in_gold_market_panel
	}
}
caribbean_dollar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_caribbean_dollar_state_1
					add = scope:player_country.var:caribbean_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:caribbean_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_caribbean_dollar_state_1
						subtract = owner.var:caribbean_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:caribbean_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
caribbean_dollar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_caribbean_dollar_state_1
					subtract = scope:player_country.var:caribbean_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:caribbean_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_caribbean_dollar_state_1
						add = owner.var:caribbean_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:caribbean_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#central_african_eco
central_african_eco_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = central_african_eco_quantity
				#var:central_african_eco_quantity < market.owner.stockpiling_central_african_eco_state
				var:central_african_eco_quantity < sell_limit_currency_var_rest
				var:central_african_eco_quantity < 20000000
			}
			change_variable = {
				name = central_african_eco_quantity
				add = 5000000
			}
		}
	}
}
central_african_eco_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = central_african_eco_quantity
				var:central_african_eco_quantity > 5000000
			}
			change_variable = {
				name = central_african_eco_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_central_african_eco_market_panel_enabled = {
	is_valid = {
		stockpiling_central_african_eco_state > player.var:central_african_eco_quantity

		money_supply_verification_central_african_eco < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:central_african_eco_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_central_african_eco_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_central_african_eco_market_panel_enabled = {
	is_valid = {
		stockpiling_central_african_eco_state > player.var:central_african_eco_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_central_african_eco_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_central_african_eco_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_central_african_eco_market_panel_verification_current = 1

	}
}
buy_central_african_eco_market_panel = {
	is_shown = {
		var:central_african_eco_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = central_african_eco_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:central_african_eco_order = 1
				var:central_african_eco_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_1 #Player country quantity of central_african_eco buy
					value  = scope:player_country.var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = central_african_eco_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:central_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_buy_1 #Player country quantity of central_african_eco buy
					value  = var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_1
					value = scope:target.var:central_african_eco_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to central_african_eco_suply
				set_variable = {
					name = central_african_eco_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:central_african_eco_quantity
							multiply = var:central_african_eco_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_central_african_eco_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_central_african_eco_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:central_african_eco_order = 2
				var:central_african_eco_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_2 #Player country quantity of central_african_eco buy
					value  = scope:player_country.var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = central_african_eco_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:central_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_buy_2 #Player country quantity of central_african_eco buy
					value  = var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_2
					value = scope:target.var:central_african_eco_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to central_african_eco_suply
				set_variable = {
					name = central_african_eco_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:central_african_eco_quantity
							multiply = var:central_african_eco_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_central_african_eco_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_central_african_eco_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:central_african_eco_order = 3
				var:central_african_eco_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_3 #Player country quantity of central_african_eco buy
					value  = scope:player_country.var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = central_african_eco_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:central_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_buy_3 #Player country quantity of central_african_eco buy
					value  = var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_3
					value = scope:target.var:central_african_eco_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to central_african_eco_suply
				set_variable = {
					name = central_african_eco_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:central_african_eco_quantity
							multiply = var:central_african_eco_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_central_african_eco_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_central_african_eco_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:central_african_eco_order = 4
				var:central_african_eco_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_4 #Player country quantity of central_african_eco buy
					value  = scope:player_country.var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = central_african_eco_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:central_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_buy_4 #Player country quantity of central_african_eco buy
					value  = var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_4
					value = scope:target.var:central_african_eco_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to central_african_eco_suply
				set_variable = {
					name = central_african_eco_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:central_african_eco_quantity
							multiply = var:central_african_eco_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_central_african_eco_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_central_african_eco_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:central_african_eco_order = 5
				var:central_african_eco_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_5 #Player country quantity of central_african_eco buy
					value  = scope:player_country.var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = central_african_eco_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:central_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_buy_5 #Player country quantity of central_african_eco buy
					value  = var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_5
					value = scope:target.var:central_african_eco_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to central_african_eco_suply
				set_variable = {
					name = central_african_eco_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:central_african_eco_quantity
							multiply = var:central_african_eco_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_central_african_eco_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_central_african_eco_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:central_african_eco_order >= 5
			}
			set_variable = {
				name = central_african_eco_order
				#Player country quantity of central_african_eco buy
				value  = 0
			}
		}
	}
}
sell_central_african_eco_market_panel = {
	is_shown = {
		var:central_african_eco_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = central_african_eco_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:central_african_eco_order = 1
				var:central_african_eco_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_1 #Player country quantity of central_african_eco sell
					value  = scope:player_country.var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = central_african_eco_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:central_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_1 #Player country quantity of central_african_eco sell
					value  = var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_1
					value = scope:target.var:central_african_eco_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to central_african_eco_suply
				set_variable = {
					name = central_african_eco_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:central_african_eco_quantity
							multiply = var:central_african_eco_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_central_african_eco_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_central_african_eco_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:central_african_eco_order = 2
				var:central_african_eco_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_2 #Player country quantity of central_african_eco sell
					value  = scope:player_country.var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = central_african_eco_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:central_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_2 #Player country quantity of central_african_eco sell
					value  = var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_2
					value = scope:target.var:central_african_eco_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to central_african_eco_suply
				set_variable = {
					name = central_african_eco_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:central_african_eco_quantity
							multiply = var:central_african_eco_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_central_african_eco_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_central_african_eco_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:central_african_eco_order = 3
				var:central_african_eco_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_3 #Player country quantity of central_african_eco sell
					value  = scope:player_country.var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = central_african_eco_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:central_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_3 #Player country quantity of central_african_eco sell
					value  = var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_3
					value = scope:target.var:central_african_eco_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to central_african_eco_suply
				set_variable = {
					name = central_african_eco_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:central_african_eco_quantity
							multiply = var:central_african_eco_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_central_african_eco_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_central_african_eco_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:central_african_eco_order = 4
				var:central_african_eco_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_4 #Player country quantity of central_african_eco sell
					value  = scope:player_country.var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = central_african_eco_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:central_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_4 #Player country quantity of central_african_eco sell
					value  = var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_4
					value = scope:target.var:central_african_eco_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to central_african_eco_suply
				set_variable = {
					name = central_african_eco_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:central_african_eco_quantity
							multiply = var:central_african_eco_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_central_african_eco_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_central_african_eco_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:central_african_eco_order = 5
				var:central_african_eco_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_5 #Player country quantity of central_african_eco sell
					value  = scope:player_country.var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = central_african_eco_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:central_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = central_african_eco_sell_5 #Player country quantity of central_african_eco sell
					value  = var:central_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = central_african_eco_to_player_currency_exchange_rate_5
					value = scope:target.var:central_african_eco_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to central_african_eco_suply
				set_variable = {
					name = central_african_eco_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:central_african_eco_quantity
							multiply = var:central_african_eco_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_central_african_eco_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_central_african_eco_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:central_african_eco_order >= 5
			}
			set_variable = {
				name = central_african_eco_order
				#Player country quantity of central_african_eco sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_central_african_eco_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:central_african_eco_quantity < stockpiling_central_african_eco_state
		player.central_bank_gold_reserves_state > buy_central_african_eco_in_gold_market_panel
	}
}
sell_central_african_eco_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:central_african_eco_quantity < player.stockpiling_central_african_eco_state
		central_bank_gold_reserves_state > sell_central_african_eco_in_gold_market_panel
	}
}
central_african_eco_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_central_african_eco_state_1
					add = scope:player_country.var:central_african_eco_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:central_african_eco_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_central_african_eco_state_1
						subtract = owner.var:central_african_eco_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:central_african_eco_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
central_african_eco_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_central_african_eco_state_1
					subtract = scope:player_country.var:central_african_eco_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:central_african_eco_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_central_african_eco_state_1
						add = owner.var:central_african_eco_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:central_african_eco_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#chilean_peso
chilean_peso_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = chilean_peso_quantity
				#var:chilean_peso_quantity < market.owner.stockpiling_chilean_peso_state
				var:chilean_peso_quantity < sell_limit_currency_var_rest
				var:chilean_peso_quantity < 20000000
			}
			change_variable = {
				name = chilean_peso_quantity
				add = 5000000
			}
		}
	}
}
chilean_peso_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = chilean_peso_quantity
				var:chilean_peso_quantity > 5000000
			}
			change_variable = {
				name = chilean_peso_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_chilean_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_chilean_peso_state > player.var:chilean_peso_quantity

		money_supply_verification_chilean_peso < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:chilean_peso_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_chilean_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_chilean_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_chilean_peso_state > player.var:chilean_peso_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_chilean_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_chilean_peso_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_chilean_peso_market_panel_verification_current = 1

	}
}
buy_chilean_peso_market_panel = {
	is_shown = {
		var:chilean_peso_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = chilean_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:chilean_peso_order = 1
				var:chilean_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_1 #Player country quantity of chilean_peso buy
					value  = scope:player_country.var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = chilean_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:chilean_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_buy_1 #Player country quantity of chilean_peso buy
					value  = var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:chilean_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to chilean_peso_suply
				set_variable = {
					name = chilean_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:chilean_peso_quantity
							multiply = var:chilean_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_chilean_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_chilean_peso_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:chilean_peso_order = 2
				var:chilean_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_2 #Player country quantity of chilean_peso buy
					value  = scope:player_country.var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = chilean_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:chilean_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_buy_2 #Player country quantity of chilean_peso buy
					value  = var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:chilean_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to chilean_peso_suply
				set_variable = {
					name = chilean_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:chilean_peso_quantity
							multiply = var:chilean_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_chilean_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_chilean_peso_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:chilean_peso_order = 3
				var:chilean_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_3 #Player country quantity of chilean_peso buy
					value  = scope:player_country.var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = chilean_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:chilean_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_buy_3 #Player country quantity of chilean_peso buy
					value  = var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:chilean_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to chilean_peso_suply
				set_variable = {
					name = chilean_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:chilean_peso_quantity
							multiply = var:chilean_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_chilean_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_chilean_peso_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:chilean_peso_order = 4
				var:chilean_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_4 #Player country quantity of chilean_peso buy
					value  = scope:player_country.var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = chilean_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:chilean_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_buy_4 #Player country quantity of chilean_peso buy
					value  = var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:chilean_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to chilean_peso_suply
				set_variable = {
					name = chilean_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:chilean_peso_quantity
							multiply = var:chilean_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_chilean_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_chilean_peso_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:chilean_peso_order = 5
				var:chilean_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_5 #Player country quantity of chilean_peso buy
					value  = scope:player_country.var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = chilean_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:chilean_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_buy_5 #Player country quantity of chilean_peso buy
					value  = var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:chilean_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to chilean_peso_suply
				set_variable = {
					name = chilean_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:chilean_peso_quantity
							multiply = var:chilean_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_chilean_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_chilean_peso_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:chilean_peso_order >= 5
			}
			set_variable = {
				name = chilean_peso_order
				#Player country quantity of chilean_peso buy
				value  = 0
			}
		}
	}
}
sell_chilean_peso_market_panel = {
	is_shown = {
		var:chilean_peso_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = chilean_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:chilean_peso_order = 1
				var:chilean_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_1 #Player country quantity of chilean_peso sell
					value  = scope:player_country.var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = chilean_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:chilean_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_1 #Player country quantity of chilean_peso sell
					value  = var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:chilean_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to chilean_peso_suply
				set_variable = {
					name = chilean_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:chilean_peso_quantity
							multiply = var:chilean_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_chilean_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_chilean_peso_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:chilean_peso_order = 2
				var:chilean_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_2 #Player country quantity of chilean_peso sell
					value  = scope:player_country.var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = chilean_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:chilean_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_2 #Player country quantity of chilean_peso sell
					value  = var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:chilean_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to chilean_peso_suply
				set_variable = {
					name = chilean_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:chilean_peso_quantity
							multiply = var:chilean_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_chilean_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_chilean_peso_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:chilean_peso_order = 3
				var:chilean_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_3 #Player country quantity of chilean_peso sell
					value  = scope:player_country.var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = chilean_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:chilean_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_3 #Player country quantity of chilean_peso sell
					value  = var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:chilean_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to chilean_peso_suply
				set_variable = {
					name = chilean_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:chilean_peso_quantity
							multiply = var:chilean_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_chilean_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_chilean_peso_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:chilean_peso_order = 4
				var:chilean_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_4 #Player country quantity of chilean_peso sell
					value  = scope:player_country.var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = chilean_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:chilean_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_4 #Player country quantity of chilean_peso sell
					value  = var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:chilean_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to chilean_peso_suply
				set_variable = {
					name = chilean_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:chilean_peso_quantity
							multiply = var:chilean_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_chilean_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_chilean_peso_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:chilean_peso_order = 5
				var:chilean_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_5 #Player country quantity of chilean_peso sell
					value  = scope:player_country.var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = chilean_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:chilean_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = chilean_peso_sell_5 #Player country quantity of chilean_peso sell
					value  = var:chilean_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = chilean_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:chilean_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to chilean_peso_suply
				set_variable = {
					name = chilean_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:chilean_peso_quantity
							multiply = var:chilean_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_chilean_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_chilean_peso_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:chilean_peso_order >= 5
			}
			set_variable = {
				name = chilean_peso_order
				#Player country quantity of chilean_peso sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_chilean_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:chilean_peso_quantity < stockpiling_chilean_peso_state
		player.central_bank_gold_reserves_state > buy_chilean_peso_in_gold_market_panel
	}
}
sell_chilean_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:chilean_peso_quantity < player.stockpiling_chilean_peso_state
		central_bank_gold_reserves_state > sell_chilean_peso_in_gold_market_panel
	}
}
chilean_peso_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_chilean_peso_state_1
					add = scope:player_country.var:chilean_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:chilean_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_chilean_peso_state_1
						subtract = owner.var:chilean_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:chilean_peso_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
chilean_peso_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_chilean_peso_state_1
					subtract = scope:player_country.var:chilean_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:chilean_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_chilean_peso_state_1
						add = owner.var:chilean_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:chilean_peso_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#colombian_peso
colombian_peso_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = colombian_peso_quantity
				#var:colombian_peso_quantity < market.owner.stockpiling_colombian_peso_state
				var:colombian_peso_quantity < sell_limit_currency_var_rest
				var:colombian_peso_quantity < 20000000
			}
			change_variable = {
				name = colombian_peso_quantity
				add = 5000000
			}
		}
	}
}
colombian_peso_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = colombian_peso_quantity
				var:colombian_peso_quantity > 5000000
			}
			change_variable = {
				name = colombian_peso_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_colombian_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_colombian_peso_state > player.var:colombian_peso_quantity

		money_supply_verification_colombian_peso < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:colombian_peso_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_colombian_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_colombian_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_colombian_peso_state > player.var:colombian_peso_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_colombian_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_colombian_peso_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_colombian_peso_market_panel_verification_current = 1

	}
}
buy_colombian_peso_market_panel = {
	is_shown = {
		var:colombian_peso_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = colombian_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:colombian_peso_order = 1
				var:colombian_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_1 #Player country quantity of colombian_peso buy
					value  = scope:player_country.var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = colombian_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:colombian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_buy_1 #Player country quantity of colombian_peso buy
					value  = var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:colombian_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to colombian_peso_suply
				set_variable = {
					name = colombian_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:colombian_peso_quantity
							multiply = var:colombian_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_colombian_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_colombian_peso_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:colombian_peso_order = 2
				var:colombian_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_2 #Player country quantity of colombian_peso buy
					value  = scope:player_country.var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = colombian_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:colombian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_buy_2 #Player country quantity of colombian_peso buy
					value  = var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:colombian_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to colombian_peso_suply
				set_variable = {
					name = colombian_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:colombian_peso_quantity
							multiply = var:colombian_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_colombian_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_colombian_peso_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:colombian_peso_order = 3
				var:colombian_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_3 #Player country quantity of colombian_peso buy
					value  = scope:player_country.var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = colombian_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:colombian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_buy_3 #Player country quantity of colombian_peso buy
					value  = var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:colombian_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to colombian_peso_suply
				set_variable = {
					name = colombian_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:colombian_peso_quantity
							multiply = var:colombian_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_colombian_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_colombian_peso_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:colombian_peso_order = 4
				var:colombian_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_4 #Player country quantity of colombian_peso buy
					value  = scope:player_country.var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = colombian_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:colombian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_buy_4 #Player country quantity of colombian_peso buy
					value  = var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:colombian_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to colombian_peso_suply
				set_variable = {
					name = colombian_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:colombian_peso_quantity
							multiply = var:colombian_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_colombian_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_colombian_peso_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:colombian_peso_order = 5
				var:colombian_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_5 #Player country quantity of colombian_peso buy
					value  = scope:player_country.var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = colombian_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:colombian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_buy_5 #Player country quantity of colombian_peso buy
					value  = var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:colombian_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to colombian_peso_suply
				set_variable = {
					name = colombian_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:colombian_peso_quantity
							multiply = var:colombian_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_colombian_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_colombian_peso_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:colombian_peso_order >= 5
			}
			set_variable = {
				name = colombian_peso_order
				#Player country quantity of colombian_peso buy
				value  = 0
			}
		}
	}
}
sell_colombian_peso_market_panel = {
	is_shown = {
		var:colombian_peso_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = colombian_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:colombian_peso_order = 1
				var:colombian_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_1 #Player country quantity of colombian_peso sell
					value  = scope:player_country.var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = colombian_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:colombian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_1 #Player country quantity of colombian_peso sell
					value  = var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:colombian_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to colombian_peso_suply
				set_variable = {
					name = colombian_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:colombian_peso_quantity
							multiply = var:colombian_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_colombian_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_colombian_peso_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:colombian_peso_order = 2
				var:colombian_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_2 #Player country quantity of colombian_peso sell
					value  = scope:player_country.var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = colombian_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:colombian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_2 #Player country quantity of colombian_peso sell
					value  = var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:colombian_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to colombian_peso_suply
				set_variable = {
					name = colombian_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:colombian_peso_quantity
							multiply = var:colombian_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_colombian_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_colombian_peso_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:colombian_peso_order = 3
				var:colombian_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_3 #Player country quantity of colombian_peso sell
					value  = scope:player_country.var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = colombian_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:colombian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_3 #Player country quantity of colombian_peso sell
					value  = var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:colombian_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to colombian_peso_suply
				set_variable = {
					name = colombian_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:colombian_peso_quantity
							multiply = var:colombian_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_colombian_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_colombian_peso_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:colombian_peso_order = 4
				var:colombian_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_4 #Player country quantity of colombian_peso sell
					value  = scope:player_country.var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = colombian_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:colombian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_4 #Player country quantity of colombian_peso sell
					value  = var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:colombian_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to colombian_peso_suply
				set_variable = {
					name = colombian_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:colombian_peso_quantity
							multiply = var:colombian_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_colombian_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_colombian_peso_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:colombian_peso_order = 5
				var:colombian_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_5 #Player country quantity of colombian_peso sell
					value  = scope:player_country.var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = colombian_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:colombian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = colombian_peso_sell_5 #Player country quantity of colombian_peso sell
					value  = var:colombian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = colombian_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:colombian_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to colombian_peso_suply
				set_variable = {
					name = colombian_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:colombian_peso_quantity
							multiply = var:colombian_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_colombian_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_colombian_peso_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:colombian_peso_order >= 5
			}
			set_variable = {
				name = colombian_peso_order
				#Player country quantity of colombian_peso sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_colombian_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:colombian_peso_quantity < stockpiling_colombian_peso_state
		player.central_bank_gold_reserves_state > buy_colombian_peso_in_gold_market_panel
	}
}
sell_colombian_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:colombian_peso_quantity < player.stockpiling_colombian_peso_state
		central_bank_gold_reserves_state > sell_colombian_peso_in_gold_market_panel
	}
}
colombian_peso_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_colombian_peso_state_1
					add = scope:player_country.var:colombian_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:colombian_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_colombian_peso_state_1
						subtract = owner.var:colombian_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:colombian_peso_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
colombian_peso_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_colombian_peso_state_1
					subtract = scope:player_country.var:colombian_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:colombian_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_colombian_peso_state_1
						add = owner.var:colombian_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:colombian_peso_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#confederate_states_dollar
confederate_states_dollar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = confederate_states_dollar_quantity
				#var:confederate_states_dollar_quantity < market.owner.stockpiling_confederate_states_dollar_state
				var:confederate_states_dollar_quantity < sell_limit_currency_var_rest
				var:confederate_states_dollar_quantity < 20000000
			}
			change_variable = {
				name = confederate_states_dollar_quantity
				add = 5000000
			}
		}
	}
}
confederate_states_dollar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = confederate_states_dollar_quantity
				var:confederate_states_dollar_quantity > 5000000
			}
			change_variable = {
				name = confederate_states_dollar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_confederate_states_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_confederate_states_dollar_state > player.var:confederate_states_dollar_quantity

		money_supply_verification_confederate_states_dollar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:confederate_states_dollar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_confederate_states_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_confederate_states_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_confederate_states_dollar_state > player.var:confederate_states_dollar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_confederate_states_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_confederate_states_dollar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_confederate_states_dollar_market_panel_verification_current = 1

	}
}
buy_confederate_states_dollar_market_panel = {
	is_shown = {
		var:confederate_states_dollar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = confederate_states_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:confederate_states_dollar_order = 1
				var:confederate_states_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_1 #Player country quantity of confederate_states_dollar buy
					value  = scope:player_country.var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = confederate_states_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:confederate_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_buy_1 #Player country quantity of confederate_states_dollar buy
					value  = var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:confederate_states_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to confederate_states_dollar_suply
				set_variable = {
					name = confederate_states_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:confederate_states_dollar_quantity
							multiply = var:confederate_states_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_confederate_states_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_confederate_states_dollar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:confederate_states_dollar_order = 2
				var:confederate_states_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_2 #Player country quantity of confederate_states_dollar buy
					value  = scope:player_country.var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = confederate_states_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:confederate_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_buy_2 #Player country quantity of confederate_states_dollar buy
					value  = var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:confederate_states_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to confederate_states_dollar_suply
				set_variable = {
					name = confederate_states_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:confederate_states_dollar_quantity
							multiply = var:confederate_states_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_confederate_states_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_confederate_states_dollar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:confederate_states_dollar_order = 3
				var:confederate_states_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_3 #Player country quantity of confederate_states_dollar buy
					value  = scope:player_country.var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = confederate_states_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:confederate_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_buy_3 #Player country quantity of confederate_states_dollar buy
					value  = var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:confederate_states_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to confederate_states_dollar_suply
				set_variable = {
					name = confederate_states_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:confederate_states_dollar_quantity
							multiply = var:confederate_states_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_confederate_states_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_confederate_states_dollar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:confederate_states_dollar_order = 4
				var:confederate_states_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_4 #Player country quantity of confederate_states_dollar buy
					value  = scope:player_country.var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = confederate_states_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:confederate_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_buy_4 #Player country quantity of confederate_states_dollar buy
					value  = var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:confederate_states_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to confederate_states_dollar_suply
				set_variable = {
					name = confederate_states_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:confederate_states_dollar_quantity
							multiply = var:confederate_states_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_confederate_states_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_confederate_states_dollar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:confederate_states_dollar_order = 5
				var:confederate_states_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_5 #Player country quantity of confederate_states_dollar buy
					value  = scope:player_country.var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = confederate_states_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:confederate_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_buy_5 #Player country quantity of confederate_states_dollar buy
					value  = var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:confederate_states_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to confederate_states_dollar_suply
				set_variable = {
					name = confederate_states_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:confederate_states_dollar_quantity
							multiply = var:confederate_states_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_confederate_states_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_confederate_states_dollar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:confederate_states_dollar_order >= 5
			}
			set_variable = {
				name = confederate_states_dollar_order
				#Player country quantity of confederate_states_dollar buy
				value  = 0
			}
		}
	}
}
sell_confederate_states_dollar_market_panel = {
	is_shown = {
		var:confederate_states_dollar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = confederate_states_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:confederate_states_dollar_order = 1
				var:confederate_states_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_1 #Player country quantity of confederate_states_dollar sell
					value  = scope:player_country.var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = confederate_states_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:confederate_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_1 #Player country quantity of confederate_states_dollar sell
					value  = var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:confederate_states_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to confederate_states_dollar_suply
				set_variable = {
					name = confederate_states_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:confederate_states_dollar_quantity
							multiply = var:confederate_states_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_confederate_states_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_confederate_states_dollar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:confederate_states_dollar_order = 2
				var:confederate_states_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_2 #Player country quantity of confederate_states_dollar sell
					value  = scope:player_country.var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = confederate_states_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:confederate_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_2 #Player country quantity of confederate_states_dollar sell
					value  = var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:confederate_states_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to confederate_states_dollar_suply
				set_variable = {
					name = confederate_states_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:confederate_states_dollar_quantity
							multiply = var:confederate_states_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_confederate_states_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_confederate_states_dollar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:confederate_states_dollar_order = 3
				var:confederate_states_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_3 #Player country quantity of confederate_states_dollar sell
					value  = scope:player_country.var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = confederate_states_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:confederate_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_3 #Player country quantity of confederate_states_dollar sell
					value  = var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:confederate_states_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to confederate_states_dollar_suply
				set_variable = {
					name = confederate_states_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:confederate_states_dollar_quantity
							multiply = var:confederate_states_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_confederate_states_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_confederate_states_dollar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:confederate_states_dollar_order = 4
				var:confederate_states_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_4 #Player country quantity of confederate_states_dollar sell
					value  = scope:player_country.var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = confederate_states_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:confederate_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_4 #Player country quantity of confederate_states_dollar sell
					value  = var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:confederate_states_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to confederate_states_dollar_suply
				set_variable = {
					name = confederate_states_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:confederate_states_dollar_quantity
							multiply = var:confederate_states_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_confederate_states_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_confederate_states_dollar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:confederate_states_dollar_order = 5
				var:confederate_states_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_5 #Player country quantity of confederate_states_dollar sell
					value  = scope:player_country.var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = confederate_states_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:confederate_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = confederate_states_dollar_sell_5 #Player country quantity of confederate_states_dollar sell
					value  = var:confederate_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = confederate_states_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:confederate_states_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to confederate_states_dollar_suply
				set_variable = {
					name = confederate_states_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:confederate_states_dollar_quantity
							multiply = var:confederate_states_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_confederate_states_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_confederate_states_dollar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:confederate_states_dollar_order >= 5
			}
			set_variable = {
				name = confederate_states_dollar_order
				#Player country quantity of confederate_states_dollar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_confederate_states_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:confederate_states_dollar_quantity < stockpiling_confederate_states_dollar_state
		player.central_bank_gold_reserves_state > buy_confederate_states_dollar_in_gold_market_panel
	}
}
sell_confederate_states_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:confederate_states_dollar_quantity < player.stockpiling_confederate_states_dollar_state
		central_bank_gold_reserves_state > sell_confederate_states_dollar_in_gold_market_panel
	}
}
confederate_states_dollar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_confederate_states_dollar_state_1
					add = scope:player_country.var:confederate_states_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:confederate_states_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_confederate_states_dollar_state_1
						subtract = owner.var:confederate_states_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:confederate_states_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
confederate_states_dollar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_confederate_states_dollar_state_1
					subtract = scope:player_country.var:confederate_states_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:confederate_states_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_confederate_states_dollar_state_1
						add = owner.var:confederate_states_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:confederate_states_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#costa_rican_colon
costa_rican_colon_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = costa_rican_colon_quantity
				#var:costa_rican_colon_quantity < market.owner.stockpiling_costa_rican_colon_state
				var:costa_rican_colon_quantity < sell_limit_currency_var_rest
				var:costa_rican_colon_quantity < 20000000
			}
			change_variable = {
				name = costa_rican_colon_quantity
				add = 5000000
			}
		}
	}
}
costa_rican_colon_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = costa_rican_colon_quantity
				var:costa_rican_colon_quantity > 5000000
			}
			change_variable = {
				name = costa_rican_colon_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_costa_rican_colon_market_panel_enabled = {
	is_valid = {
		stockpiling_costa_rican_colon_state > player.var:costa_rican_colon_quantity

		money_supply_verification_costa_rican_colon < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:costa_rican_colon_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_costa_rican_colon_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_costa_rican_colon_market_panel_enabled = {
	is_valid = {
		stockpiling_costa_rican_colon_state > player.var:costa_rican_colon_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_costa_rican_colon_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_costa_rican_colon_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_costa_rican_colon_market_panel_verification_current = 1

	}
}
buy_costa_rican_colon_market_panel = {
	is_shown = {
		var:costa_rican_colon_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = costa_rican_colon_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:costa_rican_colon_order = 1
				var:costa_rican_colon_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_1 #Player country quantity of costa_rican_colon buy
					value  = scope:player_country.var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = costa_rican_colon_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:costa_rican_colon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_buy_1 #Player country quantity of costa_rican_colon buy
					value  = var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_1
					value = scope:target.var:costa_rican_colon_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to costa_rican_colon_suply
				set_variable = {
					name = costa_rican_colon_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:costa_rican_colon_quantity
							multiply = var:costa_rican_colon_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_costa_rican_colon_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_costa_rican_colon_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:costa_rican_colon_order = 2
				var:costa_rican_colon_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_2 #Player country quantity of costa_rican_colon buy
					value  = scope:player_country.var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = costa_rican_colon_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:costa_rican_colon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_buy_2 #Player country quantity of costa_rican_colon buy
					value  = var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_2
					value = scope:target.var:costa_rican_colon_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to costa_rican_colon_suply
				set_variable = {
					name = costa_rican_colon_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:costa_rican_colon_quantity
							multiply = var:costa_rican_colon_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_costa_rican_colon_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_costa_rican_colon_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:costa_rican_colon_order = 3
				var:costa_rican_colon_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_3 #Player country quantity of costa_rican_colon buy
					value  = scope:player_country.var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = costa_rican_colon_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:costa_rican_colon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_buy_3 #Player country quantity of costa_rican_colon buy
					value  = var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_3
					value = scope:target.var:costa_rican_colon_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to costa_rican_colon_suply
				set_variable = {
					name = costa_rican_colon_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:costa_rican_colon_quantity
							multiply = var:costa_rican_colon_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_costa_rican_colon_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_costa_rican_colon_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:costa_rican_colon_order = 4
				var:costa_rican_colon_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_4 #Player country quantity of costa_rican_colon buy
					value  = scope:player_country.var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = costa_rican_colon_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:costa_rican_colon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_buy_4 #Player country quantity of costa_rican_colon buy
					value  = var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_4
					value = scope:target.var:costa_rican_colon_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to costa_rican_colon_suply
				set_variable = {
					name = costa_rican_colon_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:costa_rican_colon_quantity
							multiply = var:costa_rican_colon_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_costa_rican_colon_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_costa_rican_colon_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:costa_rican_colon_order = 5
				var:costa_rican_colon_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_5 #Player country quantity of costa_rican_colon buy
					value  = scope:player_country.var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = costa_rican_colon_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:costa_rican_colon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_buy_5 #Player country quantity of costa_rican_colon buy
					value  = var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_5
					value = scope:target.var:costa_rican_colon_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to costa_rican_colon_suply
				set_variable = {
					name = costa_rican_colon_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:costa_rican_colon_quantity
							multiply = var:costa_rican_colon_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_costa_rican_colon_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_costa_rican_colon_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:costa_rican_colon_order >= 5
			}
			set_variable = {
				name = costa_rican_colon_order
				#Player country quantity of costa_rican_colon buy
				value  = 0
			}
		}
	}
}
sell_costa_rican_colon_market_panel = {
	is_shown = {
		var:costa_rican_colon_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = costa_rican_colon_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:costa_rican_colon_order = 1
				var:costa_rican_colon_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_1 #Player country quantity of costa_rican_colon sell
					value  = scope:player_country.var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = costa_rican_colon_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:costa_rican_colon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_1 #Player country quantity of costa_rican_colon sell
					value  = var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_1
					value = scope:target.var:costa_rican_colon_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to costa_rican_colon_suply
				set_variable = {
					name = costa_rican_colon_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:costa_rican_colon_quantity
							multiply = var:costa_rican_colon_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_costa_rican_colon_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_costa_rican_colon_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:costa_rican_colon_order = 2
				var:costa_rican_colon_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_2 #Player country quantity of costa_rican_colon sell
					value  = scope:player_country.var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = costa_rican_colon_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:costa_rican_colon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_2 #Player country quantity of costa_rican_colon sell
					value  = var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_2
					value = scope:target.var:costa_rican_colon_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to costa_rican_colon_suply
				set_variable = {
					name = costa_rican_colon_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:costa_rican_colon_quantity
							multiply = var:costa_rican_colon_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_costa_rican_colon_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_costa_rican_colon_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:costa_rican_colon_order = 3
				var:costa_rican_colon_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_3 #Player country quantity of costa_rican_colon sell
					value  = scope:player_country.var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = costa_rican_colon_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:costa_rican_colon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_3 #Player country quantity of costa_rican_colon sell
					value  = var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_3
					value = scope:target.var:costa_rican_colon_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to costa_rican_colon_suply
				set_variable = {
					name = costa_rican_colon_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:costa_rican_colon_quantity
							multiply = var:costa_rican_colon_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_costa_rican_colon_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_costa_rican_colon_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:costa_rican_colon_order = 4
				var:costa_rican_colon_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_4 #Player country quantity of costa_rican_colon sell
					value  = scope:player_country.var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = costa_rican_colon_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:costa_rican_colon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_4 #Player country quantity of costa_rican_colon sell
					value  = var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_4
					value = scope:target.var:costa_rican_colon_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to costa_rican_colon_suply
				set_variable = {
					name = costa_rican_colon_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:costa_rican_colon_quantity
							multiply = var:costa_rican_colon_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_costa_rican_colon_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_costa_rican_colon_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:costa_rican_colon_order = 5
				var:costa_rican_colon_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_5 #Player country quantity of costa_rican_colon sell
					value  = scope:player_country.var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = costa_rican_colon_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:costa_rican_colon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = costa_rican_colon_sell_5 #Player country quantity of costa_rican_colon sell
					value  = var:costa_rican_colon_quantity
				}

				#exchange rate
				set_variable = {
					name = costa_rican_colon_to_player_currency_exchange_rate_5
					value = scope:target.var:costa_rican_colon_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to costa_rican_colon_suply
				set_variable = {
					name = costa_rican_colon_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:costa_rican_colon_quantity
							multiply = var:costa_rican_colon_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_costa_rican_colon_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_costa_rican_colon_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:costa_rican_colon_order >= 5
			}
			set_variable = {
				name = costa_rican_colon_order
				#Player country quantity of costa_rican_colon sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_costa_rican_colon_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:costa_rican_colon_quantity < stockpiling_costa_rican_colon_state
		player.central_bank_gold_reserves_state > buy_costa_rican_colon_in_gold_market_panel
	}
}
sell_costa_rican_colon_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:costa_rican_colon_quantity < player.stockpiling_costa_rican_colon_state
		central_bank_gold_reserves_state > sell_costa_rican_colon_in_gold_market_panel
	}
}
costa_rican_colon_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_costa_rican_colon_state_1
					add = scope:player_country.var:costa_rican_colon_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:costa_rican_colon_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_costa_rican_colon_state_1
						subtract = owner.var:costa_rican_colon_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:costa_rican_colon_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
costa_rican_colon_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_costa_rican_colon_state_1
					subtract = scope:player_country.var:costa_rican_colon_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:costa_rican_colon_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_costa_rican_colon_state_1
						add = owner.var:costa_rican_colon_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:costa_rican_colon_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#cuban_peso
cuban_peso_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = cuban_peso_quantity
				#var:cuban_peso_quantity < market.owner.stockpiling_cuban_peso_state
				var:cuban_peso_quantity < sell_limit_currency_var_rest
				var:cuban_peso_quantity < 20000000
			}
			change_variable = {
				name = cuban_peso_quantity
				add = 5000000
			}
		}
	}
}
cuban_peso_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = cuban_peso_quantity
				var:cuban_peso_quantity > 5000000
			}
			change_variable = {
				name = cuban_peso_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_cuban_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_cuban_peso_state > player.var:cuban_peso_quantity

		money_supply_verification_cuban_peso < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:cuban_peso_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_cuban_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_cuban_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_cuban_peso_state > player.var:cuban_peso_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_cuban_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_cuban_peso_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_cuban_peso_market_panel_verification_current = 1

	}
}
buy_cuban_peso_market_panel = {
	is_shown = {
		var:cuban_peso_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = cuban_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:cuban_peso_order = 1
				var:cuban_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_1 #Player country quantity of cuban_peso buy
					value  = scope:player_country.var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = cuban_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:cuban_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_buy_1 #Player country quantity of cuban_peso buy
					value  = var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:cuban_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to cuban_peso_suply
				set_variable = {
					name = cuban_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:cuban_peso_quantity
							multiply = var:cuban_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_cuban_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_cuban_peso_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:cuban_peso_order = 2
				var:cuban_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_2 #Player country quantity of cuban_peso buy
					value  = scope:player_country.var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = cuban_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:cuban_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_buy_2 #Player country quantity of cuban_peso buy
					value  = var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:cuban_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to cuban_peso_suply
				set_variable = {
					name = cuban_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:cuban_peso_quantity
							multiply = var:cuban_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_cuban_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_cuban_peso_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:cuban_peso_order = 3
				var:cuban_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_3 #Player country quantity of cuban_peso buy
					value  = scope:player_country.var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = cuban_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:cuban_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_buy_3 #Player country quantity of cuban_peso buy
					value  = var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:cuban_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to cuban_peso_suply
				set_variable = {
					name = cuban_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:cuban_peso_quantity
							multiply = var:cuban_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_cuban_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_cuban_peso_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:cuban_peso_order = 4
				var:cuban_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_4 #Player country quantity of cuban_peso buy
					value  = scope:player_country.var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = cuban_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:cuban_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_buy_4 #Player country quantity of cuban_peso buy
					value  = var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:cuban_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to cuban_peso_suply
				set_variable = {
					name = cuban_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:cuban_peso_quantity
							multiply = var:cuban_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_cuban_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_cuban_peso_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:cuban_peso_order = 5
				var:cuban_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_5 #Player country quantity of cuban_peso buy
					value  = scope:player_country.var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = cuban_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:cuban_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_buy_5 #Player country quantity of cuban_peso buy
					value  = var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:cuban_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to cuban_peso_suply
				set_variable = {
					name = cuban_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:cuban_peso_quantity
							multiply = var:cuban_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_cuban_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_cuban_peso_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:cuban_peso_order >= 5
			}
			set_variable = {
				name = cuban_peso_order
				#Player country quantity of cuban_peso buy
				value  = 0
			}
		}
	}
}
sell_cuban_peso_market_panel = {
	is_shown = {
		var:cuban_peso_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = cuban_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:cuban_peso_order = 1
				var:cuban_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_1 #Player country quantity of cuban_peso sell
					value  = scope:player_country.var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = cuban_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:cuban_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_1 #Player country quantity of cuban_peso sell
					value  = var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:cuban_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to cuban_peso_suply
				set_variable = {
					name = cuban_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:cuban_peso_quantity
							multiply = var:cuban_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_cuban_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_cuban_peso_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:cuban_peso_order = 2
				var:cuban_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_2 #Player country quantity of cuban_peso sell
					value  = scope:player_country.var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = cuban_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:cuban_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_2 #Player country quantity of cuban_peso sell
					value  = var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:cuban_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to cuban_peso_suply
				set_variable = {
					name = cuban_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:cuban_peso_quantity
							multiply = var:cuban_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_cuban_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_cuban_peso_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:cuban_peso_order = 3
				var:cuban_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_3 #Player country quantity of cuban_peso sell
					value  = scope:player_country.var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = cuban_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:cuban_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_3 #Player country quantity of cuban_peso sell
					value  = var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:cuban_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to cuban_peso_suply
				set_variable = {
					name = cuban_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:cuban_peso_quantity
							multiply = var:cuban_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_cuban_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_cuban_peso_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:cuban_peso_order = 4
				var:cuban_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_4 #Player country quantity of cuban_peso sell
					value  = scope:player_country.var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = cuban_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:cuban_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_4 #Player country quantity of cuban_peso sell
					value  = var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:cuban_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to cuban_peso_suply
				set_variable = {
					name = cuban_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:cuban_peso_quantity
							multiply = var:cuban_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_cuban_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_cuban_peso_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:cuban_peso_order = 5
				var:cuban_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_5 #Player country quantity of cuban_peso sell
					value  = scope:player_country.var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = cuban_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:cuban_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = cuban_peso_sell_5 #Player country quantity of cuban_peso sell
					value  = var:cuban_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = cuban_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:cuban_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to cuban_peso_suply
				set_variable = {
					name = cuban_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:cuban_peso_quantity
							multiply = var:cuban_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_cuban_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_cuban_peso_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:cuban_peso_order >= 5
			}
			set_variable = {
				name = cuban_peso_order
				#Player country quantity of cuban_peso sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_cuban_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:cuban_peso_quantity < stockpiling_cuban_peso_state
		player.central_bank_gold_reserves_state > buy_cuban_peso_in_gold_market_panel
	}
}
sell_cuban_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:cuban_peso_quantity < player.stockpiling_cuban_peso_state
		central_bank_gold_reserves_state > sell_cuban_peso_in_gold_market_panel
	}
}
cuban_peso_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_cuban_peso_state_1
					add = scope:player_country.var:cuban_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:cuban_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_cuban_peso_state_1
						subtract = owner.var:cuban_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:cuban_peso_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
cuban_peso_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_cuban_peso_state_1
					subtract = scope:player_country.var:cuban_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:cuban_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_cuban_peso_state_1
						add = owner.var:cuban_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:cuban_peso_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#czech_koruna
czech_koruna_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = czech_koruna_quantity
				#var:czech_koruna_quantity < market.owner.stockpiling_czech_koruna_state
				var:czech_koruna_quantity < sell_limit_currency_var_rest
				var:czech_koruna_quantity < 20000000
			}
			change_variable = {
				name = czech_koruna_quantity
				add = 5000000
			}
		}
	}
}
czech_koruna_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = czech_koruna_quantity
				var:czech_koruna_quantity > 5000000
			}
			change_variable = {
				name = czech_koruna_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_czech_koruna_market_panel_enabled = {
	is_valid = {
		stockpiling_czech_koruna_state > player.var:czech_koruna_quantity

		money_supply_verification_czech_koruna < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:czech_koruna_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_czech_koruna_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_czech_koruna_market_panel_enabled = {
	is_valid = {
		stockpiling_czech_koruna_state > player.var:czech_koruna_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_czech_koruna_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_czech_koruna_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_czech_koruna_market_panel_verification_current = 1

	}
}
buy_czech_koruna_market_panel = {
	is_shown = {
		var:czech_koruna_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = czech_koruna_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:czech_koruna_order = 1
				var:czech_koruna_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_1 #Player country quantity of czech_koruna buy
					value  = scope:player_country.var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = czech_koruna_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:czech_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_buy_1 #Player country quantity of czech_koruna buy
					value  = var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_1
					value = scope:target.var:czech_koruna_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to czech_koruna_suply
				set_variable = {
					name = czech_koruna_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:czech_koruna_quantity
							multiply = var:czech_koruna_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_czech_koruna_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_czech_koruna_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:czech_koruna_order = 2
				var:czech_koruna_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_2 #Player country quantity of czech_koruna buy
					value  = scope:player_country.var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = czech_koruna_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:czech_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_buy_2 #Player country quantity of czech_koruna buy
					value  = var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_2
					value = scope:target.var:czech_koruna_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to czech_koruna_suply
				set_variable = {
					name = czech_koruna_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:czech_koruna_quantity
							multiply = var:czech_koruna_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_czech_koruna_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_czech_koruna_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:czech_koruna_order = 3
				var:czech_koruna_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_3 #Player country quantity of czech_koruna buy
					value  = scope:player_country.var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = czech_koruna_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:czech_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_buy_3 #Player country quantity of czech_koruna buy
					value  = var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_3
					value = scope:target.var:czech_koruna_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to czech_koruna_suply
				set_variable = {
					name = czech_koruna_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:czech_koruna_quantity
							multiply = var:czech_koruna_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_czech_koruna_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_czech_koruna_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:czech_koruna_order = 4
				var:czech_koruna_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_4 #Player country quantity of czech_koruna buy
					value  = scope:player_country.var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = czech_koruna_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:czech_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_buy_4 #Player country quantity of czech_koruna buy
					value  = var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_4
					value = scope:target.var:czech_koruna_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to czech_koruna_suply
				set_variable = {
					name = czech_koruna_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:czech_koruna_quantity
							multiply = var:czech_koruna_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_czech_koruna_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_czech_koruna_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:czech_koruna_order = 5
				var:czech_koruna_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_5 #Player country quantity of czech_koruna buy
					value  = scope:player_country.var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = czech_koruna_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:czech_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_buy_5 #Player country quantity of czech_koruna buy
					value  = var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_5
					value = scope:target.var:czech_koruna_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to czech_koruna_suply
				set_variable = {
					name = czech_koruna_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:czech_koruna_quantity
							multiply = var:czech_koruna_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_czech_koruna_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_czech_koruna_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:czech_koruna_order >= 5
			}
			set_variable = {
				name = czech_koruna_order
				#Player country quantity of czech_koruna buy
				value  = 0
			}
		}
	}
}
sell_czech_koruna_market_panel = {
	is_shown = {
		var:czech_koruna_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = czech_koruna_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:czech_koruna_order = 1
				var:czech_koruna_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_1 #Player country quantity of czech_koruna sell
					value  = scope:player_country.var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = czech_koruna_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:czech_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_1 #Player country quantity of czech_koruna sell
					value  = var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_1
					value = scope:target.var:czech_koruna_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to czech_koruna_suply
				set_variable = {
					name = czech_koruna_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:czech_koruna_quantity
							multiply = var:czech_koruna_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_czech_koruna_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_czech_koruna_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:czech_koruna_order = 2
				var:czech_koruna_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_2 #Player country quantity of czech_koruna sell
					value  = scope:player_country.var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = czech_koruna_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:czech_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_2 #Player country quantity of czech_koruna sell
					value  = var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_2
					value = scope:target.var:czech_koruna_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to czech_koruna_suply
				set_variable = {
					name = czech_koruna_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:czech_koruna_quantity
							multiply = var:czech_koruna_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_czech_koruna_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_czech_koruna_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:czech_koruna_order = 3
				var:czech_koruna_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_3 #Player country quantity of czech_koruna sell
					value  = scope:player_country.var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = czech_koruna_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:czech_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_3 #Player country quantity of czech_koruna sell
					value  = var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_3
					value = scope:target.var:czech_koruna_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to czech_koruna_suply
				set_variable = {
					name = czech_koruna_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:czech_koruna_quantity
							multiply = var:czech_koruna_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_czech_koruna_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_czech_koruna_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:czech_koruna_order = 4
				var:czech_koruna_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_4 #Player country quantity of czech_koruna sell
					value  = scope:player_country.var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = czech_koruna_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:czech_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_4 #Player country quantity of czech_koruna sell
					value  = var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_4
					value = scope:target.var:czech_koruna_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to czech_koruna_suply
				set_variable = {
					name = czech_koruna_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:czech_koruna_quantity
							multiply = var:czech_koruna_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_czech_koruna_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_czech_koruna_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:czech_koruna_order = 5
				var:czech_koruna_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_5 #Player country quantity of czech_koruna sell
					value  = scope:player_country.var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = czech_koruna_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:czech_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = czech_koruna_sell_5 #Player country quantity of czech_koruna sell
					value  = var:czech_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = czech_koruna_to_player_currency_exchange_rate_5
					value = scope:target.var:czech_koruna_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to czech_koruna_suply
				set_variable = {
					name = czech_koruna_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:czech_koruna_quantity
							multiply = var:czech_koruna_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_czech_koruna_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_czech_koruna_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:czech_koruna_order >= 5
			}
			set_variable = {
				name = czech_koruna_order
				#Player country quantity of czech_koruna sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_czech_koruna_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:czech_koruna_quantity < stockpiling_czech_koruna_state
		player.central_bank_gold_reserves_state > buy_czech_koruna_in_gold_market_panel
	}
}
sell_czech_koruna_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:czech_koruna_quantity < player.stockpiling_czech_koruna_state
		central_bank_gold_reserves_state > sell_czech_koruna_in_gold_market_panel
	}
}
czech_koruna_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_czech_koruna_state_1
					add = scope:player_country.var:czech_koruna_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:czech_koruna_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_czech_koruna_state_1
						subtract = owner.var:czech_koruna_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:czech_koruna_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
czech_koruna_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_czech_koruna_state_1
					subtract = scope:player_country.var:czech_koruna_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:czech_koruna_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_czech_koruna_state_1
						add = owner.var:czech_koruna_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:czech_koruna_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#danish_krone
danish_krone_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = danish_krone_quantity
				#var:danish_krone_quantity < market.owner.stockpiling_danish_krone_state
				var:danish_krone_quantity < sell_limit_currency_var_rest
				var:danish_krone_quantity < 20000000
			}
			change_variable = {
				name = danish_krone_quantity
				add = 5000000
			}
		}
	}
}
danish_krone_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = danish_krone_quantity
				var:danish_krone_quantity > 5000000
			}
			change_variable = {
				name = danish_krone_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_danish_krone_market_panel_enabled = {
	is_valid = {
		stockpiling_danish_krone_state > player.var:danish_krone_quantity

		money_supply_verification_danish_krone < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:danish_krone_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_danish_krone_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_danish_krone_market_panel_enabled = {
	is_valid = {
		stockpiling_danish_krone_state > player.var:danish_krone_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_danish_krone_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_danish_krone_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_danish_krone_market_panel_verification_current = 1

	}
}
buy_danish_krone_market_panel = {
	is_shown = {
		var:danish_krone_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = danish_krone_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:danish_krone_order = 1
				var:danish_krone_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_1 #Player country quantity of danish_krone buy
					value  = scope:player_country.var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = danish_krone_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:danish_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_buy_1 #Player country quantity of danish_krone buy
					value  = var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_1
					value = scope:target.var:danish_krone_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to danish_krone_suply
				set_variable = {
					name = danish_krone_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:danish_krone_quantity
							multiply = var:danish_krone_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_danish_krone_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_danish_krone_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:danish_krone_order = 2
				var:danish_krone_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_2 #Player country quantity of danish_krone buy
					value  = scope:player_country.var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = danish_krone_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:danish_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_buy_2 #Player country quantity of danish_krone buy
					value  = var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_2
					value = scope:target.var:danish_krone_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to danish_krone_suply
				set_variable = {
					name = danish_krone_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:danish_krone_quantity
							multiply = var:danish_krone_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_danish_krone_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_danish_krone_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:danish_krone_order = 3
				var:danish_krone_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_3 #Player country quantity of danish_krone buy
					value  = scope:player_country.var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = danish_krone_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:danish_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_buy_3 #Player country quantity of danish_krone buy
					value  = var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_3
					value = scope:target.var:danish_krone_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to danish_krone_suply
				set_variable = {
					name = danish_krone_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:danish_krone_quantity
							multiply = var:danish_krone_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_danish_krone_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_danish_krone_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:danish_krone_order = 4
				var:danish_krone_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_4 #Player country quantity of danish_krone buy
					value  = scope:player_country.var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = danish_krone_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:danish_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_buy_4 #Player country quantity of danish_krone buy
					value  = var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_4
					value = scope:target.var:danish_krone_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to danish_krone_suply
				set_variable = {
					name = danish_krone_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:danish_krone_quantity
							multiply = var:danish_krone_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_danish_krone_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_danish_krone_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:danish_krone_order = 5
				var:danish_krone_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_5 #Player country quantity of danish_krone buy
					value  = scope:player_country.var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = danish_krone_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:danish_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_buy_5 #Player country quantity of danish_krone buy
					value  = var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_5
					value = scope:target.var:danish_krone_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to danish_krone_suply
				set_variable = {
					name = danish_krone_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:danish_krone_quantity
							multiply = var:danish_krone_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_danish_krone_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_danish_krone_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:danish_krone_order >= 5
			}
			set_variable = {
				name = danish_krone_order
				#Player country quantity of danish_krone buy
				value  = 0
			}
		}
	}
}
sell_danish_krone_market_panel = {
	is_shown = {
		var:danish_krone_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = danish_krone_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:danish_krone_order = 1
				var:danish_krone_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_1 #Player country quantity of danish_krone sell
					value  = scope:player_country.var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = danish_krone_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:danish_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_1 #Player country quantity of danish_krone sell
					value  = var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_1
					value = scope:target.var:danish_krone_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to danish_krone_suply
				set_variable = {
					name = danish_krone_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:danish_krone_quantity
							multiply = var:danish_krone_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_danish_krone_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_danish_krone_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:danish_krone_order = 2
				var:danish_krone_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_2 #Player country quantity of danish_krone sell
					value  = scope:player_country.var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = danish_krone_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:danish_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_2 #Player country quantity of danish_krone sell
					value  = var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_2
					value = scope:target.var:danish_krone_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to danish_krone_suply
				set_variable = {
					name = danish_krone_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:danish_krone_quantity
							multiply = var:danish_krone_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_danish_krone_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_danish_krone_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:danish_krone_order = 3
				var:danish_krone_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_3 #Player country quantity of danish_krone sell
					value  = scope:player_country.var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = danish_krone_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:danish_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_3 #Player country quantity of danish_krone sell
					value  = var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_3
					value = scope:target.var:danish_krone_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to danish_krone_suply
				set_variable = {
					name = danish_krone_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:danish_krone_quantity
							multiply = var:danish_krone_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_danish_krone_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_danish_krone_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:danish_krone_order = 4
				var:danish_krone_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_4 #Player country quantity of danish_krone sell
					value  = scope:player_country.var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = danish_krone_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:danish_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_4 #Player country quantity of danish_krone sell
					value  = var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_4
					value = scope:target.var:danish_krone_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to danish_krone_suply
				set_variable = {
					name = danish_krone_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:danish_krone_quantity
							multiply = var:danish_krone_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_danish_krone_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_danish_krone_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:danish_krone_order = 5
				var:danish_krone_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_5 #Player country quantity of danish_krone sell
					value  = scope:player_country.var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = danish_krone_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:danish_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = danish_krone_sell_5 #Player country quantity of danish_krone sell
					value  = var:danish_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = danish_krone_to_player_currency_exchange_rate_5
					value = scope:target.var:danish_krone_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to danish_krone_suply
				set_variable = {
					name = danish_krone_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:danish_krone_quantity
							multiply = var:danish_krone_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_danish_krone_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_danish_krone_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:danish_krone_order >= 5
			}
			set_variable = {
				name = danish_krone_order
				#Player country quantity of danish_krone sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_danish_krone_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:danish_krone_quantity < stockpiling_danish_krone_state
		player.central_bank_gold_reserves_state > buy_danish_krone_in_gold_market_panel
	}
}
sell_danish_krone_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:danish_krone_quantity < player.stockpiling_danish_krone_state
		central_bank_gold_reserves_state > sell_danish_krone_in_gold_market_panel
	}
}
danish_krone_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_danish_krone_state_1
					add = scope:player_country.var:danish_krone_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:danish_krone_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_danish_krone_state_1
						subtract = owner.var:danish_krone_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:danish_krone_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
danish_krone_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_danish_krone_state_1
					subtract = scope:player_country.var:danish_krone_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:danish_krone_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_danish_krone_state_1
						add = owner.var:danish_krone_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:danish_krone_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#dinar
dinar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = dinar_quantity
				#var:dinar_quantity < market.owner.stockpiling_dinar_state
				var:dinar_quantity < sell_limit_currency_var_rest
				var:dinar_quantity < 20000000
			}
			change_variable = {
				name = dinar_quantity
				add = 5000000
			}
		}
	}
}
dinar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = dinar_quantity
				var:dinar_quantity > 5000000
			}
			change_variable = {
				name = dinar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_dinar_state > player.var:dinar_quantity

		money_supply_verification_dinar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:dinar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_dinar_state > player.var:dinar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_dinar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_dinar_market_panel_verification_current = 1

	}
}
buy_dinar_market_panel = {
	is_shown = {
		var:dinar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:dinar_order = 1
				var:dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_1 #Player country quantity of dinar buy
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_buy_1 #Player country quantity of dinar buy
					value  = var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to dinar_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:dinar_order = 2
				var:dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_2 #Player country quantity of dinar buy
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_buy_2 #Player country quantity of dinar buy
					value  = var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to dinar_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:dinar_order = 3
				var:dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_3 #Player country quantity of dinar buy
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_buy_3 #Player country quantity of dinar buy
					value  = var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to dinar_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:dinar_order = 4
				var:dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_4 #Player country quantity of dinar buy
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_buy_4 #Player country quantity of dinar buy
					value  = var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to dinar_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:dinar_order = 5
				var:dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_5 #Player country quantity of dinar buy
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_buy_5 #Player country quantity of dinar buy
					value  = var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to dinar_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:dinar_order >= 5
			}
			set_variable = {
				name = dinar_order
				#Player country quantity of dinar buy
				value  = 0
			}
		}
	}
}
sell_dinar_market_panel = {
	is_shown = {
		var:dinar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:dinar_order = 1
				var:dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_1 #Player country quantity of dinar sell
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_1 #Player country quantity of dinar sell
					value  = var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to dinar_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:dinar_order = 2
				var:dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_2 #Player country quantity of dinar sell
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_2 #Player country quantity of dinar sell
					value  = var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to dinar_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:dinar_order = 3
				var:dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_3 #Player country quantity of dinar sell
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_3 #Player country quantity of dinar sell
					value  = var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to dinar_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:dinar_order = 4
				var:dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_4 #Player country quantity of dinar sell
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_4 #Player country quantity of dinar sell
					value  = var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to dinar_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:dinar_order = 5
				var:dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_5 #Player country quantity of dinar sell
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_5 #Player country quantity of dinar sell
					value  = var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to dinar_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:dinar_order >= 5
			}
			set_variable = {
				name = dinar_order
				#Player country quantity of dinar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:dinar_quantity < stockpiling_dinar_state
		player.central_bank_gold_reserves_state > buy_dinar_in_gold_market_panel
	}
}
sell_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:dinar_quantity < player.stockpiling_dinar_state
		central_bank_gold_reserves_state > sell_dinar_in_gold_market_panel
	}
}
dinar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_dinar_state_1
					add = scope:player_country.var:dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_dinar_state_1
						subtract = owner.var:dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:dinar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
dinar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_dinar_state_1
					subtract = scope:player_country.var:dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_dinar_state_1
						add = owner.var:dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:dinar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#ducato
ducato_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = ducato_quantity
				#var:ducato_quantity < market.owner.stockpiling_ducato_state
				var:ducato_quantity < sell_limit_currency_var_rest
				var:ducato_quantity < 20000000
			}
			change_variable = {
				name = ducato_quantity
				add = 5000000
			}
		}
	}
}
ducato_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = ducato_quantity
				var:ducato_quantity > 5000000
			}
			change_variable = {
				name = ducato_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_ducato_market_panel_enabled = {
	is_valid = {
		stockpiling_ducato_state > player.var:ducato_quantity

		money_supply_verification_ducato < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:ducato_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_ducato_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_ducato_market_panel_enabled = {
	is_valid = {
		stockpiling_ducato_state > player.var:ducato_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_ducato_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_ducato_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_ducato_market_panel_verification_current = 1

	}
}
buy_ducato_market_panel = {
	is_shown = {
		var:ducato_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ducato_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ducato_order = 1
				var:ducato_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_1 #Player country quantity of ducato buy
					value  = scope:player_country.var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ducato_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ducato_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ducato_buy_1 #Player country quantity of ducato buy
					value  = var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_1
					value = scope:target.var:ducato_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ducato_suply
				set_variable = {
					name = ducato_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ducato_quantity
							multiply = var:ducato_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_ducato_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ducato_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ducato_order = 2
				var:ducato_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_2 #Player country quantity of ducato buy
					value  = scope:player_country.var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ducato_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ducato_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ducato_buy_2 #Player country quantity of ducato buy
					value  = var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_2
					value = scope:target.var:ducato_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ducato_suply
				set_variable = {
					name = ducato_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ducato_quantity
							multiply = var:ducato_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_ducato_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ducato_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ducato_order = 3
				var:ducato_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_3 #Player country quantity of ducato buy
					value  = scope:player_country.var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ducato_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ducato_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ducato_buy_3 #Player country quantity of ducato buy
					value  = var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_3
					value = scope:target.var:ducato_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ducato_suply
				set_variable = {
					name = ducato_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ducato_quantity
							multiply = var:ducato_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_ducato_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ducato_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ducato_order = 4
				var:ducato_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_4 #Player country quantity of ducato buy
					value  = scope:player_country.var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ducato_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ducato_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ducato_buy_4 #Player country quantity of ducato buy
					value  = var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_4
					value = scope:target.var:ducato_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ducato_suply
				set_variable = {
					name = ducato_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ducato_quantity
							multiply = var:ducato_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_ducato_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ducato_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ducato_order = 5
				var:ducato_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_5 #Player country quantity of ducato buy
					value  = scope:player_country.var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ducato_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ducato_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ducato_buy_5 #Player country quantity of ducato buy
					value  = var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_5
					value = scope:target.var:ducato_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ducato_suply
				set_variable = {
					name = ducato_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ducato_quantity
							multiply = var:ducato_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_ducato_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ducato_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ducato_order >= 5
			}
			set_variable = {
				name = ducato_order
				#Player country quantity of ducato buy
				value  = 0
			}
		}
	}
}
sell_ducato_market_panel = {
	is_shown = {
		var:ducato_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ducato_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ducato_order = 1
				var:ducato_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_1 #Player country quantity of ducato sell
					value  = scope:player_country.var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ducato_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ducato_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_1 #Player country quantity of ducato sell
					value  = var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_1
					value = scope:target.var:ducato_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ducato_suply
				set_variable = {
					name = ducato_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ducato_quantity
							multiply = var:ducato_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_ducato_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ducato_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ducato_order = 2
				var:ducato_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_2 #Player country quantity of ducato sell
					value  = scope:player_country.var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ducato_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ducato_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_2 #Player country quantity of ducato sell
					value  = var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_2
					value = scope:target.var:ducato_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ducato_suply
				set_variable = {
					name = ducato_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ducato_quantity
							multiply = var:ducato_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_ducato_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ducato_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ducato_order = 3
				var:ducato_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_3 #Player country quantity of ducato sell
					value  = scope:player_country.var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ducato_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ducato_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_3 #Player country quantity of ducato sell
					value  = var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_3
					value = scope:target.var:ducato_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ducato_suply
				set_variable = {
					name = ducato_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ducato_quantity
							multiply = var:ducato_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_ducato_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ducato_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ducato_order = 4
				var:ducato_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_4 #Player country quantity of ducato sell
					value  = scope:player_country.var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ducato_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ducato_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_4 #Player country quantity of ducato sell
					value  = var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_4
					value = scope:target.var:ducato_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ducato_suply
				set_variable = {
					name = ducato_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ducato_quantity
							multiply = var:ducato_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_ducato_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ducato_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ducato_order = 5
				var:ducato_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_5 #Player country quantity of ducato sell
					value  = scope:player_country.var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ducato_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ducato_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ducato_sell_5 #Player country quantity of ducato sell
					value  = var:ducato_quantity
				}

				#exchange rate
				set_variable = {
					name = ducato_to_player_currency_exchange_rate_5
					value = scope:target.var:ducato_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ducato_suply
				set_variable = {
					name = ducato_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ducato_quantity
							multiply = var:ducato_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_ducato_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ducato_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ducato_order >= 5
			}
			set_variable = {
				name = ducato_order
				#Player country quantity of ducato sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_ducato_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ducato_quantity < stockpiling_ducato_state
		player.central_bank_gold_reserves_state > buy_ducato_in_gold_market_panel
	}
}
sell_ducato_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ducato_quantity < player.stockpiling_ducato_state
		central_bank_gold_reserves_state > sell_ducato_in_gold_market_panel
	}
}
ducato_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ducato_state_1
					add = scope:player_country.var:ducato_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:ducato_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ducato_state_1
						subtract = owner.var:ducato_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:ducato_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
ducato_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ducato_state_1
					subtract = scope:player_country.var:ducato_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:ducato_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ducato_state_1
						add = owner.var:ducato_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:ducato_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#drachma
drachma_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = drachma_quantity
				#var:drachma_quantity < market.owner.stockpiling_drachma_state
				var:drachma_quantity < sell_limit_currency_var_rest
				var:drachma_quantity < 20000000
			}
			change_variable = {
				name = drachma_quantity
				add = 5000000
			}
		}
	}
}
drachma_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = drachma_quantity
				var:drachma_quantity > 5000000
			}
			change_variable = {
				name = drachma_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_drachma_market_panel_enabled = {
	is_valid = {
		stockpiling_drachma_state > player.var:drachma_quantity

		money_supply_verification_drachma < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:drachma_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_drachma_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_drachma_market_panel_enabled = {
	is_valid = {
		stockpiling_drachma_state > player.var:drachma_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_drachma_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_drachma_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_drachma_market_panel_verification_current = 1

	}
}
buy_drachma_market_panel = {
	is_shown = {
		var:drachma_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = drachma_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:drachma_order = 1
				var:drachma_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_1 #Player country quantity of drachma buy
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_buy_1 #Player country quantity of drachma buy
					value  = var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_1
					value = scope:target.var:drachma_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to drachma_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_drachma_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:drachma_order = 2
				var:drachma_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_2 #Player country quantity of drachma buy
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_buy_2 #Player country quantity of drachma buy
					value  = var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_2
					value = scope:target.var:drachma_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to drachma_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_drachma_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:drachma_order = 3
				var:drachma_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_3 #Player country quantity of drachma buy
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_buy_3 #Player country quantity of drachma buy
					value  = var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_3
					value = scope:target.var:drachma_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to drachma_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_drachma_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:drachma_order = 4
				var:drachma_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_4 #Player country quantity of drachma buy
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_buy_4 #Player country quantity of drachma buy
					value  = var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_4
					value = scope:target.var:drachma_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to drachma_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_drachma_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:drachma_order = 5
				var:drachma_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_5 #Player country quantity of drachma buy
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_buy_5 #Player country quantity of drachma buy
					value  = var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_5
					value = scope:target.var:drachma_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to drachma_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_drachma_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:drachma_order >= 5
			}
			set_variable = {
				name = drachma_order
				#Player country quantity of drachma buy
				value  = 0
			}
		}
	}
}
sell_drachma_market_panel = {
	is_shown = {
		var:drachma_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = drachma_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:drachma_order = 1
				var:drachma_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_1 #Player country quantity of drachma sell
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_1 #Player country quantity of drachma sell
					value  = var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_1
					value = scope:target.var:drachma_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to drachma_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_drachma_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:drachma_order = 2
				var:drachma_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_2 #Player country quantity of drachma sell
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_2 #Player country quantity of drachma sell
					value  = var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_2
					value = scope:target.var:drachma_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to drachma_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_drachma_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:drachma_order = 3
				var:drachma_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_3 #Player country quantity of drachma sell
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_3 #Player country quantity of drachma sell
					value  = var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_3
					value = scope:target.var:drachma_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to drachma_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_drachma_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:drachma_order = 4
				var:drachma_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_4 #Player country quantity of drachma sell
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_4 #Player country quantity of drachma sell
					value  = var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_4
					value = scope:target.var:drachma_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to drachma_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_drachma_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:drachma_order = 5
				var:drachma_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_5 #Player country quantity of drachma sell
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_5 #Player country quantity of drachma sell
					value  = var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_5
					value = scope:target.var:drachma_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to drachma_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_drachma_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:drachma_order >= 5
			}
			set_variable = {
				name = drachma_order
				#Player country quantity of drachma sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_drachma_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:drachma_quantity < stockpiling_drachma_state
		player.central_bank_gold_reserves_state > buy_drachma_in_gold_market_panel
	}
}
sell_drachma_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:drachma_quantity < player.stockpiling_drachma_state
		central_bank_gold_reserves_state > sell_drachma_in_gold_market_panel
	}
}
drachma_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_drachma_state_1
					add = scope:player_country.var:drachma_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:drachma_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_drachma_state_1
						subtract = owner.var:drachma_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:drachma_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
drachma_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_drachma_state_1
					subtract = scope:player_country.var:drachma_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:drachma_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_drachma_state_1
						add = owner.var:drachma_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:drachma_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#ecuadorian_peso
ecuadorian_peso_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = ecuadorian_peso_quantity
				#var:ecuadorian_peso_quantity < market.owner.stockpiling_ecuadorian_peso_state
				var:ecuadorian_peso_quantity < sell_limit_currency_var_rest
				var:ecuadorian_peso_quantity < 20000000
			}
			change_variable = {
				name = ecuadorian_peso_quantity
				add = 5000000
			}
		}
	}
}
ecuadorian_peso_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = ecuadorian_peso_quantity
				var:ecuadorian_peso_quantity > 5000000
			}
			change_variable = {
				name = ecuadorian_peso_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_ecuadorian_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_ecuadorian_peso_state > player.var:ecuadorian_peso_quantity

		money_supply_verification_ecuadorian_peso < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:ecuadorian_peso_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_ecuadorian_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_ecuadorian_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_ecuadorian_peso_state > player.var:ecuadorian_peso_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_ecuadorian_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_ecuadorian_peso_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_ecuadorian_peso_market_panel_verification_current = 1

	}
}
buy_ecuadorian_peso_market_panel = {
	is_shown = {
		var:ecuadorian_peso_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ecuadorian_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ecuadorian_peso_order = 1
				var:ecuadorian_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_1 #Player country quantity of ecuadorian_peso buy
					value  = scope:player_country.var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ecuadorian_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ecuadorian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_buy_1 #Player country quantity of ecuadorian_peso buy
					value  = var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:ecuadorian_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ecuadorian_peso_suply
				set_variable = {
					name = ecuadorian_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ecuadorian_peso_quantity
							multiply = var:ecuadorian_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_ecuadorian_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ecuadorian_peso_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ecuadorian_peso_order = 2
				var:ecuadorian_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_2 #Player country quantity of ecuadorian_peso buy
					value  = scope:player_country.var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ecuadorian_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ecuadorian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_buy_2 #Player country quantity of ecuadorian_peso buy
					value  = var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:ecuadorian_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ecuadorian_peso_suply
				set_variable = {
					name = ecuadorian_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ecuadorian_peso_quantity
							multiply = var:ecuadorian_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_ecuadorian_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ecuadorian_peso_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ecuadorian_peso_order = 3
				var:ecuadorian_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_3 #Player country quantity of ecuadorian_peso buy
					value  = scope:player_country.var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ecuadorian_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ecuadorian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_buy_3 #Player country quantity of ecuadorian_peso buy
					value  = var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:ecuadorian_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ecuadorian_peso_suply
				set_variable = {
					name = ecuadorian_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ecuadorian_peso_quantity
							multiply = var:ecuadorian_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_ecuadorian_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ecuadorian_peso_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ecuadorian_peso_order = 4
				var:ecuadorian_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_4 #Player country quantity of ecuadorian_peso buy
					value  = scope:player_country.var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ecuadorian_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ecuadorian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_buy_4 #Player country quantity of ecuadorian_peso buy
					value  = var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:ecuadorian_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ecuadorian_peso_suply
				set_variable = {
					name = ecuadorian_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ecuadorian_peso_quantity
							multiply = var:ecuadorian_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_ecuadorian_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ecuadorian_peso_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ecuadorian_peso_order = 5
				var:ecuadorian_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_5 #Player country quantity of ecuadorian_peso buy
					value  = scope:player_country.var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ecuadorian_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ecuadorian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_buy_5 #Player country quantity of ecuadorian_peso buy
					value  = var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:ecuadorian_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ecuadorian_peso_suply
				set_variable = {
					name = ecuadorian_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ecuadorian_peso_quantity
							multiply = var:ecuadorian_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_ecuadorian_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ecuadorian_peso_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ecuadorian_peso_order >= 5
			}
			set_variable = {
				name = ecuadorian_peso_order
				#Player country quantity of ecuadorian_peso buy
				value  = 0
			}
		}
	}
}
sell_ecuadorian_peso_market_panel = {
	is_shown = {
		var:ecuadorian_peso_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ecuadorian_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ecuadorian_peso_order = 1
				var:ecuadorian_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_1 #Player country quantity of ecuadorian_peso sell
					value  = scope:player_country.var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ecuadorian_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ecuadorian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_1 #Player country quantity of ecuadorian_peso sell
					value  = var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:ecuadorian_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ecuadorian_peso_suply
				set_variable = {
					name = ecuadorian_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ecuadorian_peso_quantity
							multiply = var:ecuadorian_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_ecuadorian_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ecuadorian_peso_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ecuadorian_peso_order = 2
				var:ecuadorian_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_2 #Player country quantity of ecuadorian_peso sell
					value  = scope:player_country.var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ecuadorian_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ecuadorian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_2 #Player country quantity of ecuadorian_peso sell
					value  = var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:ecuadorian_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ecuadorian_peso_suply
				set_variable = {
					name = ecuadorian_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ecuadorian_peso_quantity
							multiply = var:ecuadorian_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_ecuadorian_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ecuadorian_peso_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ecuadorian_peso_order = 3
				var:ecuadorian_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_3 #Player country quantity of ecuadorian_peso sell
					value  = scope:player_country.var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ecuadorian_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ecuadorian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_3 #Player country quantity of ecuadorian_peso sell
					value  = var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:ecuadorian_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ecuadorian_peso_suply
				set_variable = {
					name = ecuadorian_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ecuadorian_peso_quantity
							multiply = var:ecuadorian_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_ecuadorian_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ecuadorian_peso_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ecuadorian_peso_order = 4
				var:ecuadorian_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_4 #Player country quantity of ecuadorian_peso sell
					value  = scope:player_country.var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ecuadorian_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ecuadorian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_4 #Player country quantity of ecuadorian_peso sell
					value  = var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:ecuadorian_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ecuadorian_peso_suply
				set_variable = {
					name = ecuadorian_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ecuadorian_peso_quantity
							multiply = var:ecuadorian_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_ecuadorian_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ecuadorian_peso_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ecuadorian_peso_order = 5
				var:ecuadorian_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_5 #Player country quantity of ecuadorian_peso sell
					value  = scope:player_country.var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ecuadorian_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ecuadorian_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ecuadorian_peso_sell_5 #Player country quantity of ecuadorian_peso sell
					value  = var:ecuadorian_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = ecuadorian_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:ecuadorian_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ecuadorian_peso_suply
				set_variable = {
					name = ecuadorian_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ecuadorian_peso_quantity
							multiply = var:ecuadorian_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_ecuadorian_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ecuadorian_peso_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ecuadorian_peso_order >= 5
			}
			set_variable = {
				name = ecuadorian_peso_order
				#Player country quantity of ecuadorian_peso sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_ecuadorian_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ecuadorian_peso_quantity < stockpiling_ecuadorian_peso_state
		player.central_bank_gold_reserves_state > buy_ecuadorian_peso_in_gold_market_panel
	}
}
sell_ecuadorian_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ecuadorian_peso_quantity < player.stockpiling_ecuadorian_peso_state
		central_bank_gold_reserves_state > sell_ecuadorian_peso_in_gold_market_panel
	}
}
ecuadorian_peso_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ecuadorian_peso_state_1
					add = scope:player_country.var:ecuadorian_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:ecuadorian_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ecuadorian_peso_state_1
						subtract = owner.var:ecuadorian_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:ecuadorian_peso_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
ecuadorian_peso_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ecuadorian_peso_state_1
					subtract = scope:player_country.var:ecuadorian_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:ecuadorian_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ecuadorian_peso_state_1
						add = owner.var:ecuadorian_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:ecuadorian_peso_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#egyptian_pound
egyptian_pound_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = egyptian_pound_quantity
				#var:egyptian_pound_quantity < market.owner.stockpiling_egyptian_pound_state
				var:egyptian_pound_quantity < sell_limit_currency_var_rest
				var:egyptian_pound_quantity < 20000000
			}
			change_variable = {
				name = egyptian_pound_quantity
				add = 5000000
			}
		}
	}
}
egyptian_pound_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = egyptian_pound_quantity
				var:egyptian_pound_quantity > 5000000
			}
			change_variable = {
				name = egyptian_pound_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_egyptian_pound_market_panel_enabled = {
	is_valid = {
		stockpiling_egyptian_pound_state > player.var:egyptian_pound_quantity

		money_supply_verification_egyptian_pound < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:egyptian_pound_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_egyptian_pound_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_egyptian_pound_market_panel_enabled = {
	is_valid = {
		stockpiling_egyptian_pound_state > player.var:egyptian_pound_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_egyptian_pound_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_egyptian_pound_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_egyptian_pound_market_panel_verification_current = 1

	}
}
buy_egyptian_pound_market_panel = {
	is_shown = {
		var:egyptian_pound_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = egyptian_pound_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:egyptian_pound_order = 1
				var:egyptian_pound_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_1 #Player country quantity of egyptian_pound buy
					value  = scope:player_country.var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = egyptian_pound_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:egyptian_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_buy_1 #Player country quantity of egyptian_pound buy
					value  = var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_1
					value = scope:target.var:egyptian_pound_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to egyptian_pound_suply
				set_variable = {
					name = egyptian_pound_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:egyptian_pound_quantity
							multiply = var:egyptian_pound_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_egyptian_pound_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_egyptian_pound_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:egyptian_pound_order = 2
				var:egyptian_pound_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_2 #Player country quantity of egyptian_pound buy
					value  = scope:player_country.var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = egyptian_pound_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:egyptian_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_buy_2 #Player country quantity of egyptian_pound buy
					value  = var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_2
					value = scope:target.var:egyptian_pound_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to egyptian_pound_suply
				set_variable = {
					name = egyptian_pound_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:egyptian_pound_quantity
							multiply = var:egyptian_pound_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_egyptian_pound_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_egyptian_pound_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:egyptian_pound_order = 3
				var:egyptian_pound_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_3 #Player country quantity of egyptian_pound buy
					value  = scope:player_country.var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = egyptian_pound_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:egyptian_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_buy_3 #Player country quantity of egyptian_pound buy
					value  = var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_3
					value = scope:target.var:egyptian_pound_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to egyptian_pound_suply
				set_variable = {
					name = egyptian_pound_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:egyptian_pound_quantity
							multiply = var:egyptian_pound_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_egyptian_pound_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_egyptian_pound_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:egyptian_pound_order = 4
				var:egyptian_pound_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_4 #Player country quantity of egyptian_pound buy
					value  = scope:player_country.var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = egyptian_pound_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:egyptian_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_buy_4 #Player country quantity of egyptian_pound buy
					value  = var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_4
					value = scope:target.var:egyptian_pound_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to egyptian_pound_suply
				set_variable = {
					name = egyptian_pound_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:egyptian_pound_quantity
							multiply = var:egyptian_pound_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_egyptian_pound_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_egyptian_pound_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:egyptian_pound_order = 5
				var:egyptian_pound_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_5 #Player country quantity of egyptian_pound buy
					value  = scope:player_country.var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = egyptian_pound_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:egyptian_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_buy_5 #Player country quantity of egyptian_pound buy
					value  = var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_5
					value = scope:target.var:egyptian_pound_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to egyptian_pound_suply
				set_variable = {
					name = egyptian_pound_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:egyptian_pound_quantity
							multiply = var:egyptian_pound_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_egyptian_pound_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_egyptian_pound_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:egyptian_pound_order >= 5
			}
			set_variable = {
				name = egyptian_pound_order
				#Player country quantity of egyptian_pound buy
				value  = 0
			}
		}
	}
}
sell_egyptian_pound_market_panel = {
	is_shown = {
		var:egyptian_pound_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = egyptian_pound_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:egyptian_pound_order = 1
				var:egyptian_pound_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_1 #Player country quantity of egyptian_pound sell
					value  = scope:player_country.var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = egyptian_pound_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:egyptian_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_1 #Player country quantity of egyptian_pound sell
					value  = var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_1
					value = scope:target.var:egyptian_pound_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to egyptian_pound_suply
				set_variable = {
					name = egyptian_pound_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:egyptian_pound_quantity
							multiply = var:egyptian_pound_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_egyptian_pound_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_egyptian_pound_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:egyptian_pound_order = 2
				var:egyptian_pound_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_2 #Player country quantity of egyptian_pound sell
					value  = scope:player_country.var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = egyptian_pound_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:egyptian_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_2 #Player country quantity of egyptian_pound sell
					value  = var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_2
					value = scope:target.var:egyptian_pound_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to egyptian_pound_suply
				set_variable = {
					name = egyptian_pound_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:egyptian_pound_quantity
							multiply = var:egyptian_pound_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_egyptian_pound_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_egyptian_pound_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:egyptian_pound_order = 3
				var:egyptian_pound_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_3 #Player country quantity of egyptian_pound sell
					value  = scope:player_country.var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = egyptian_pound_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:egyptian_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_3 #Player country quantity of egyptian_pound sell
					value  = var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_3
					value = scope:target.var:egyptian_pound_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to egyptian_pound_suply
				set_variable = {
					name = egyptian_pound_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:egyptian_pound_quantity
							multiply = var:egyptian_pound_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_egyptian_pound_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_egyptian_pound_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:egyptian_pound_order = 4
				var:egyptian_pound_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_4 #Player country quantity of egyptian_pound sell
					value  = scope:player_country.var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = egyptian_pound_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:egyptian_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_4 #Player country quantity of egyptian_pound sell
					value  = var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_4
					value = scope:target.var:egyptian_pound_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to egyptian_pound_suply
				set_variable = {
					name = egyptian_pound_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:egyptian_pound_quantity
							multiply = var:egyptian_pound_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_egyptian_pound_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_egyptian_pound_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:egyptian_pound_order = 5
				var:egyptian_pound_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_5 #Player country quantity of egyptian_pound sell
					value  = scope:player_country.var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = egyptian_pound_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:egyptian_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = egyptian_pound_sell_5 #Player country quantity of egyptian_pound sell
					value  = var:egyptian_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = egyptian_pound_to_player_currency_exchange_rate_5
					value = scope:target.var:egyptian_pound_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to egyptian_pound_suply
				set_variable = {
					name = egyptian_pound_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:egyptian_pound_quantity
							multiply = var:egyptian_pound_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_egyptian_pound_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_egyptian_pound_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:egyptian_pound_order >= 5
			}
			set_variable = {
				name = egyptian_pound_order
				#Player country quantity of egyptian_pound sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_egyptian_pound_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:egyptian_pound_quantity < stockpiling_egyptian_pound_state
		player.central_bank_gold_reserves_state > buy_egyptian_pound_in_gold_market_panel
	}
}
sell_egyptian_pound_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:egyptian_pound_quantity < player.stockpiling_egyptian_pound_state
		central_bank_gold_reserves_state > sell_egyptian_pound_in_gold_market_panel
	}
}
egyptian_pound_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_egyptian_pound_state_1
					add = scope:player_country.var:egyptian_pound_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:egyptian_pound_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_egyptian_pound_state_1
						subtract = owner.var:egyptian_pound_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:egyptian_pound_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
egyptian_pound_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_egyptian_pound_state_1
					subtract = scope:player_country.var:egyptian_pound_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:egyptian_pound_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_egyptian_pound_state_1
						add = owner.var:egyptian_pound_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:egyptian_pound_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#estonian_kroon
estonian_kroon_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = estonian_kroon_quantity
				#var:estonian_kroon_quantity < market.owner.stockpiling_estonian_kroon_state
				var:estonian_kroon_quantity < sell_limit_currency_var_rest
				var:estonian_kroon_quantity < 20000000
			}
			change_variable = {
				name = estonian_kroon_quantity
				add = 5000000
			}
		}
	}
}
estonian_kroon_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = estonian_kroon_quantity
				var:estonian_kroon_quantity > 5000000
			}
			change_variable = {
				name = estonian_kroon_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_estonian_kroon_market_panel_enabled = {
	is_valid = {
		stockpiling_estonian_kroon_state > player.var:estonian_kroon_quantity

		money_supply_verification_estonian_kroon < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:estonian_kroon_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_estonian_kroon_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_estonian_kroon_market_panel_enabled = {
	is_valid = {
		stockpiling_estonian_kroon_state > player.var:estonian_kroon_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_estonian_kroon_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_estonian_kroon_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_estonian_kroon_market_panel_verification_current = 1

	}
}
buy_estonian_kroon_market_panel = {
	is_shown = {
		var:estonian_kroon_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = estonian_kroon_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:estonian_kroon_order = 1
				var:estonian_kroon_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_1 #Player country quantity of estonian_kroon buy
					value  = scope:player_country.var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = estonian_kroon_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:estonian_kroon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_buy_1 #Player country quantity of estonian_kroon buy
					value  = var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_1
					value = scope:target.var:estonian_kroon_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to estonian_kroon_suply
				set_variable = {
					name = estonian_kroon_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:estonian_kroon_quantity
							multiply = var:estonian_kroon_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_estonian_kroon_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_estonian_kroon_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:estonian_kroon_order = 2
				var:estonian_kroon_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_2 #Player country quantity of estonian_kroon buy
					value  = scope:player_country.var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = estonian_kroon_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:estonian_kroon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_buy_2 #Player country quantity of estonian_kroon buy
					value  = var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_2
					value = scope:target.var:estonian_kroon_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to estonian_kroon_suply
				set_variable = {
					name = estonian_kroon_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:estonian_kroon_quantity
							multiply = var:estonian_kroon_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_estonian_kroon_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_estonian_kroon_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:estonian_kroon_order = 3
				var:estonian_kroon_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_3 #Player country quantity of estonian_kroon buy
					value  = scope:player_country.var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = estonian_kroon_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:estonian_kroon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_buy_3 #Player country quantity of estonian_kroon buy
					value  = var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_3
					value = scope:target.var:estonian_kroon_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to estonian_kroon_suply
				set_variable = {
					name = estonian_kroon_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:estonian_kroon_quantity
							multiply = var:estonian_kroon_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_estonian_kroon_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_estonian_kroon_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:estonian_kroon_order = 4
				var:estonian_kroon_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_4 #Player country quantity of estonian_kroon buy
					value  = scope:player_country.var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = estonian_kroon_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:estonian_kroon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_buy_4 #Player country quantity of estonian_kroon buy
					value  = var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_4
					value = scope:target.var:estonian_kroon_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to estonian_kroon_suply
				set_variable = {
					name = estonian_kroon_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:estonian_kroon_quantity
							multiply = var:estonian_kroon_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_estonian_kroon_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_estonian_kroon_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:estonian_kroon_order = 5
				var:estonian_kroon_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_5 #Player country quantity of estonian_kroon buy
					value  = scope:player_country.var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = estonian_kroon_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:estonian_kroon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_buy_5 #Player country quantity of estonian_kroon buy
					value  = var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_5
					value = scope:target.var:estonian_kroon_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to estonian_kroon_suply
				set_variable = {
					name = estonian_kroon_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:estonian_kroon_quantity
							multiply = var:estonian_kroon_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_estonian_kroon_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_estonian_kroon_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:estonian_kroon_order >= 5
			}
			set_variable = {
				name = estonian_kroon_order
				#Player country quantity of estonian_kroon buy
				value  = 0
			}
		}
	}
}
sell_estonian_kroon_market_panel = {
	is_shown = {
		var:estonian_kroon_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = estonian_kroon_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:estonian_kroon_order = 1
				var:estonian_kroon_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_1 #Player country quantity of estonian_kroon sell
					value  = scope:player_country.var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = estonian_kroon_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:estonian_kroon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_1 #Player country quantity of estonian_kroon sell
					value  = var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_1
					value = scope:target.var:estonian_kroon_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to estonian_kroon_suply
				set_variable = {
					name = estonian_kroon_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:estonian_kroon_quantity
							multiply = var:estonian_kroon_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_estonian_kroon_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_estonian_kroon_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:estonian_kroon_order = 2
				var:estonian_kroon_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_2 #Player country quantity of estonian_kroon sell
					value  = scope:player_country.var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = estonian_kroon_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:estonian_kroon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_2 #Player country quantity of estonian_kroon sell
					value  = var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_2
					value = scope:target.var:estonian_kroon_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to estonian_kroon_suply
				set_variable = {
					name = estonian_kroon_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:estonian_kroon_quantity
							multiply = var:estonian_kroon_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_estonian_kroon_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_estonian_kroon_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:estonian_kroon_order = 3
				var:estonian_kroon_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_3 #Player country quantity of estonian_kroon sell
					value  = scope:player_country.var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = estonian_kroon_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:estonian_kroon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_3 #Player country quantity of estonian_kroon sell
					value  = var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_3
					value = scope:target.var:estonian_kroon_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to estonian_kroon_suply
				set_variable = {
					name = estonian_kroon_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:estonian_kroon_quantity
							multiply = var:estonian_kroon_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_estonian_kroon_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_estonian_kroon_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:estonian_kroon_order = 4
				var:estonian_kroon_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_4 #Player country quantity of estonian_kroon sell
					value  = scope:player_country.var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = estonian_kroon_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:estonian_kroon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_4 #Player country quantity of estonian_kroon sell
					value  = var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_4
					value = scope:target.var:estonian_kroon_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to estonian_kroon_suply
				set_variable = {
					name = estonian_kroon_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:estonian_kroon_quantity
							multiply = var:estonian_kroon_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_estonian_kroon_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_estonian_kroon_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:estonian_kroon_order = 5
				var:estonian_kroon_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_5 #Player country quantity of estonian_kroon sell
					value  = scope:player_country.var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = estonian_kroon_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:estonian_kroon_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = estonian_kroon_sell_5 #Player country quantity of estonian_kroon sell
					value  = var:estonian_kroon_quantity
				}

				#exchange rate
				set_variable = {
					name = estonian_kroon_to_player_currency_exchange_rate_5
					value = scope:target.var:estonian_kroon_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to estonian_kroon_suply
				set_variable = {
					name = estonian_kroon_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:estonian_kroon_quantity
							multiply = var:estonian_kroon_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_estonian_kroon_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_estonian_kroon_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:estonian_kroon_order >= 5
			}
			set_variable = {
				name = estonian_kroon_order
				#Player country quantity of estonian_kroon sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_estonian_kroon_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:estonian_kroon_quantity < stockpiling_estonian_kroon_state
		player.central_bank_gold_reserves_state > buy_estonian_kroon_in_gold_market_panel
	}
}
sell_estonian_kroon_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:estonian_kroon_quantity < player.stockpiling_estonian_kroon_state
		central_bank_gold_reserves_state > sell_estonian_kroon_in_gold_market_panel
	}
}
estonian_kroon_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_estonian_kroon_state_1
					add = scope:player_country.var:estonian_kroon_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:estonian_kroon_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_estonian_kroon_state_1
						subtract = owner.var:estonian_kroon_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:estonian_kroon_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
estonian_kroon_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_estonian_kroon_state_1
					subtract = scope:player_country.var:estonian_kroon_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:estonian_kroon_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_estonian_kroon_state_1
						add = owner.var:estonian_kroon_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:estonian_kroon_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#ethiopian_birr
ethiopian_birr_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = ethiopian_birr_quantity
				#var:ethiopian_birr_quantity < market.owner.stockpiling_ethiopian_birr_state
				var:ethiopian_birr_quantity < sell_limit_currency_var_rest
				var:ethiopian_birr_quantity < 20000000
			}
			change_variable = {
				name = ethiopian_birr_quantity
				add = 5000000
			}
		}
	}
}
ethiopian_birr_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = ethiopian_birr_quantity
				var:ethiopian_birr_quantity > 5000000
			}
			change_variable = {
				name = ethiopian_birr_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_ethiopian_birr_market_panel_enabled = {
	is_valid = {
		stockpiling_ethiopian_birr_state > player.var:ethiopian_birr_quantity

		money_supply_verification_ethiopian_birr < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:ethiopian_birr_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_ethiopian_birr_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_ethiopian_birr_market_panel_enabled = {
	is_valid = {
		stockpiling_ethiopian_birr_state > player.var:ethiopian_birr_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_ethiopian_birr_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_ethiopian_birr_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_ethiopian_birr_market_panel_verification_current = 1

	}
}
buy_ethiopian_birr_market_panel = {
	is_shown = {
		var:ethiopian_birr_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ethiopian_birr_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ethiopian_birr_order = 1
				var:ethiopian_birr_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_1 #Player country quantity of ethiopian_birr buy
					value  = scope:player_country.var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ethiopian_birr_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ethiopian_birr_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_buy_1 #Player country quantity of ethiopian_birr buy
					value  = var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_1
					value = scope:target.var:ethiopian_birr_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ethiopian_birr_suply
				set_variable = {
					name = ethiopian_birr_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ethiopian_birr_quantity
							multiply = var:ethiopian_birr_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_ethiopian_birr_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ethiopian_birr_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ethiopian_birr_order = 2
				var:ethiopian_birr_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_2 #Player country quantity of ethiopian_birr buy
					value  = scope:player_country.var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ethiopian_birr_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ethiopian_birr_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_buy_2 #Player country quantity of ethiopian_birr buy
					value  = var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_2
					value = scope:target.var:ethiopian_birr_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ethiopian_birr_suply
				set_variable = {
					name = ethiopian_birr_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ethiopian_birr_quantity
							multiply = var:ethiopian_birr_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_ethiopian_birr_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ethiopian_birr_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ethiopian_birr_order = 3
				var:ethiopian_birr_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_3 #Player country quantity of ethiopian_birr buy
					value  = scope:player_country.var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ethiopian_birr_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ethiopian_birr_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_buy_3 #Player country quantity of ethiopian_birr buy
					value  = var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_3
					value = scope:target.var:ethiopian_birr_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ethiopian_birr_suply
				set_variable = {
					name = ethiopian_birr_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ethiopian_birr_quantity
							multiply = var:ethiopian_birr_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_ethiopian_birr_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ethiopian_birr_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ethiopian_birr_order = 4
				var:ethiopian_birr_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_4 #Player country quantity of ethiopian_birr buy
					value  = scope:player_country.var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ethiopian_birr_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ethiopian_birr_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_buy_4 #Player country quantity of ethiopian_birr buy
					value  = var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_4
					value = scope:target.var:ethiopian_birr_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ethiopian_birr_suply
				set_variable = {
					name = ethiopian_birr_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ethiopian_birr_quantity
							multiply = var:ethiopian_birr_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_ethiopian_birr_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ethiopian_birr_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ethiopian_birr_order = 5
				var:ethiopian_birr_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_5 #Player country quantity of ethiopian_birr buy
					value  = scope:player_country.var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ethiopian_birr_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ethiopian_birr_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_buy_5 #Player country quantity of ethiopian_birr buy
					value  = var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_5
					value = scope:target.var:ethiopian_birr_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ethiopian_birr_suply
				set_variable = {
					name = ethiopian_birr_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ethiopian_birr_quantity
							multiply = var:ethiopian_birr_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_ethiopian_birr_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ethiopian_birr_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ethiopian_birr_order >= 5
			}
			set_variable = {
				name = ethiopian_birr_order
				#Player country quantity of ethiopian_birr buy
				value  = 0
			}
		}
	}
}
sell_ethiopian_birr_market_panel = {
	is_shown = {
		var:ethiopian_birr_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ethiopian_birr_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ethiopian_birr_order = 1
				var:ethiopian_birr_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_1 #Player country quantity of ethiopian_birr sell
					value  = scope:player_country.var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ethiopian_birr_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ethiopian_birr_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_1 #Player country quantity of ethiopian_birr sell
					value  = var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_1
					value = scope:target.var:ethiopian_birr_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ethiopian_birr_suply
				set_variable = {
					name = ethiopian_birr_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ethiopian_birr_quantity
							multiply = var:ethiopian_birr_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_ethiopian_birr_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ethiopian_birr_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ethiopian_birr_order = 2
				var:ethiopian_birr_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_2 #Player country quantity of ethiopian_birr sell
					value  = scope:player_country.var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ethiopian_birr_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ethiopian_birr_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_2 #Player country quantity of ethiopian_birr sell
					value  = var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_2
					value = scope:target.var:ethiopian_birr_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ethiopian_birr_suply
				set_variable = {
					name = ethiopian_birr_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ethiopian_birr_quantity
							multiply = var:ethiopian_birr_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_ethiopian_birr_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ethiopian_birr_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ethiopian_birr_order = 3
				var:ethiopian_birr_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_3 #Player country quantity of ethiopian_birr sell
					value  = scope:player_country.var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ethiopian_birr_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ethiopian_birr_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_3 #Player country quantity of ethiopian_birr sell
					value  = var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_3
					value = scope:target.var:ethiopian_birr_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ethiopian_birr_suply
				set_variable = {
					name = ethiopian_birr_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ethiopian_birr_quantity
							multiply = var:ethiopian_birr_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_ethiopian_birr_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ethiopian_birr_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ethiopian_birr_order = 4
				var:ethiopian_birr_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_4 #Player country quantity of ethiopian_birr sell
					value  = scope:player_country.var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ethiopian_birr_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ethiopian_birr_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_4 #Player country quantity of ethiopian_birr sell
					value  = var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_4
					value = scope:target.var:ethiopian_birr_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ethiopian_birr_suply
				set_variable = {
					name = ethiopian_birr_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ethiopian_birr_quantity
							multiply = var:ethiopian_birr_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_ethiopian_birr_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ethiopian_birr_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ethiopian_birr_order = 5
				var:ethiopian_birr_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_5 #Player country quantity of ethiopian_birr sell
					value  = scope:player_country.var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ethiopian_birr_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ethiopian_birr_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ethiopian_birr_sell_5 #Player country quantity of ethiopian_birr sell
					value  = var:ethiopian_birr_quantity
				}

				#exchange rate
				set_variable = {
					name = ethiopian_birr_to_player_currency_exchange_rate_5
					value = scope:target.var:ethiopian_birr_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ethiopian_birr_suply
				set_variable = {
					name = ethiopian_birr_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ethiopian_birr_quantity
							multiply = var:ethiopian_birr_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_ethiopian_birr_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ethiopian_birr_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ethiopian_birr_order >= 5
			}
			set_variable = {
				name = ethiopian_birr_order
				#Player country quantity of ethiopian_birr sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_ethiopian_birr_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ethiopian_birr_quantity < stockpiling_ethiopian_birr_state
		player.central_bank_gold_reserves_state > buy_ethiopian_birr_in_gold_market_panel
	}
}
sell_ethiopian_birr_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ethiopian_birr_quantity < player.stockpiling_ethiopian_birr_state
		central_bank_gold_reserves_state > sell_ethiopian_birr_in_gold_market_panel
	}
}
ethiopian_birr_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ethiopian_birr_state_1
					add = scope:player_country.var:ethiopian_birr_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:ethiopian_birr_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ethiopian_birr_state_1
						subtract = owner.var:ethiopian_birr_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:ethiopian_birr_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
ethiopian_birr_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ethiopian_birr_state_1
					subtract = scope:player_country.var:ethiopian_birr_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:ethiopian_birr_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ethiopian_birr_state_1
						add = owner.var:ethiopian_birr_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:ethiopian_birr_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#finnish_markka
finnish_markka_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = finnish_markka_quantity
				#var:finnish_markka_quantity < market.owner.stockpiling_finnish_markka_state
				var:finnish_markka_quantity < sell_limit_currency_var_rest
				var:finnish_markka_quantity < 20000000
			}
			change_variable = {
				name = finnish_markka_quantity
				add = 5000000
			}
		}
	}
}
finnish_markka_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = finnish_markka_quantity
				var:finnish_markka_quantity > 5000000
			}
			change_variable = {
				name = finnish_markka_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_finnish_markka_market_panel_enabled = {
	is_valid = {
		stockpiling_finnish_markka_state > player.var:finnish_markka_quantity

		money_supply_verification_finnish_markka < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:finnish_markka_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_finnish_markka_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_finnish_markka_market_panel_enabled = {
	is_valid = {
		stockpiling_finnish_markka_state > player.var:finnish_markka_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_finnish_markka_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_finnish_markka_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_finnish_markka_market_panel_verification_current = 1

	}
}
buy_finnish_markka_market_panel = {
	is_shown = {
		var:finnish_markka_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = finnish_markka_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:finnish_markka_order = 1
				var:finnish_markka_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_1 #Player country quantity of finnish_markka buy
					value  = scope:player_country.var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = finnish_markka_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:finnish_markka_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_buy_1 #Player country quantity of finnish_markka buy
					value  = var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_1
					value = scope:target.var:finnish_markka_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to finnish_markka_suply
				set_variable = {
					name = finnish_markka_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:finnish_markka_quantity
							multiply = var:finnish_markka_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_finnish_markka_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_finnish_markka_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:finnish_markka_order = 2
				var:finnish_markka_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_2 #Player country quantity of finnish_markka buy
					value  = scope:player_country.var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = finnish_markka_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:finnish_markka_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_buy_2 #Player country quantity of finnish_markka buy
					value  = var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_2
					value = scope:target.var:finnish_markka_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to finnish_markka_suply
				set_variable = {
					name = finnish_markka_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:finnish_markka_quantity
							multiply = var:finnish_markka_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_finnish_markka_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_finnish_markka_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:finnish_markka_order = 3
				var:finnish_markka_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_3 #Player country quantity of finnish_markka buy
					value  = scope:player_country.var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = finnish_markka_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:finnish_markka_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_buy_3 #Player country quantity of finnish_markka buy
					value  = var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_3
					value = scope:target.var:finnish_markka_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to finnish_markka_suply
				set_variable = {
					name = finnish_markka_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:finnish_markka_quantity
							multiply = var:finnish_markka_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_finnish_markka_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_finnish_markka_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:finnish_markka_order = 4
				var:finnish_markka_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_4 #Player country quantity of finnish_markka buy
					value  = scope:player_country.var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = finnish_markka_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:finnish_markka_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_buy_4 #Player country quantity of finnish_markka buy
					value  = var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_4
					value = scope:target.var:finnish_markka_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to finnish_markka_suply
				set_variable = {
					name = finnish_markka_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:finnish_markka_quantity
							multiply = var:finnish_markka_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_finnish_markka_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_finnish_markka_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:finnish_markka_order = 5
				var:finnish_markka_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_5 #Player country quantity of finnish_markka buy
					value  = scope:player_country.var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = finnish_markka_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:finnish_markka_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_buy_5 #Player country quantity of finnish_markka buy
					value  = var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_5
					value = scope:target.var:finnish_markka_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to finnish_markka_suply
				set_variable = {
					name = finnish_markka_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:finnish_markka_quantity
							multiply = var:finnish_markka_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_finnish_markka_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_finnish_markka_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:finnish_markka_order >= 5
			}
			set_variable = {
				name = finnish_markka_order
				#Player country quantity of finnish_markka buy
				value  = 0
			}
		}
	}
}
sell_finnish_markka_market_panel = {
	is_shown = {
		var:finnish_markka_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = finnish_markka_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:finnish_markka_order = 1
				var:finnish_markka_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_1 #Player country quantity of finnish_markka sell
					value  = scope:player_country.var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = finnish_markka_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:finnish_markka_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_1 #Player country quantity of finnish_markka sell
					value  = var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_1
					value = scope:target.var:finnish_markka_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to finnish_markka_suply
				set_variable = {
					name = finnish_markka_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:finnish_markka_quantity
							multiply = var:finnish_markka_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_finnish_markka_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_finnish_markka_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:finnish_markka_order = 2
				var:finnish_markka_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_2 #Player country quantity of finnish_markka sell
					value  = scope:player_country.var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = finnish_markka_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:finnish_markka_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_2 #Player country quantity of finnish_markka sell
					value  = var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_2
					value = scope:target.var:finnish_markka_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to finnish_markka_suply
				set_variable = {
					name = finnish_markka_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:finnish_markka_quantity
							multiply = var:finnish_markka_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_finnish_markka_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_finnish_markka_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:finnish_markka_order = 3
				var:finnish_markka_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_3 #Player country quantity of finnish_markka sell
					value  = scope:player_country.var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = finnish_markka_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:finnish_markka_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_3 #Player country quantity of finnish_markka sell
					value  = var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_3
					value = scope:target.var:finnish_markka_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to finnish_markka_suply
				set_variable = {
					name = finnish_markka_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:finnish_markka_quantity
							multiply = var:finnish_markka_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_finnish_markka_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_finnish_markka_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:finnish_markka_order = 4
				var:finnish_markka_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_4 #Player country quantity of finnish_markka sell
					value  = scope:player_country.var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = finnish_markka_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:finnish_markka_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_4 #Player country quantity of finnish_markka sell
					value  = var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_4
					value = scope:target.var:finnish_markka_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to finnish_markka_suply
				set_variable = {
					name = finnish_markka_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:finnish_markka_quantity
							multiply = var:finnish_markka_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_finnish_markka_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_finnish_markka_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:finnish_markka_order = 5
				var:finnish_markka_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_5 #Player country quantity of finnish_markka sell
					value  = scope:player_country.var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = finnish_markka_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:finnish_markka_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = finnish_markka_sell_5 #Player country quantity of finnish_markka sell
					value  = var:finnish_markka_quantity
				}

				#exchange rate
				set_variable = {
					name = finnish_markka_to_player_currency_exchange_rate_5
					value = scope:target.var:finnish_markka_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to finnish_markka_suply
				set_variable = {
					name = finnish_markka_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:finnish_markka_quantity
							multiply = var:finnish_markka_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_finnish_markka_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_finnish_markka_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:finnish_markka_order >= 5
			}
			set_variable = {
				name = finnish_markka_order
				#Player country quantity of finnish_markka sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_finnish_markka_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:finnish_markka_quantity < stockpiling_finnish_markka_state
		player.central_bank_gold_reserves_state > buy_finnish_markka_in_gold_market_panel
	}
}
sell_finnish_markka_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:finnish_markka_quantity < player.stockpiling_finnish_markka_state
		central_bank_gold_reserves_state > sell_finnish_markka_in_gold_market_panel
	}
}
finnish_markka_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_finnish_markka_state_1
					add = scope:player_country.var:finnish_markka_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:finnish_markka_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_finnish_markka_state_1
						subtract = owner.var:finnish_markka_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:finnish_markka_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
finnish_markka_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_finnish_markka_state_1
					subtract = scope:player_country.var:finnish_markka_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:finnish_markka_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_finnish_markka_state_1
						add = owner.var:finnish_markka_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:finnish_markka_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#florin
florin_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = florin_quantity
				#var:florin_quantity < market.owner.stockpiling_florin_state
				var:florin_quantity < sell_limit_currency_var_rest
				var:florin_quantity < 20000000
			}
			change_variable = {
				name = florin_quantity
				add = 5000000
			}
		}
	}
}
florin_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = florin_quantity
				var:florin_quantity > 5000000
			}
			change_variable = {
				name = florin_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_florin_market_panel_enabled = {
	is_valid = {
		stockpiling_florin_state > player.var:florin_quantity

		money_supply_verification_florin < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:florin_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_florin_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_florin_market_panel_enabled = {
	is_valid = {
		stockpiling_florin_state > player.var:florin_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_florin_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_florin_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_florin_market_panel_verification_current = 1

	}
}
buy_florin_market_panel = {
	is_shown = {
		var:florin_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = florin_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:florin_order = 1
				var:florin_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_1 #Player country quantity of florin buy
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_buy_1 #Player country quantity of florin buy
					value  = var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_1
					value = scope:target.var:florin_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to florin_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_florin_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:florin_order = 2
				var:florin_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_2 #Player country quantity of florin buy
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_buy_2 #Player country quantity of florin buy
					value  = var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_2
					value = scope:target.var:florin_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to florin_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_florin_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:florin_order = 3
				var:florin_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_3 #Player country quantity of florin buy
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_buy_3 #Player country quantity of florin buy
					value  = var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_3
					value = scope:target.var:florin_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to florin_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_florin_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:florin_order = 4
				var:florin_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_4 #Player country quantity of florin buy
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_buy_4 #Player country quantity of florin buy
					value  = var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_4
					value = scope:target.var:florin_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to florin_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_florin_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:florin_order = 5
				var:florin_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_5 #Player country quantity of florin buy
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_buy_5 #Player country quantity of florin buy
					value  = var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_5
					value = scope:target.var:florin_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to florin_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_florin_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:florin_order >= 5
			}
			set_variable = {
				name = florin_order
				#Player country quantity of florin buy
				value  = 0
			}
		}
	}
}
sell_florin_market_panel = {
	is_shown = {
		var:florin_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = florin_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:florin_order = 1
				var:florin_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_1 #Player country quantity of florin sell
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_1 #Player country quantity of florin sell
					value  = var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_1
					value = scope:target.var:florin_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to florin_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_florin_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:florin_order = 2
				var:florin_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_2 #Player country quantity of florin sell
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_2 #Player country quantity of florin sell
					value  = var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_2
					value = scope:target.var:florin_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to florin_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_florin_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:florin_order = 3
				var:florin_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_3 #Player country quantity of florin sell
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_3 #Player country quantity of florin sell
					value  = var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_3
					value = scope:target.var:florin_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to florin_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_florin_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:florin_order = 4
				var:florin_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_4 #Player country quantity of florin sell
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_4 #Player country quantity of florin sell
					value  = var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_4
					value = scope:target.var:florin_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to florin_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_florin_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:florin_order = 5
				var:florin_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_5 #Player country quantity of florin sell
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_5 #Player country quantity of florin sell
					value  = var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_5
					value = scope:target.var:florin_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to florin_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_florin_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:florin_order >= 5
			}
			set_variable = {
				name = florin_order
				#Player country quantity of florin sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_florin_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:florin_quantity < stockpiling_florin_state
		player.central_bank_gold_reserves_state > buy_florin_in_gold_market_panel
	}
}
sell_florin_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:florin_quantity < player.stockpiling_florin_state
		central_bank_gold_reserves_state > sell_florin_in_gold_market_panel
	}
}
florin_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_florin_state_1
					add = scope:player_country.var:florin_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:florin_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_florin_state_1
						subtract = owner.var:florin_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:florin_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
florin_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_florin_state_1
					subtract = scope:player_country.var:florin_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:florin_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_florin_state_1
						add = owner.var:florin_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:florin_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#french_franc
french_franc_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = french_franc_quantity
				#var:french_franc_quantity < market.owner.stockpiling_french_franc_state
				var:french_franc_quantity < sell_limit_currency_var_rest
				var:french_franc_quantity < 20000000
			}
			change_variable = {
				name = french_franc_quantity
				add = 5000000
			}
		}
	}
}
french_franc_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = french_franc_quantity
				var:french_franc_quantity > 5000000
			}
			change_variable = {
				name = french_franc_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_french_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_french_franc_state > player.var:french_franc_quantity

		money_supply_verification_french_franc < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:french_franc_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_french_franc_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_french_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_french_franc_state > player.var:french_franc_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_french_franc_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_french_franc_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_french_franc_market_panel_verification_current = 1

	}
}
buy_french_franc_market_panel = {
	is_shown = {
		var:french_franc_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = french_franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:french_franc_order = 1
				var:french_franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_1 #Player country quantity of french_franc buy
					value  = scope:player_country.var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = french_franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:french_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = french_franc_buy_1 #Player country quantity of french_franc buy
					value  = var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_1
					value = scope:target.var:french_franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to french_franc_suply
				set_variable = {
					name = french_franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:french_franc_quantity
							multiply = var:french_franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_french_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_french_franc_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:french_franc_order = 2
				var:french_franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_2 #Player country quantity of french_franc buy
					value  = scope:player_country.var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = french_franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:french_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = french_franc_buy_2 #Player country quantity of french_franc buy
					value  = var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_2
					value = scope:target.var:french_franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to french_franc_suply
				set_variable = {
					name = french_franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:french_franc_quantity
							multiply = var:french_franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_french_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_french_franc_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:french_franc_order = 3
				var:french_franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_3 #Player country quantity of french_franc buy
					value  = scope:player_country.var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = french_franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:french_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = french_franc_buy_3 #Player country quantity of french_franc buy
					value  = var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_3
					value = scope:target.var:french_franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to french_franc_suply
				set_variable = {
					name = french_franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:french_franc_quantity
							multiply = var:french_franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_french_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_french_franc_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:french_franc_order = 4
				var:french_franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_4 #Player country quantity of french_franc buy
					value  = scope:player_country.var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = french_franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:french_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = french_franc_buy_4 #Player country quantity of french_franc buy
					value  = var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_4
					value = scope:target.var:french_franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to french_franc_suply
				set_variable = {
					name = french_franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:french_franc_quantity
							multiply = var:french_franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_french_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_french_franc_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:french_franc_order = 5
				var:french_franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_5 #Player country quantity of french_franc buy
					value  = scope:player_country.var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = french_franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:french_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = french_franc_buy_5 #Player country quantity of french_franc buy
					value  = var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_5
					value = scope:target.var:french_franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to french_franc_suply
				set_variable = {
					name = french_franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:french_franc_quantity
							multiply = var:french_franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_french_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_french_franc_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:french_franc_order >= 5
			}
			set_variable = {
				name = french_franc_order
				#Player country quantity of french_franc buy
				value  = 0
			}
		}
	}
}
sell_french_franc_market_panel = {
	is_shown = {
		var:french_franc_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = french_franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:french_franc_order = 1
				var:french_franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_1 #Player country quantity of french_franc sell
					value  = scope:player_country.var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = french_franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:french_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_1 #Player country quantity of french_franc sell
					value  = var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_1
					value = scope:target.var:french_franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to french_franc_suply
				set_variable = {
					name = french_franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:french_franc_quantity
							multiply = var:french_franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_french_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_french_franc_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:french_franc_order = 2
				var:french_franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_2 #Player country quantity of french_franc sell
					value  = scope:player_country.var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = french_franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:french_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_2 #Player country quantity of french_franc sell
					value  = var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_2
					value = scope:target.var:french_franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to french_franc_suply
				set_variable = {
					name = french_franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:french_franc_quantity
							multiply = var:french_franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_french_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_french_franc_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:french_franc_order = 3
				var:french_franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_3 #Player country quantity of french_franc sell
					value  = scope:player_country.var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = french_franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:french_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_3 #Player country quantity of french_franc sell
					value  = var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_3
					value = scope:target.var:french_franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to french_franc_suply
				set_variable = {
					name = french_franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:french_franc_quantity
							multiply = var:french_franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_french_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_french_franc_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:french_franc_order = 4
				var:french_franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_4 #Player country quantity of french_franc sell
					value  = scope:player_country.var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = french_franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:french_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_4 #Player country quantity of french_franc sell
					value  = var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_4
					value = scope:target.var:french_franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to french_franc_suply
				set_variable = {
					name = french_franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:french_franc_quantity
							multiply = var:french_franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_french_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_french_franc_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:french_franc_order = 5
				var:french_franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_5 #Player country quantity of french_franc sell
					value  = scope:player_country.var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = french_franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:french_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = french_franc_sell_5 #Player country quantity of french_franc sell
					value  = var:french_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = french_franc_to_player_currency_exchange_rate_5
					value = scope:target.var:french_franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to french_franc_suply
				set_variable = {
					name = french_franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:french_franc_quantity
							multiply = var:french_franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_french_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_french_franc_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:french_franc_order >= 5
			}
			set_variable = {
				name = french_franc_order
				#Player country quantity of french_franc sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_french_franc_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:french_franc_quantity < stockpiling_french_franc_state
		player.central_bank_gold_reserves_state > buy_french_franc_in_gold_market_panel
	}
}
sell_french_franc_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:french_franc_quantity < player.stockpiling_french_franc_state
		central_bank_gold_reserves_state > sell_french_franc_in_gold_market_panel
	}
}
french_franc_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_french_franc_state_1
					add = scope:player_country.var:french_franc_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:french_franc_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_french_franc_state_1
						subtract = owner.var:french_franc_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:french_franc_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
french_franc_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_french_franc_state_1
					subtract = scope:player_country.var:french_franc_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:french_franc_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_french_franc_state_1
						add = owner.var:french_franc_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:french_franc_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#ghanaian_cedi
ghanaian_cedi_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = ghanaian_cedi_quantity
				#var:ghanaian_cedi_quantity < market.owner.stockpiling_ghanaian_cedi_state
				var:ghanaian_cedi_quantity < sell_limit_currency_var_rest
				var:ghanaian_cedi_quantity < 20000000
			}
			change_variable = {
				name = ghanaian_cedi_quantity
				add = 5000000
			}
		}
	}
}
ghanaian_cedi_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = ghanaian_cedi_quantity
				var:ghanaian_cedi_quantity > 5000000
			}
			change_variable = {
				name = ghanaian_cedi_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_ghanaian_cedi_market_panel_enabled = {
	is_valid = {
		stockpiling_ghanaian_cedi_state > player.var:ghanaian_cedi_quantity

		money_supply_verification_ghanaian_cedi < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:ghanaian_cedi_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_ghanaian_cedi_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_ghanaian_cedi_market_panel_enabled = {
	is_valid = {
		stockpiling_ghanaian_cedi_state > player.var:ghanaian_cedi_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_ghanaian_cedi_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_ghanaian_cedi_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_ghanaian_cedi_market_panel_verification_current = 1

	}
}
buy_ghanaian_cedi_market_panel = {
	is_shown = {
		var:ghanaian_cedi_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ghanaian_cedi_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ghanaian_cedi_order = 1
				var:ghanaian_cedi_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_1 #Player country quantity of ghanaian_cedi buy
					value  = scope:player_country.var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ghanaian_cedi_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ghanaian_cedi_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_buy_1 #Player country quantity of ghanaian_cedi buy
					value  = var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_1
					value = scope:target.var:ghanaian_cedi_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ghanaian_cedi_suply
				set_variable = {
					name = ghanaian_cedi_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ghanaian_cedi_quantity
							multiply = var:ghanaian_cedi_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_ghanaian_cedi_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ghanaian_cedi_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ghanaian_cedi_order = 2
				var:ghanaian_cedi_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_2 #Player country quantity of ghanaian_cedi buy
					value  = scope:player_country.var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ghanaian_cedi_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ghanaian_cedi_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_buy_2 #Player country quantity of ghanaian_cedi buy
					value  = var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_2
					value = scope:target.var:ghanaian_cedi_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ghanaian_cedi_suply
				set_variable = {
					name = ghanaian_cedi_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ghanaian_cedi_quantity
							multiply = var:ghanaian_cedi_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_ghanaian_cedi_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ghanaian_cedi_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ghanaian_cedi_order = 3
				var:ghanaian_cedi_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_3 #Player country quantity of ghanaian_cedi buy
					value  = scope:player_country.var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ghanaian_cedi_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ghanaian_cedi_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_buy_3 #Player country quantity of ghanaian_cedi buy
					value  = var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_3
					value = scope:target.var:ghanaian_cedi_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ghanaian_cedi_suply
				set_variable = {
					name = ghanaian_cedi_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ghanaian_cedi_quantity
							multiply = var:ghanaian_cedi_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_ghanaian_cedi_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ghanaian_cedi_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ghanaian_cedi_order = 4
				var:ghanaian_cedi_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_4 #Player country quantity of ghanaian_cedi buy
					value  = scope:player_country.var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ghanaian_cedi_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ghanaian_cedi_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_buy_4 #Player country quantity of ghanaian_cedi buy
					value  = var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_4
					value = scope:target.var:ghanaian_cedi_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ghanaian_cedi_suply
				set_variable = {
					name = ghanaian_cedi_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ghanaian_cedi_quantity
							multiply = var:ghanaian_cedi_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_ghanaian_cedi_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ghanaian_cedi_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ghanaian_cedi_order = 5
				var:ghanaian_cedi_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_5 #Player country quantity of ghanaian_cedi buy
					value  = scope:player_country.var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ghanaian_cedi_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ghanaian_cedi_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_buy_5 #Player country quantity of ghanaian_cedi buy
					value  = var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_5
					value = scope:target.var:ghanaian_cedi_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ghanaian_cedi_suply
				set_variable = {
					name = ghanaian_cedi_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ghanaian_cedi_quantity
							multiply = var:ghanaian_cedi_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_ghanaian_cedi_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ghanaian_cedi_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ghanaian_cedi_order >= 5
			}
			set_variable = {
				name = ghanaian_cedi_order
				#Player country quantity of ghanaian_cedi buy
				value  = 0
			}
		}
	}
}
sell_ghanaian_cedi_market_panel = {
	is_shown = {
		var:ghanaian_cedi_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ghanaian_cedi_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ghanaian_cedi_order = 1
				var:ghanaian_cedi_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_1 #Player country quantity of ghanaian_cedi sell
					value  = scope:player_country.var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ghanaian_cedi_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ghanaian_cedi_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_1 #Player country quantity of ghanaian_cedi sell
					value  = var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_1
					value = scope:target.var:ghanaian_cedi_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ghanaian_cedi_suply
				set_variable = {
					name = ghanaian_cedi_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ghanaian_cedi_quantity
							multiply = var:ghanaian_cedi_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_ghanaian_cedi_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ghanaian_cedi_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ghanaian_cedi_order = 2
				var:ghanaian_cedi_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_2 #Player country quantity of ghanaian_cedi sell
					value  = scope:player_country.var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ghanaian_cedi_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ghanaian_cedi_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_2 #Player country quantity of ghanaian_cedi sell
					value  = var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_2
					value = scope:target.var:ghanaian_cedi_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ghanaian_cedi_suply
				set_variable = {
					name = ghanaian_cedi_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ghanaian_cedi_quantity
							multiply = var:ghanaian_cedi_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_ghanaian_cedi_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ghanaian_cedi_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ghanaian_cedi_order = 3
				var:ghanaian_cedi_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_3 #Player country quantity of ghanaian_cedi sell
					value  = scope:player_country.var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ghanaian_cedi_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ghanaian_cedi_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_3 #Player country quantity of ghanaian_cedi sell
					value  = var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_3
					value = scope:target.var:ghanaian_cedi_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ghanaian_cedi_suply
				set_variable = {
					name = ghanaian_cedi_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ghanaian_cedi_quantity
							multiply = var:ghanaian_cedi_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_ghanaian_cedi_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ghanaian_cedi_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ghanaian_cedi_order = 4
				var:ghanaian_cedi_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_4 #Player country quantity of ghanaian_cedi sell
					value  = scope:player_country.var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ghanaian_cedi_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ghanaian_cedi_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_4 #Player country quantity of ghanaian_cedi sell
					value  = var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_4
					value = scope:target.var:ghanaian_cedi_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ghanaian_cedi_suply
				set_variable = {
					name = ghanaian_cedi_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ghanaian_cedi_quantity
							multiply = var:ghanaian_cedi_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_ghanaian_cedi_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ghanaian_cedi_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ghanaian_cedi_order = 5
				var:ghanaian_cedi_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_5 #Player country quantity of ghanaian_cedi sell
					value  = scope:player_country.var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ghanaian_cedi_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ghanaian_cedi_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ghanaian_cedi_sell_5 #Player country quantity of ghanaian_cedi sell
					value  = var:ghanaian_cedi_quantity
				}

				#exchange rate
				set_variable = {
					name = ghanaian_cedi_to_player_currency_exchange_rate_5
					value = scope:target.var:ghanaian_cedi_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ghanaian_cedi_suply
				set_variable = {
					name = ghanaian_cedi_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ghanaian_cedi_quantity
							multiply = var:ghanaian_cedi_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_ghanaian_cedi_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ghanaian_cedi_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ghanaian_cedi_order >= 5
			}
			set_variable = {
				name = ghanaian_cedi_order
				#Player country quantity of ghanaian_cedi sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_ghanaian_cedi_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ghanaian_cedi_quantity < stockpiling_ghanaian_cedi_state
		player.central_bank_gold_reserves_state > buy_ghanaian_cedi_in_gold_market_panel
	}
}
sell_ghanaian_cedi_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ghanaian_cedi_quantity < player.stockpiling_ghanaian_cedi_state
		central_bank_gold_reserves_state > sell_ghanaian_cedi_in_gold_market_panel
	}
}
ghanaian_cedi_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ghanaian_cedi_state_1
					add = scope:player_country.var:ghanaian_cedi_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:ghanaian_cedi_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ghanaian_cedi_state_1
						subtract = owner.var:ghanaian_cedi_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:ghanaian_cedi_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
ghanaian_cedi_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ghanaian_cedi_state_1
					subtract = scope:player_country.var:ghanaian_cedi_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:ghanaian_cedi_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ghanaian_cedi_state_1
						add = owner.var:ghanaian_cedi_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:ghanaian_cedi_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#gulden
gulden_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = gulden_quantity
				#var:gulden_quantity < market.owner.stockpiling_gulden_state
				var:gulden_quantity < sell_limit_currency_var_rest
				var:gulden_quantity < 20000000
			}
			change_variable = {
				name = gulden_quantity
				add = 5000000
			}
		}
	}
}
gulden_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = gulden_quantity
				var:gulden_quantity > 5000000
			}
			change_variable = {
				name = gulden_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_gulden_market_panel_enabled = {
	is_valid = {
		stockpiling_gulden_state > player.var:gulden_quantity

		money_supply_verification_gulden < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:gulden_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_gulden_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_gulden_market_panel_enabled = {
	is_valid = {
		stockpiling_gulden_state > player.var:gulden_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_gulden_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_gulden_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_gulden_market_panel_verification_current = 1

	}
}
buy_gulden_market_panel = {
	is_shown = {
		var:gulden_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = gulden_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:gulden_order = 1
				var:gulden_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_1 #Player country quantity of gulden buy
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_buy_1 #Player country quantity of gulden buy
					value  = var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_1
					value = scope:target.var:gulden_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to gulden_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_gulden_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:gulden_order = 2
				var:gulden_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_2 #Player country quantity of gulden buy
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_buy_2 #Player country quantity of gulden buy
					value  = var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_2
					value = scope:target.var:gulden_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to gulden_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_gulden_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:gulden_order = 3
				var:gulden_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_3 #Player country quantity of gulden buy
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_buy_3 #Player country quantity of gulden buy
					value  = var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_3
					value = scope:target.var:gulden_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to gulden_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_gulden_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:gulden_order = 4
				var:gulden_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_4 #Player country quantity of gulden buy
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_buy_4 #Player country quantity of gulden buy
					value  = var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_4
					value = scope:target.var:gulden_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to gulden_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_gulden_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:gulden_order = 5
				var:gulden_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_5 #Player country quantity of gulden buy
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_buy_5 #Player country quantity of gulden buy
					value  = var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_5
					value = scope:target.var:gulden_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to gulden_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_gulden_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:gulden_order >= 5
			}
			set_variable = {
				name = gulden_order
				#Player country quantity of gulden buy
				value  = 0
			}
		}
	}
}
sell_gulden_market_panel = {
	is_shown = {
		var:gulden_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = gulden_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:gulden_order = 1
				var:gulden_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_1 #Player country quantity of gulden sell
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_1 #Player country quantity of gulden sell
					value  = var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_1
					value = scope:target.var:gulden_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to gulden_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_gulden_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:gulden_order = 2
				var:gulden_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_2 #Player country quantity of gulden sell
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_2 #Player country quantity of gulden sell
					value  = var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_2
					value = scope:target.var:gulden_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to gulden_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_gulden_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:gulden_order = 3
				var:gulden_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_3 #Player country quantity of gulden sell
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_3 #Player country quantity of gulden sell
					value  = var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_3
					value = scope:target.var:gulden_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to gulden_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_gulden_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:gulden_order = 4
				var:gulden_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_4 #Player country quantity of gulden sell
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_4 #Player country quantity of gulden sell
					value  = var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_4
					value = scope:target.var:gulden_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to gulden_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_gulden_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:gulden_order = 5
				var:gulden_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_5 #Player country quantity of gulden sell
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_5 #Player country quantity of gulden sell
					value  = var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_5
					value = scope:target.var:gulden_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to gulden_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_gulden_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:gulden_order >= 5
			}
			set_variable = {
				name = gulden_order
				#Player country quantity of gulden sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_gulden_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:gulden_quantity < stockpiling_gulden_state
		player.central_bank_gold_reserves_state > buy_gulden_in_gold_market_panel
	}
}
sell_gulden_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:gulden_quantity < player.stockpiling_gulden_state
		central_bank_gold_reserves_state > sell_gulden_in_gold_market_panel
	}
}
gulden_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_gulden_state_1
					add = scope:player_country.var:gulden_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:gulden_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_gulden_state_1
						subtract = owner.var:gulden_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:gulden_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
gulden_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_gulden_state_1
					subtract = scope:player_country.var:gulden_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:gulden_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_gulden_state_1
						add = owner.var:gulden_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:gulden_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#guatemalan_quetzal
guatemalan_quetzal_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = guatemalan_quetzal_quantity
				#var:guatemalan_quetzal_quantity < market.owner.stockpiling_guatemalan_quetzal_state
				var:guatemalan_quetzal_quantity < sell_limit_currency_var_rest
				var:guatemalan_quetzal_quantity < 20000000
			}
			change_variable = {
				name = guatemalan_quetzal_quantity
				add = 5000000
			}
		}
	}
}
guatemalan_quetzal_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = guatemalan_quetzal_quantity
				var:guatemalan_quetzal_quantity > 5000000
			}
			change_variable = {
				name = guatemalan_quetzal_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_guatemalan_quetzal_market_panel_enabled = {
	is_valid = {
		stockpiling_guatemalan_quetzal_state > player.var:guatemalan_quetzal_quantity

		money_supply_verification_guatemalan_quetzal < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:guatemalan_quetzal_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_guatemalan_quetzal_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_guatemalan_quetzal_market_panel_enabled = {
	is_valid = {
		stockpiling_guatemalan_quetzal_state > player.var:guatemalan_quetzal_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_guatemalan_quetzal_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_guatemalan_quetzal_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_guatemalan_quetzal_market_panel_verification_current = 1

	}
}
buy_guatemalan_quetzal_market_panel = {
	is_shown = {
		var:guatemalan_quetzal_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = guatemalan_quetzal_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:guatemalan_quetzal_order = 1
				var:guatemalan_quetzal_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_1 #Player country quantity of guatemalan_quetzal buy
					value  = scope:player_country.var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = guatemalan_quetzal_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:guatemalan_quetzal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_buy_1 #Player country quantity of guatemalan_quetzal buy
					value  = var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_1
					value = scope:target.var:guatemalan_quetzal_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to guatemalan_quetzal_suply
				set_variable = {
					name = guatemalan_quetzal_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:guatemalan_quetzal_quantity
							multiply = var:guatemalan_quetzal_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_guatemalan_quetzal_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_guatemalan_quetzal_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:guatemalan_quetzal_order = 2
				var:guatemalan_quetzal_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_2 #Player country quantity of guatemalan_quetzal buy
					value  = scope:player_country.var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = guatemalan_quetzal_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:guatemalan_quetzal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_buy_2 #Player country quantity of guatemalan_quetzal buy
					value  = var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_2
					value = scope:target.var:guatemalan_quetzal_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to guatemalan_quetzal_suply
				set_variable = {
					name = guatemalan_quetzal_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:guatemalan_quetzal_quantity
							multiply = var:guatemalan_quetzal_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_guatemalan_quetzal_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_guatemalan_quetzal_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:guatemalan_quetzal_order = 3
				var:guatemalan_quetzal_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_3 #Player country quantity of guatemalan_quetzal buy
					value  = scope:player_country.var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = guatemalan_quetzal_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:guatemalan_quetzal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_buy_3 #Player country quantity of guatemalan_quetzal buy
					value  = var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_3
					value = scope:target.var:guatemalan_quetzal_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to guatemalan_quetzal_suply
				set_variable = {
					name = guatemalan_quetzal_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:guatemalan_quetzal_quantity
							multiply = var:guatemalan_quetzal_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_guatemalan_quetzal_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_guatemalan_quetzal_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:guatemalan_quetzal_order = 4
				var:guatemalan_quetzal_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_4 #Player country quantity of guatemalan_quetzal buy
					value  = scope:player_country.var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = guatemalan_quetzal_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:guatemalan_quetzal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_buy_4 #Player country quantity of guatemalan_quetzal buy
					value  = var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_4
					value = scope:target.var:guatemalan_quetzal_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to guatemalan_quetzal_suply
				set_variable = {
					name = guatemalan_quetzal_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:guatemalan_quetzal_quantity
							multiply = var:guatemalan_quetzal_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_guatemalan_quetzal_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_guatemalan_quetzal_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:guatemalan_quetzal_order = 5
				var:guatemalan_quetzal_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_5 #Player country quantity of guatemalan_quetzal buy
					value  = scope:player_country.var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = guatemalan_quetzal_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:guatemalan_quetzal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_buy_5 #Player country quantity of guatemalan_quetzal buy
					value  = var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_5
					value = scope:target.var:guatemalan_quetzal_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to guatemalan_quetzal_suply
				set_variable = {
					name = guatemalan_quetzal_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:guatemalan_quetzal_quantity
							multiply = var:guatemalan_quetzal_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_guatemalan_quetzal_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_guatemalan_quetzal_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:guatemalan_quetzal_order >= 5
			}
			set_variable = {
				name = guatemalan_quetzal_order
				#Player country quantity of guatemalan_quetzal buy
				value  = 0
			}
		}
	}
}
sell_guatemalan_quetzal_market_panel = {
	is_shown = {
		var:guatemalan_quetzal_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = guatemalan_quetzal_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:guatemalan_quetzal_order = 1
				var:guatemalan_quetzal_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_1 #Player country quantity of guatemalan_quetzal sell
					value  = scope:player_country.var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = guatemalan_quetzal_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:guatemalan_quetzal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_1 #Player country quantity of guatemalan_quetzal sell
					value  = var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_1
					value = scope:target.var:guatemalan_quetzal_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to guatemalan_quetzal_suply
				set_variable = {
					name = guatemalan_quetzal_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:guatemalan_quetzal_quantity
							multiply = var:guatemalan_quetzal_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_guatemalan_quetzal_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_guatemalan_quetzal_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:guatemalan_quetzal_order = 2
				var:guatemalan_quetzal_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_2 #Player country quantity of guatemalan_quetzal sell
					value  = scope:player_country.var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = guatemalan_quetzal_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:guatemalan_quetzal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_2 #Player country quantity of guatemalan_quetzal sell
					value  = var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_2
					value = scope:target.var:guatemalan_quetzal_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to guatemalan_quetzal_suply
				set_variable = {
					name = guatemalan_quetzal_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:guatemalan_quetzal_quantity
							multiply = var:guatemalan_quetzal_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_guatemalan_quetzal_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_guatemalan_quetzal_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:guatemalan_quetzal_order = 3
				var:guatemalan_quetzal_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_3 #Player country quantity of guatemalan_quetzal sell
					value  = scope:player_country.var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = guatemalan_quetzal_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:guatemalan_quetzal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_3 #Player country quantity of guatemalan_quetzal sell
					value  = var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_3
					value = scope:target.var:guatemalan_quetzal_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to guatemalan_quetzal_suply
				set_variable = {
					name = guatemalan_quetzal_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:guatemalan_quetzal_quantity
							multiply = var:guatemalan_quetzal_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_guatemalan_quetzal_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_guatemalan_quetzal_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:guatemalan_quetzal_order = 4
				var:guatemalan_quetzal_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_4 #Player country quantity of guatemalan_quetzal sell
					value  = scope:player_country.var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = guatemalan_quetzal_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:guatemalan_quetzal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_4 #Player country quantity of guatemalan_quetzal sell
					value  = var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_4
					value = scope:target.var:guatemalan_quetzal_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to guatemalan_quetzal_suply
				set_variable = {
					name = guatemalan_quetzal_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:guatemalan_quetzal_quantity
							multiply = var:guatemalan_quetzal_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_guatemalan_quetzal_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_guatemalan_quetzal_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:guatemalan_quetzal_order = 5
				var:guatemalan_quetzal_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_5 #Player country quantity of guatemalan_quetzal sell
					value  = scope:player_country.var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = guatemalan_quetzal_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:guatemalan_quetzal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = guatemalan_quetzal_sell_5 #Player country quantity of guatemalan_quetzal sell
					value  = var:guatemalan_quetzal_quantity
				}

				#exchange rate
				set_variable = {
					name = guatemalan_quetzal_to_player_currency_exchange_rate_5
					value = scope:target.var:guatemalan_quetzal_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to guatemalan_quetzal_suply
				set_variable = {
					name = guatemalan_quetzal_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:guatemalan_quetzal_quantity
							multiply = var:guatemalan_quetzal_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_guatemalan_quetzal_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_guatemalan_quetzal_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:guatemalan_quetzal_order >= 5
			}
			set_variable = {
				name = guatemalan_quetzal_order
				#Player country quantity of guatemalan_quetzal sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_guatemalan_quetzal_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:guatemalan_quetzal_quantity < stockpiling_guatemalan_quetzal_state
		player.central_bank_gold_reserves_state > buy_guatemalan_quetzal_in_gold_market_panel
	}
}
sell_guatemalan_quetzal_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:guatemalan_quetzal_quantity < player.stockpiling_guatemalan_quetzal_state
		central_bank_gold_reserves_state > sell_guatemalan_quetzal_in_gold_market_panel
	}
}
guatemalan_quetzal_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_guatemalan_quetzal_state_1
					add = scope:player_country.var:guatemalan_quetzal_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:guatemalan_quetzal_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_guatemalan_quetzal_state_1
						subtract = owner.var:guatemalan_quetzal_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:guatemalan_quetzal_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
guatemalan_quetzal_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_guatemalan_quetzal_state_1
					subtract = scope:player_country.var:guatemalan_quetzal_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:guatemalan_quetzal_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_guatemalan_quetzal_state_1
						add = owner.var:guatemalan_quetzal_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:guatemalan_quetzal_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#hannoveraner_thaler
hannoveraner_thaler_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = hannoveraner_thaler_quantity
				#var:hannoveraner_thaler_quantity < market.owner.stockpiling_hannoveraner_thaler_state
				var:hannoveraner_thaler_quantity < sell_limit_currency_var_rest
				var:hannoveraner_thaler_quantity < 20000000
			}
			change_variable = {
				name = hannoveraner_thaler_quantity
				add = 5000000
			}
		}
	}
}
hannoveraner_thaler_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = hannoveraner_thaler_quantity
				var:hannoveraner_thaler_quantity > 5000000
			}
			change_variable = {
				name = hannoveraner_thaler_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_hannoveraner_thaler_market_panel_enabled = {
	is_valid = {
		stockpiling_hannoveraner_thaler_state > player.var:hannoveraner_thaler_quantity

		money_supply_verification_hannoveraner_thaler < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:hannoveraner_thaler_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_hannoveraner_thaler_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_hannoveraner_thaler_market_panel_enabled = {
	is_valid = {
		stockpiling_hannoveraner_thaler_state > player.var:hannoveraner_thaler_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_hannoveraner_thaler_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_hannoveraner_thaler_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_hannoveraner_thaler_market_panel_verification_current = 1

	}
}
buy_hannoveraner_thaler_market_panel = {
	is_shown = {
		var:hannoveraner_thaler_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = hannoveraner_thaler_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:hannoveraner_thaler_order = 1
				var:hannoveraner_thaler_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_1 #Player country quantity of hannoveraner_thaler buy
					value  = scope:player_country.var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hannoveraner_thaler_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hannoveraner_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_buy_1 #Player country quantity of hannoveraner_thaler buy
					value  = var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_1
					value = scope:target.var:hannoveraner_thaler_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to hannoveraner_thaler_suply
				set_variable = {
					name = hannoveraner_thaler_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hannoveraner_thaler_quantity
							multiply = var:hannoveraner_thaler_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_hannoveraner_thaler_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hannoveraner_thaler_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:hannoveraner_thaler_order = 2
				var:hannoveraner_thaler_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_2 #Player country quantity of hannoveraner_thaler buy
					value  = scope:player_country.var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hannoveraner_thaler_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hannoveraner_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_buy_2 #Player country quantity of hannoveraner_thaler buy
					value  = var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_2
					value = scope:target.var:hannoveraner_thaler_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to hannoveraner_thaler_suply
				set_variable = {
					name = hannoveraner_thaler_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hannoveraner_thaler_quantity
							multiply = var:hannoveraner_thaler_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_hannoveraner_thaler_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hannoveraner_thaler_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:hannoveraner_thaler_order = 3
				var:hannoveraner_thaler_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_3 #Player country quantity of hannoveraner_thaler buy
					value  = scope:player_country.var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hannoveraner_thaler_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hannoveraner_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_buy_3 #Player country quantity of hannoveraner_thaler buy
					value  = var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_3
					value = scope:target.var:hannoveraner_thaler_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to hannoveraner_thaler_suply
				set_variable = {
					name = hannoveraner_thaler_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hannoveraner_thaler_quantity
							multiply = var:hannoveraner_thaler_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_hannoveraner_thaler_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hannoveraner_thaler_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:hannoveraner_thaler_order = 4
				var:hannoveraner_thaler_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_4 #Player country quantity of hannoveraner_thaler buy
					value  = scope:player_country.var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hannoveraner_thaler_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hannoveraner_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_buy_4 #Player country quantity of hannoveraner_thaler buy
					value  = var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_4
					value = scope:target.var:hannoveraner_thaler_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to hannoveraner_thaler_suply
				set_variable = {
					name = hannoveraner_thaler_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hannoveraner_thaler_quantity
							multiply = var:hannoveraner_thaler_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_hannoveraner_thaler_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hannoveraner_thaler_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:hannoveraner_thaler_order = 5
				var:hannoveraner_thaler_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_5 #Player country quantity of hannoveraner_thaler buy
					value  = scope:player_country.var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hannoveraner_thaler_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hannoveraner_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_buy_5 #Player country quantity of hannoveraner_thaler buy
					value  = var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_5
					value = scope:target.var:hannoveraner_thaler_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to hannoveraner_thaler_suply
				set_variable = {
					name = hannoveraner_thaler_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hannoveraner_thaler_quantity
							multiply = var:hannoveraner_thaler_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_hannoveraner_thaler_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hannoveraner_thaler_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:hannoveraner_thaler_order >= 5
			}
			set_variable = {
				name = hannoveraner_thaler_order
				#Player country quantity of hannoveraner_thaler buy
				value  = 0
			}
		}
	}
}
sell_hannoveraner_thaler_market_panel = {
	is_shown = {
		var:hannoveraner_thaler_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = hannoveraner_thaler_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:hannoveraner_thaler_order = 1
				var:hannoveraner_thaler_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_1 #Player country quantity of hannoveraner_thaler sell
					value  = scope:player_country.var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hannoveraner_thaler_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hannoveraner_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_1 #Player country quantity of hannoveraner_thaler sell
					value  = var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_1
					value = scope:target.var:hannoveraner_thaler_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to hannoveraner_thaler_suply
				set_variable = {
					name = hannoveraner_thaler_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hannoveraner_thaler_quantity
							multiply = var:hannoveraner_thaler_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_hannoveraner_thaler_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hannoveraner_thaler_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:hannoveraner_thaler_order = 2
				var:hannoveraner_thaler_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_2 #Player country quantity of hannoveraner_thaler sell
					value  = scope:player_country.var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hannoveraner_thaler_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hannoveraner_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_2 #Player country quantity of hannoveraner_thaler sell
					value  = var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_2
					value = scope:target.var:hannoveraner_thaler_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to hannoveraner_thaler_suply
				set_variable = {
					name = hannoveraner_thaler_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hannoveraner_thaler_quantity
							multiply = var:hannoveraner_thaler_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_hannoveraner_thaler_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hannoveraner_thaler_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:hannoveraner_thaler_order = 3
				var:hannoveraner_thaler_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_3 #Player country quantity of hannoveraner_thaler sell
					value  = scope:player_country.var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hannoveraner_thaler_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hannoveraner_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_3 #Player country quantity of hannoveraner_thaler sell
					value  = var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_3
					value = scope:target.var:hannoveraner_thaler_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to hannoveraner_thaler_suply
				set_variable = {
					name = hannoveraner_thaler_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hannoveraner_thaler_quantity
							multiply = var:hannoveraner_thaler_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_hannoveraner_thaler_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hannoveraner_thaler_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:hannoveraner_thaler_order = 4
				var:hannoveraner_thaler_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_4 #Player country quantity of hannoveraner_thaler sell
					value  = scope:player_country.var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hannoveraner_thaler_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hannoveraner_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_4 #Player country quantity of hannoveraner_thaler sell
					value  = var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_4
					value = scope:target.var:hannoveraner_thaler_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to hannoveraner_thaler_suply
				set_variable = {
					name = hannoveraner_thaler_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hannoveraner_thaler_quantity
							multiply = var:hannoveraner_thaler_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_hannoveraner_thaler_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hannoveraner_thaler_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:hannoveraner_thaler_order = 5
				var:hannoveraner_thaler_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_5 #Player country quantity of hannoveraner_thaler sell
					value  = scope:player_country.var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hannoveraner_thaler_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hannoveraner_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hannoveraner_thaler_sell_5 #Player country quantity of hannoveraner_thaler sell
					value  = var:hannoveraner_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = hannoveraner_thaler_to_player_currency_exchange_rate_5
					value = scope:target.var:hannoveraner_thaler_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to hannoveraner_thaler_suply
				set_variable = {
					name = hannoveraner_thaler_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hannoveraner_thaler_quantity
							multiply = var:hannoveraner_thaler_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_hannoveraner_thaler_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hannoveraner_thaler_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:hannoveraner_thaler_order >= 5
			}
			set_variable = {
				name = hannoveraner_thaler_order
				#Player country quantity of hannoveraner_thaler sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_hannoveraner_thaler_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:hannoveraner_thaler_quantity < stockpiling_hannoveraner_thaler_state
		player.central_bank_gold_reserves_state > buy_hannoveraner_thaler_in_gold_market_panel
	}
}
sell_hannoveraner_thaler_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:hannoveraner_thaler_quantity < player.stockpiling_hannoveraner_thaler_state
		central_bank_gold_reserves_state > sell_hannoveraner_thaler_in_gold_market_panel
	}
}
hannoveraner_thaler_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_hannoveraner_thaler_state_1
					add = scope:player_country.var:hannoveraner_thaler_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:hannoveraner_thaler_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_hannoveraner_thaler_state_1
						subtract = owner.var:hannoveraner_thaler_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:hannoveraner_thaler_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
hannoveraner_thaler_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_hannoveraner_thaler_state_1
					subtract = scope:player_country.var:hannoveraner_thaler_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:hannoveraner_thaler_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_hannoveraner_thaler_state_1
						add = owner.var:hannoveraner_thaler_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:hannoveraner_thaler_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#honduran_lempira
honduran_lempira_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = honduran_lempira_quantity
				#var:honduran_lempira_quantity < market.owner.stockpiling_honduran_lempira_state
				var:honduran_lempira_quantity < sell_limit_currency_var_rest
				var:honduran_lempira_quantity < 20000000
			}
			change_variable = {
				name = honduran_lempira_quantity
				add = 5000000
			}
		}
	}
}
honduran_lempira_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = honduran_lempira_quantity
				var:honduran_lempira_quantity > 5000000
			}
			change_variable = {
				name = honduran_lempira_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_honduran_lempira_market_panel_enabled = {
	is_valid = {
		stockpiling_honduran_lempira_state > player.var:honduran_lempira_quantity

		money_supply_verification_honduran_lempira < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:honduran_lempira_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_honduran_lempira_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_honduran_lempira_market_panel_enabled = {
	is_valid = {
		stockpiling_honduran_lempira_state > player.var:honduran_lempira_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_honduran_lempira_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_honduran_lempira_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_honduran_lempira_market_panel_verification_current = 1

	}
}
buy_honduran_lempira_market_panel = {
	is_shown = {
		var:honduran_lempira_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = honduran_lempira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:honduran_lempira_order = 1
				var:honduran_lempira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_1 #Player country quantity of honduran_lempira buy
					value  = scope:player_country.var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = honduran_lempira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:honduran_lempira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_buy_1 #Player country quantity of honduran_lempira buy
					value  = var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_1
					value = scope:target.var:honduran_lempira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to honduran_lempira_suply
				set_variable = {
					name = honduran_lempira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:honduran_lempira_quantity
							multiply = var:honduran_lempira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_honduran_lempira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_honduran_lempira_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:honduran_lempira_order = 2
				var:honduran_lempira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_2 #Player country quantity of honduran_lempira buy
					value  = scope:player_country.var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = honduran_lempira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:honduran_lempira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_buy_2 #Player country quantity of honduran_lempira buy
					value  = var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_2
					value = scope:target.var:honduran_lempira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to honduran_lempira_suply
				set_variable = {
					name = honduran_lempira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:honduran_lempira_quantity
							multiply = var:honduran_lempira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_honduran_lempira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_honduran_lempira_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:honduran_lempira_order = 3
				var:honduran_lempira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_3 #Player country quantity of honduran_lempira buy
					value  = scope:player_country.var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = honduran_lempira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:honduran_lempira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_buy_3 #Player country quantity of honduran_lempira buy
					value  = var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_3
					value = scope:target.var:honduran_lempira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to honduran_lempira_suply
				set_variable = {
					name = honduran_lempira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:honduran_lempira_quantity
							multiply = var:honduran_lempira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_honduran_lempira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_honduran_lempira_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:honduran_lempira_order = 4
				var:honduran_lempira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_4 #Player country quantity of honduran_lempira buy
					value  = scope:player_country.var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = honduran_lempira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:honduran_lempira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_buy_4 #Player country quantity of honduran_lempira buy
					value  = var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_4
					value = scope:target.var:honduran_lempira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to honduran_lempira_suply
				set_variable = {
					name = honduran_lempira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:honduran_lempira_quantity
							multiply = var:honduran_lempira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_honduran_lempira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_honduran_lempira_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:honduran_lempira_order = 5
				var:honduran_lempira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_5 #Player country quantity of honduran_lempira buy
					value  = scope:player_country.var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = honduran_lempira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:honduran_lempira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_buy_5 #Player country quantity of honduran_lempira buy
					value  = var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_5
					value = scope:target.var:honduran_lempira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to honduran_lempira_suply
				set_variable = {
					name = honduran_lempira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:honduran_lempira_quantity
							multiply = var:honduran_lempira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_honduran_lempira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_honduran_lempira_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:honduran_lempira_order >= 5
			}
			set_variable = {
				name = honduran_lempira_order
				#Player country quantity of honduran_lempira buy
				value  = 0
			}
		}
	}
}
sell_honduran_lempira_market_panel = {
	is_shown = {
		var:honduran_lempira_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = honduran_lempira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:honduran_lempira_order = 1
				var:honduran_lempira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_1 #Player country quantity of honduran_lempira sell
					value  = scope:player_country.var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = honduran_lempira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:honduran_lempira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_1 #Player country quantity of honduran_lempira sell
					value  = var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_1
					value = scope:target.var:honduran_lempira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to honduran_lempira_suply
				set_variable = {
					name = honduran_lempira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:honduran_lempira_quantity
							multiply = var:honduran_lempira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_honduran_lempira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_honduran_lempira_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:honduran_lempira_order = 2
				var:honduran_lempira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_2 #Player country quantity of honduran_lempira sell
					value  = scope:player_country.var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = honduran_lempira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:honduran_lempira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_2 #Player country quantity of honduran_lempira sell
					value  = var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_2
					value = scope:target.var:honduran_lempira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to honduran_lempira_suply
				set_variable = {
					name = honduran_lempira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:honduran_lempira_quantity
							multiply = var:honduran_lempira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_honduran_lempira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_honduran_lempira_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:honduran_lempira_order = 3
				var:honduran_lempira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_3 #Player country quantity of honduran_lempira sell
					value  = scope:player_country.var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = honduran_lempira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:honduran_lempira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_3 #Player country quantity of honduran_lempira sell
					value  = var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_3
					value = scope:target.var:honduran_lempira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to honduran_lempira_suply
				set_variable = {
					name = honduran_lempira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:honduran_lempira_quantity
							multiply = var:honduran_lempira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_honduran_lempira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_honduran_lempira_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:honduran_lempira_order = 4
				var:honduran_lempira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_4 #Player country quantity of honduran_lempira sell
					value  = scope:player_country.var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = honduran_lempira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:honduran_lempira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_4 #Player country quantity of honduran_lempira sell
					value  = var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_4
					value = scope:target.var:honduran_lempira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to honduran_lempira_suply
				set_variable = {
					name = honduran_lempira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:honduran_lempira_quantity
							multiply = var:honduran_lempira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_honduran_lempira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_honduran_lempira_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:honduran_lempira_order = 5
				var:honduran_lempira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_5 #Player country quantity of honduran_lempira sell
					value  = scope:player_country.var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = honduran_lempira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:honduran_lempira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = honduran_lempira_sell_5 #Player country quantity of honduran_lempira sell
					value  = var:honduran_lempira_quantity
				}

				#exchange rate
				set_variable = {
					name = honduran_lempira_to_player_currency_exchange_rate_5
					value = scope:target.var:honduran_lempira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to honduran_lempira_suply
				set_variable = {
					name = honduran_lempira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:honduran_lempira_quantity
							multiply = var:honduran_lempira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_honduran_lempira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_honduran_lempira_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:honduran_lempira_order >= 5
			}
			set_variable = {
				name = honduran_lempira_order
				#Player country quantity of honduran_lempira sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_honduran_lempira_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:honduran_lempira_quantity < stockpiling_honduran_lempira_state
		player.central_bank_gold_reserves_state > buy_honduran_lempira_in_gold_market_panel
	}
}
sell_honduran_lempira_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:honduran_lempira_quantity < player.stockpiling_honduran_lempira_state
		central_bank_gold_reserves_state > sell_honduran_lempira_in_gold_market_panel
	}
}
honduran_lempira_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_honduran_lempira_state_1
					add = scope:player_country.var:honduran_lempira_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:honduran_lempira_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_honduran_lempira_state_1
						subtract = owner.var:honduran_lempira_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:honduran_lempira_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
honduran_lempira_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_honduran_lempira_state_1
					subtract = scope:player_country.var:honduran_lempira_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:honduran_lempira_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_honduran_lempira_state_1
						add = owner.var:honduran_lempira_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:honduran_lempira_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#hungarian_forint
hungarian_forint_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = hungarian_forint_quantity
				#var:hungarian_forint_quantity < market.owner.stockpiling_hungarian_forint_state
				var:hungarian_forint_quantity < sell_limit_currency_var_rest
				var:hungarian_forint_quantity < 20000000
			}
			change_variable = {
				name = hungarian_forint_quantity
				add = 5000000
			}
		}
	}
}
hungarian_forint_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = hungarian_forint_quantity
				var:hungarian_forint_quantity > 5000000
			}
			change_variable = {
				name = hungarian_forint_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_hungarian_forint_market_panel_enabled = {
	is_valid = {
		stockpiling_hungarian_forint_state > player.var:hungarian_forint_quantity

		money_supply_verification_hungarian_forint < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:hungarian_forint_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_hungarian_forint_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_hungarian_forint_market_panel_enabled = {
	is_valid = {
		stockpiling_hungarian_forint_state > player.var:hungarian_forint_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_hungarian_forint_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_hungarian_forint_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_hungarian_forint_market_panel_verification_current = 1

	}
}
buy_hungarian_forint_market_panel = {
	is_shown = {
		var:hungarian_forint_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = hungarian_forint_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:hungarian_forint_order = 1
				var:hungarian_forint_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_1 #Player country quantity of hungarian_forint buy
					value  = scope:player_country.var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hungarian_forint_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hungarian_forint_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_buy_1 #Player country quantity of hungarian_forint buy
					value  = var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_1
					value = scope:target.var:hungarian_forint_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to hungarian_forint_suply
				set_variable = {
					name = hungarian_forint_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hungarian_forint_quantity
							multiply = var:hungarian_forint_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_hungarian_forint_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hungarian_forint_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:hungarian_forint_order = 2
				var:hungarian_forint_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_2 #Player country quantity of hungarian_forint buy
					value  = scope:player_country.var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hungarian_forint_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hungarian_forint_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_buy_2 #Player country quantity of hungarian_forint buy
					value  = var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_2
					value = scope:target.var:hungarian_forint_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to hungarian_forint_suply
				set_variable = {
					name = hungarian_forint_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hungarian_forint_quantity
							multiply = var:hungarian_forint_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_hungarian_forint_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hungarian_forint_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:hungarian_forint_order = 3
				var:hungarian_forint_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_3 #Player country quantity of hungarian_forint buy
					value  = scope:player_country.var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hungarian_forint_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hungarian_forint_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_buy_3 #Player country quantity of hungarian_forint buy
					value  = var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_3
					value = scope:target.var:hungarian_forint_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to hungarian_forint_suply
				set_variable = {
					name = hungarian_forint_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hungarian_forint_quantity
							multiply = var:hungarian_forint_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_hungarian_forint_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hungarian_forint_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:hungarian_forint_order = 4
				var:hungarian_forint_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_4 #Player country quantity of hungarian_forint buy
					value  = scope:player_country.var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hungarian_forint_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hungarian_forint_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_buy_4 #Player country quantity of hungarian_forint buy
					value  = var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_4
					value = scope:target.var:hungarian_forint_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to hungarian_forint_suply
				set_variable = {
					name = hungarian_forint_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hungarian_forint_quantity
							multiply = var:hungarian_forint_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_hungarian_forint_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hungarian_forint_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:hungarian_forint_order = 5
				var:hungarian_forint_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_5 #Player country quantity of hungarian_forint buy
					value  = scope:player_country.var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hungarian_forint_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hungarian_forint_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_buy_5 #Player country quantity of hungarian_forint buy
					value  = var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_5
					value = scope:target.var:hungarian_forint_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to hungarian_forint_suply
				set_variable = {
					name = hungarian_forint_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hungarian_forint_quantity
							multiply = var:hungarian_forint_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_hungarian_forint_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hungarian_forint_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:hungarian_forint_order >= 5
			}
			set_variable = {
				name = hungarian_forint_order
				#Player country quantity of hungarian_forint buy
				value  = 0
			}
		}
	}
}
sell_hungarian_forint_market_panel = {
	is_shown = {
		var:hungarian_forint_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = hungarian_forint_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:hungarian_forint_order = 1
				var:hungarian_forint_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_1 #Player country quantity of hungarian_forint sell
					value  = scope:player_country.var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hungarian_forint_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hungarian_forint_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_1 #Player country quantity of hungarian_forint sell
					value  = var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_1
					value = scope:target.var:hungarian_forint_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to hungarian_forint_suply
				set_variable = {
					name = hungarian_forint_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hungarian_forint_quantity
							multiply = var:hungarian_forint_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_hungarian_forint_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hungarian_forint_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:hungarian_forint_order = 2
				var:hungarian_forint_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_2 #Player country quantity of hungarian_forint sell
					value  = scope:player_country.var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hungarian_forint_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hungarian_forint_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_2 #Player country quantity of hungarian_forint sell
					value  = var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_2
					value = scope:target.var:hungarian_forint_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to hungarian_forint_suply
				set_variable = {
					name = hungarian_forint_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hungarian_forint_quantity
							multiply = var:hungarian_forint_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_hungarian_forint_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hungarian_forint_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:hungarian_forint_order = 3
				var:hungarian_forint_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_3 #Player country quantity of hungarian_forint sell
					value  = scope:player_country.var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hungarian_forint_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hungarian_forint_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_3 #Player country quantity of hungarian_forint sell
					value  = var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_3
					value = scope:target.var:hungarian_forint_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to hungarian_forint_suply
				set_variable = {
					name = hungarian_forint_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hungarian_forint_quantity
							multiply = var:hungarian_forint_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_hungarian_forint_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hungarian_forint_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:hungarian_forint_order = 4
				var:hungarian_forint_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_4 #Player country quantity of hungarian_forint sell
					value  = scope:player_country.var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hungarian_forint_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hungarian_forint_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_4 #Player country quantity of hungarian_forint sell
					value  = var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_4
					value = scope:target.var:hungarian_forint_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to hungarian_forint_suply
				set_variable = {
					name = hungarian_forint_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hungarian_forint_quantity
							multiply = var:hungarian_forint_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_hungarian_forint_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hungarian_forint_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:hungarian_forint_order = 5
				var:hungarian_forint_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_5 #Player country quantity of hungarian_forint sell
					value  = scope:player_country.var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = hungarian_forint_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:hungarian_forint_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = hungarian_forint_sell_5 #Player country quantity of hungarian_forint sell
					value  = var:hungarian_forint_quantity
				}

				#exchange rate
				set_variable = {
					name = hungarian_forint_to_player_currency_exchange_rate_5
					value = scope:target.var:hungarian_forint_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to hungarian_forint_suply
				set_variable = {
					name = hungarian_forint_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:hungarian_forint_quantity
							multiply = var:hungarian_forint_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_hungarian_forint_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_hungarian_forint_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:hungarian_forint_order >= 5
			}
			set_variable = {
				name = hungarian_forint_order
				#Player country quantity of hungarian_forint sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_hungarian_forint_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:hungarian_forint_quantity < stockpiling_hungarian_forint_state
		player.central_bank_gold_reserves_state > buy_hungarian_forint_in_gold_market_panel
	}
}
sell_hungarian_forint_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:hungarian_forint_quantity < player.stockpiling_hungarian_forint_state
		central_bank_gold_reserves_state > sell_hungarian_forint_in_gold_market_panel
	}
}
hungarian_forint_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_hungarian_forint_state_1
					add = scope:player_country.var:hungarian_forint_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:hungarian_forint_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_hungarian_forint_state_1
						subtract = owner.var:hungarian_forint_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:hungarian_forint_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
hungarian_forint_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_hungarian_forint_state_1
					subtract = scope:player_country.var:hungarian_forint_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:hungarian_forint_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_hungarian_forint_state_1
						add = owner.var:hungarian_forint_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:hungarian_forint_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#icelandic_krona
icelandic_krona_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = icelandic_krona_quantity
				#var:icelandic_krona_quantity < market.owner.stockpiling_icelandic_krona_state
				var:icelandic_krona_quantity < sell_limit_currency_var_rest
				var:icelandic_krona_quantity < 20000000
			}
			change_variable = {
				name = icelandic_krona_quantity
				add = 5000000
			}
		}
	}
}
icelandic_krona_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = icelandic_krona_quantity
				var:icelandic_krona_quantity > 5000000
			}
			change_variable = {
				name = icelandic_krona_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_icelandic_krona_market_panel_enabled = {
	is_valid = {
		stockpiling_icelandic_krona_state > player.var:icelandic_krona_quantity

		money_supply_verification_icelandic_krona < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:icelandic_krona_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_icelandic_krona_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_icelandic_krona_market_panel_enabled = {
	is_valid = {
		stockpiling_icelandic_krona_state > player.var:icelandic_krona_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_icelandic_krona_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_icelandic_krona_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_icelandic_krona_market_panel_verification_current = 1

	}
}
buy_icelandic_krona_market_panel = {
	is_shown = {
		var:icelandic_krona_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = icelandic_krona_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:icelandic_krona_order = 1
				var:icelandic_krona_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_1 #Player country quantity of icelandic_krona buy
					value  = scope:player_country.var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = icelandic_krona_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:icelandic_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_buy_1 #Player country quantity of icelandic_krona buy
					value  = var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_1
					value = scope:target.var:icelandic_krona_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to icelandic_krona_suply
				set_variable = {
					name = icelandic_krona_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:icelandic_krona_quantity
							multiply = var:icelandic_krona_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_icelandic_krona_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_icelandic_krona_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:icelandic_krona_order = 2
				var:icelandic_krona_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_2 #Player country quantity of icelandic_krona buy
					value  = scope:player_country.var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = icelandic_krona_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:icelandic_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_buy_2 #Player country quantity of icelandic_krona buy
					value  = var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_2
					value = scope:target.var:icelandic_krona_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to icelandic_krona_suply
				set_variable = {
					name = icelandic_krona_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:icelandic_krona_quantity
							multiply = var:icelandic_krona_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_icelandic_krona_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_icelandic_krona_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:icelandic_krona_order = 3
				var:icelandic_krona_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_3 #Player country quantity of icelandic_krona buy
					value  = scope:player_country.var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = icelandic_krona_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:icelandic_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_buy_3 #Player country quantity of icelandic_krona buy
					value  = var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_3
					value = scope:target.var:icelandic_krona_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to icelandic_krona_suply
				set_variable = {
					name = icelandic_krona_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:icelandic_krona_quantity
							multiply = var:icelandic_krona_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_icelandic_krona_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_icelandic_krona_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:icelandic_krona_order = 4
				var:icelandic_krona_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_4 #Player country quantity of icelandic_krona buy
					value  = scope:player_country.var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = icelandic_krona_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:icelandic_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_buy_4 #Player country quantity of icelandic_krona buy
					value  = var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_4
					value = scope:target.var:icelandic_krona_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to icelandic_krona_suply
				set_variable = {
					name = icelandic_krona_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:icelandic_krona_quantity
							multiply = var:icelandic_krona_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_icelandic_krona_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_icelandic_krona_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:icelandic_krona_order = 5
				var:icelandic_krona_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_5 #Player country quantity of icelandic_krona buy
					value  = scope:player_country.var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = icelandic_krona_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:icelandic_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_buy_5 #Player country quantity of icelandic_krona buy
					value  = var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_5
					value = scope:target.var:icelandic_krona_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to icelandic_krona_suply
				set_variable = {
					name = icelandic_krona_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:icelandic_krona_quantity
							multiply = var:icelandic_krona_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_icelandic_krona_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_icelandic_krona_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:icelandic_krona_order >= 5
			}
			set_variable = {
				name = icelandic_krona_order
				#Player country quantity of icelandic_krona buy
				value  = 0
			}
		}
	}
}
sell_icelandic_krona_market_panel = {
	is_shown = {
		var:icelandic_krona_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = icelandic_krona_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:icelandic_krona_order = 1
				var:icelandic_krona_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_1 #Player country quantity of icelandic_krona sell
					value  = scope:player_country.var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = icelandic_krona_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:icelandic_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_1 #Player country quantity of icelandic_krona sell
					value  = var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_1
					value = scope:target.var:icelandic_krona_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to icelandic_krona_suply
				set_variable = {
					name = icelandic_krona_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:icelandic_krona_quantity
							multiply = var:icelandic_krona_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_icelandic_krona_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_icelandic_krona_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:icelandic_krona_order = 2
				var:icelandic_krona_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_2 #Player country quantity of icelandic_krona sell
					value  = scope:player_country.var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = icelandic_krona_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:icelandic_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_2 #Player country quantity of icelandic_krona sell
					value  = var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_2
					value = scope:target.var:icelandic_krona_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to icelandic_krona_suply
				set_variable = {
					name = icelandic_krona_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:icelandic_krona_quantity
							multiply = var:icelandic_krona_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_icelandic_krona_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_icelandic_krona_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:icelandic_krona_order = 3
				var:icelandic_krona_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_3 #Player country quantity of icelandic_krona sell
					value  = scope:player_country.var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = icelandic_krona_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:icelandic_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_3 #Player country quantity of icelandic_krona sell
					value  = var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_3
					value = scope:target.var:icelandic_krona_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to icelandic_krona_suply
				set_variable = {
					name = icelandic_krona_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:icelandic_krona_quantity
							multiply = var:icelandic_krona_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_icelandic_krona_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_icelandic_krona_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:icelandic_krona_order = 4
				var:icelandic_krona_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_4 #Player country quantity of icelandic_krona sell
					value  = scope:player_country.var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = icelandic_krona_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:icelandic_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_4 #Player country quantity of icelandic_krona sell
					value  = var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_4
					value = scope:target.var:icelandic_krona_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to icelandic_krona_suply
				set_variable = {
					name = icelandic_krona_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:icelandic_krona_quantity
							multiply = var:icelandic_krona_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_icelandic_krona_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_icelandic_krona_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:icelandic_krona_order = 5
				var:icelandic_krona_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_5 #Player country quantity of icelandic_krona sell
					value  = scope:player_country.var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = icelandic_krona_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:icelandic_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = icelandic_krona_sell_5 #Player country quantity of icelandic_krona sell
					value  = var:icelandic_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = icelandic_krona_to_player_currency_exchange_rate_5
					value = scope:target.var:icelandic_krona_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to icelandic_krona_suply
				set_variable = {
					name = icelandic_krona_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:icelandic_krona_quantity
							multiply = var:icelandic_krona_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_icelandic_krona_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_icelandic_krona_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:icelandic_krona_order >= 5
			}
			set_variable = {
				name = icelandic_krona_order
				#Player country quantity of icelandic_krona sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_icelandic_krona_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:icelandic_krona_quantity < stockpiling_icelandic_krona_state
		player.central_bank_gold_reserves_state > buy_icelandic_krona_in_gold_market_panel
	}
}
sell_icelandic_krona_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:icelandic_krona_quantity < player.stockpiling_icelandic_krona_state
		central_bank_gold_reserves_state > sell_icelandic_krona_in_gold_market_panel
	}
}
icelandic_krona_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_icelandic_krona_state_1
					add = scope:player_country.var:icelandic_krona_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:icelandic_krona_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_icelandic_krona_state_1
						subtract = owner.var:icelandic_krona_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:icelandic_krona_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
icelandic_krona_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_icelandic_krona_state_1
					subtract = scope:player_country.var:icelandic_krona_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:icelandic_krona_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_icelandic_krona_state_1
						add = owner.var:icelandic_krona_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:icelandic_krona_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#indian_rupee
indian_rupee_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = indian_rupee_quantity
				#var:indian_rupee_quantity < market.owner.stockpiling_indian_rupee_state
				var:indian_rupee_quantity < sell_limit_currency_var_rest
				var:indian_rupee_quantity < 20000000
			}
			change_variable = {
				name = indian_rupee_quantity
				add = 5000000
			}
		}
	}
}
indian_rupee_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = indian_rupee_quantity
				var:indian_rupee_quantity > 5000000
			}
			change_variable = {
				name = indian_rupee_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_indian_rupee_market_panel_enabled = {
	is_valid = {
		stockpiling_indian_rupee_state > player.var:indian_rupee_quantity

		money_supply_verification_indian_rupee < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:indian_rupee_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_indian_rupee_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_indian_rupee_market_panel_enabled = {
	is_valid = {
		stockpiling_indian_rupee_state > player.var:indian_rupee_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_indian_rupee_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_indian_rupee_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_indian_rupee_market_panel_verification_current = 1

	}
}
buy_indian_rupee_market_panel = {
	is_shown = {
		var:indian_rupee_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = indian_rupee_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:indian_rupee_order = 1
				var:indian_rupee_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_1 #Player country quantity of indian_rupee buy
					value  = scope:player_country.var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indian_rupee_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indian_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_buy_1 #Player country quantity of indian_rupee buy
					value  = var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_1
					value = scope:target.var:indian_rupee_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to indian_rupee_suply
				set_variable = {
					name = indian_rupee_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indian_rupee_quantity
							multiply = var:indian_rupee_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_indian_rupee_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indian_rupee_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:indian_rupee_order = 2
				var:indian_rupee_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_2 #Player country quantity of indian_rupee buy
					value  = scope:player_country.var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indian_rupee_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indian_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_buy_2 #Player country quantity of indian_rupee buy
					value  = var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_2
					value = scope:target.var:indian_rupee_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to indian_rupee_suply
				set_variable = {
					name = indian_rupee_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indian_rupee_quantity
							multiply = var:indian_rupee_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_indian_rupee_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indian_rupee_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:indian_rupee_order = 3
				var:indian_rupee_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_3 #Player country quantity of indian_rupee buy
					value  = scope:player_country.var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indian_rupee_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indian_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_buy_3 #Player country quantity of indian_rupee buy
					value  = var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_3
					value = scope:target.var:indian_rupee_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to indian_rupee_suply
				set_variable = {
					name = indian_rupee_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indian_rupee_quantity
							multiply = var:indian_rupee_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_indian_rupee_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indian_rupee_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:indian_rupee_order = 4
				var:indian_rupee_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_4 #Player country quantity of indian_rupee buy
					value  = scope:player_country.var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indian_rupee_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indian_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_buy_4 #Player country quantity of indian_rupee buy
					value  = var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_4
					value = scope:target.var:indian_rupee_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to indian_rupee_suply
				set_variable = {
					name = indian_rupee_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indian_rupee_quantity
							multiply = var:indian_rupee_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_indian_rupee_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indian_rupee_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:indian_rupee_order = 5
				var:indian_rupee_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_5 #Player country quantity of indian_rupee buy
					value  = scope:player_country.var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indian_rupee_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indian_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_buy_5 #Player country quantity of indian_rupee buy
					value  = var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_5
					value = scope:target.var:indian_rupee_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to indian_rupee_suply
				set_variable = {
					name = indian_rupee_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indian_rupee_quantity
							multiply = var:indian_rupee_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_indian_rupee_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indian_rupee_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:indian_rupee_order >= 5
			}
			set_variable = {
				name = indian_rupee_order
				#Player country quantity of indian_rupee buy
				value  = 0
			}
		}
	}
}
sell_indian_rupee_market_panel = {
	is_shown = {
		var:indian_rupee_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = indian_rupee_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:indian_rupee_order = 1
				var:indian_rupee_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_1 #Player country quantity of indian_rupee sell
					value  = scope:player_country.var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indian_rupee_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indian_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_1 #Player country quantity of indian_rupee sell
					value  = var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_1
					value = scope:target.var:indian_rupee_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to indian_rupee_suply
				set_variable = {
					name = indian_rupee_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indian_rupee_quantity
							multiply = var:indian_rupee_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_indian_rupee_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indian_rupee_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:indian_rupee_order = 2
				var:indian_rupee_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_2 #Player country quantity of indian_rupee sell
					value  = scope:player_country.var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indian_rupee_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indian_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_2 #Player country quantity of indian_rupee sell
					value  = var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_2
					value = scope:target.var:indian_rupee_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to indian_rupee_suply
				set_variable = {
					name = indian_rupee_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indian_rupee_quantity
							multiply = var:indian_rupee_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_indian_rupee_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indian_rupee_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:indian_rupee_order = 3
				var:indian_rupee_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_3 #Player country quantity of indian_rupee sell
					value  = scope:player_country.var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indian_rupee_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indian_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_3 #Player country quantity of indian_rupee sell
					value  = var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_3
					value = scope:target.var:indian_rupee_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to indian_rupee_suply
				set_variable = {
					name = indian_rupee_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indian_rupee_quantity
							multiply = var:indian_rupee_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_indian_rupee_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indian_rupee_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:indian_rupee_order = 4
				var:indian_rupee_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_4 #Player country quantity of indian_rupee sell
					value  = scope:player_country.var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indian_rupee_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indian_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_4 #Player country quantity of indian_rupee sell
					value  = var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_4
					value = scope:target.var:indian_rupee_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to indian_rupee_suply
				set_variable = {
					name = indian_rupee_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indian_rupee_quantity
							multiply = var:indian_rupee_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_indian_rupee_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indian_rupee_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:indian_rupee_order = 5
				var:indian_rupee_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_5 #Player country quantity of indian_rupee sell
					value  = scope:player_country.var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indian_rupee_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indian_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indian_rupee_sell_5 #Player country quantity of indian_rupee sell
					value  = var:indian_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = indian_rupee_to_player_currency_exchange_rate_5
					value = scope:target.var:indian_rupee_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to indian_rupee_suply
				set_variable = {
					name = indian_rupee_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indian_rupee_quantity
							multiply = var:indian_rupee_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_indian_rupee_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indian_rupee_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:indian_rupee_order >= 5
			}
			set_variable = {
				name = indian_rupee_order
				#Player country quantity of indian_rupee sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_indian_rupee_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:indian_rupee_quantity < stockpiling_indian_rupee_state
		player.central_bank_gold_reserves_state > buy_indian_rupee_in_gold_market_panel
	}
}
sell_indian_rupee_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:indian_rupee_quantity < player.stockpiling_indian_rupee_state
		central_bank_gold_reserves_state > sell_indian_rupee_in_gold_market_panel
	}
}
indian_rupee_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_indian_rupee_state_1
					add = scope:player_country.var:indian_rupee_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:indian_rupee_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_indian_rupee_state_1
						subtract = owner.var:indian_rupee_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:indian_rupee_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
indian_rupee_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_indian_rupee_state_1
					subtract = scope:player_country.var:indian_rupee_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:indian_rupee_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_indian_rupee_state_1
						add = owner.var:indian_rupee_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:indian_rupee_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#indies_guilder
indies_guilder_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = indies_guilder_quantity
				#var:indies_guilder_quantity < market.owner.stockpiling_indies_guilder_state
				var:indies_guilder_quantity < sell_limit_currency_var_rest
				var:indies_guilder_quantity < 20000000
			}
			change_variable = {
				name = indies_guilder_quantity
				add = 5000000
			}
		}
	}
}
indies_guilder_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = indies_guilder_quantity
				var:indies_guilder_quantity > 5000000
			}
			change_variable = {
				name = indies_guilder_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_indies_guilder_market_panel_enabled = {
	is_valid = {
		stockpiling_indies_guilder_state > player.var:indies_guilder_quantity

		money_supply_verification_indies_guilder < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:indies_guilder_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_indies_guilder_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_indies_guilder_market_panel_enabled = {
	is_valid = {
		stockpiling_indies_guilder_state > player.var:indies_guilder_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_indies_guilder_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_indies_guilder_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_indies_guilder_market_panel_verification_current = 1

	}
}
buy_indies_guilder_market_panel = {
	is_shown = {
		var:indies_guilder_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = indies_guilder_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:indies_guilder_order = 1
				var:indies_guilder_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_1 #Player country quantity of indies_guilder buy
					value  = scope:player_country.var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indies_guilder_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indies_guilder_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_buy_1 #Player country quantity of indies_guilder buy
					value  = var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_1
					value = scope:target.var:indies_guilder_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to indies_guilder_suply
				set_variable = {
					name = indies_guilder_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indies_guilder_quantity
							multiply = var:indies_guilder_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_indies_guilder_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indies_guilder_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:indies_guilder_order = 2
				var:indies_guilder_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_2 #Player country quantity of indies_guilder buy
					value  = scope:player_country.var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indies_guilder_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indies_guilder_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_buy_2 #Player country quantity of indies_guilder buy
					value  = var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_2
					value = scope:target.var:indies_guilder_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to indies_guilder_suply
				set_variable = {
					name = indies_guilder_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indies_guilder_quantity
							multiply = var:indies_guilder_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_indies_guilder_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indies_guilder_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:indies_guilder_order = 3
				var:indies_guilder_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_3 #Player country quantity of indies_guilder buy
					value  = scope:player_country.var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indies_guilder_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indies_guilder_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_buy_3 #Player country quantity of indies_guilder buy
					value  = var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_3
					value = scope:target.var:indies_guilder_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to indies_guilder_suply
				set_variable = {
					name = indies_guilder_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indies_guilder_quantity
							multiply = var:indies_guilder_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_indies_guilder_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indies_guilder_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:indies_guilder_order = 4
				var:indies_guilder_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_4 #Player country quantity of indies_guilder buy
					value  = scope:player_country.var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indies_guilder_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indies_guilder_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_buy_4 #Player country quantity of indies_guilder buy
					value  = var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_4
					value = scope:target.var:indies_guilder_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to indies_guilder_suply
				set_variable = {
					name = indies_guilder_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indies_guilder_quantity
							multiply = var:indies_guilder_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_indies_guilder_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indies_guilder_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:indies_guilder_order = 5
				var:indies_guilder_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_5 #Player country quantity of indies_guilder buy
					value  = scope:player_country.var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indies_guilder_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indies_guilder_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_buy_5 #Player country quantity of indies_guilder buy
					value  = var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_5
					value = scope:target.var:indies_guilder_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to indies_guilder_suply
				set_variable = {
					name = indies_guilder_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indies_guilder_quantity
							multiply = var:indies_guilder_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_indies_guilder_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indies_guilder_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:indies_guilder_order >= 5
			}
			set_variable = {
				name = indies_guilder_order
				#Player country quantity of indies_guilder buy
				value  = 0
			}
		}
	}
}
sell_indies_guilder_market_panel = {
	is_shown = {
		var:indies_guilder_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = indies_guilder_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:indies_guilder_order = 1
				var:indies_guilder_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_1 #Player country quantity of indies_guilder sell
					value  = scope:player_country.var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indies_guilder_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indies_guilder_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_1 #Player country quantity of indies_guilder sell
					value  = var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_1
					value = scope:target.var:indies_guilder_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to indies_guilder_suply
				set_variable = {
					name = indies_guilder_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indies_guilder_quantity
							multiply = var:indies_guilder_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_indies_guilder_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indies_guilder_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:indies_guilder_order = 2
				var:indies_guilder_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_2 #Player country quantity of indies_guilder sell
					value  = scope:player_country.var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indies_guilder_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indies_guilder_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_2 #Player country quantity of indies_guilder sell
					value  = var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_2
					value = scope:target.var:indies_guilder_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to indies_guilder_suply
				set_variable = {
					name = indies_guilder_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indies_guilder_quantity
							multiply = var:indies_guilder_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_indies_guilder_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indies_guilder_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:indies_guilder_order = 3
				var:indies_guilder_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_3 #Player country quantity of indies_guilder sell
					value  = scope:player_country.var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indies_guilder_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indies_guilder_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_3 #Player country quantity of indies_guilder sell
					value  = var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_3
					value = scope:target.var:indies_guilder_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to indies_guilder_suply
				set_variable = {
					name = indies_guilder_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indies_guilder_quantity
							multiply = var:indies_guilder_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_indies_guilder_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indies_guilder_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:indies_guilder_order = 4
				var:indies_guilder_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_4 #Player country quantity of indies_guilder sell
					value  = scope:player_country.var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indies_guilder_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indies_guilder_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_4 #Player country quantity of indies_guilder sell
					value  = var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_4
					value = scope:target.var:indies_guilder_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to indies_guilder_suply
				set_variable = {
					name = indies_guilder_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indies_guilder_quantity
							multiply = var:indies_guilder_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_indies_guilder_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indies_guilder_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:indies_guilder_order = 5
				var:indies_guilder_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_5 #Player country quantity of indies_guilder sell
					value  = scope:player_country.var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indies_guilder_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indies_guilder_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indies_guilder_sell_5 #Player country quantity of indies_guilder sell
					value  = var:indies_guilder_quantity
				}

				#exchange rate
				set_variable = {
					name = indies_guilder_to_player_currency_exchange_rate_5
					value = scope:target.var:indies_guilder_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to indies_guilder_suply
				set_variable = {
					name = indies_guilder_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indies_guilder_quantity
							multiply = var:indies_guilder_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_indies_guilder_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indies_guilder_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:indies_guilder_order >= 5
			}
			set_variable = {
				name = indies_guilder_order
				#Player country quantity of indies_guilder sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_indies_guilder_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:indies_guilder_quantity < stockpiling_indies_guilder_state
		player.central_bank_gold_reserves_state > buy_indies_guilder_in_gold_market_panel
	}
}
sell_indies_guilder_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:indies_guilder_quantity < player.stockpiling_indies_guilder_state
		central_bank_gold_reserves_state > sell_indies_guilder_in_gold_market_panel
	}
}
indies_guilder_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_indies_guilder_state_1
					add = scope:player_country.var:indies_guilder_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:indies_guilder_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_indies_guilder_state_1
						subtract = owner.var:indies_guilder_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:indies_guilder_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
indies_guilder_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_indies_guilder_state_1
					subtract = scope:player_country.var:indies_guilder_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:indies_guilder_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_indies_guilder_state_1
						add = owner.var:indies_guilder_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:indies_guilder_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#indonesian_rupiah
indonesian_rupiah_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = indonesian_rupiah_quantity
				#var:indonesian_rupiah_quantity < market.owner.stockpiling_indonesian_rupiah_state
				var:indonesian_rupiah_quantity < sell_limit_currency_var_rest
				var:indonesian_rupiah_quantity < 20000000
			}
			change_variable = {
				name = indonesian_rupiah_quantity
				add = 5000000
			}
		}
	}
}
indonesian_rupiah_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = indonesian_rupiah_quantity
				var:indonesian_rupiah_quantity > 5000000
			}
			change_variable = {
				name = indonesian_rupiah_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_indonesian_rupiah_market_panel_enabled = {
	is_valid = {
		stockpiling_indonesian_rupiah_state > player.var:indonesian_rupiah_quantity

		money_supply_verification_indonesian_rupiah < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:indonesian_rupiah_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_indonesian_rupiah_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_indonesian_rupiah_market_panel_enabled = {
	is_valid = {
		stockpiling_indonesian_rupiah_state > player.var:indonesian_rupiah_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_indonesian_rupiah_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_indonesian_rupiah_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_indonesian_rupiah_market_panel_verification_current = 1

	}
}
buy_indonesian_rupiah_market_panel = {
	is_shown = {
		var:indonesian_rupiah_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = indonesian_rupiah_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:indonesian_rupiah_order = 1
				var:indonesian_rupiah_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_1 #Player country quantity of indonesian_rupiah buy
					value  = scope:player_country.var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indonesian_rupiah_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indonesian_rupiah_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_buy_1 #Player country quantity of indonesian_rupiah buy
					value  = var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_1
					value = scope:target.var:indonesian_rupiah_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to indonesian_rupiah_suply
				set_variable = {
					name = indonesian_rupiah_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indonesian_rupiah_quantity
							multiply = var:indonesian_rupiah_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_indonesian_rupiah_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indonesian_rupiah_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:indonesian_rupiah_order = 2
				var:indonesian_rupiah_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_2 #Player country quantity of indonesian_rupiah buy
					value  = scope:player_country.var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indonesian_rupiah_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indonesian_rupiah_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_buy_2 #Player country quantity of indonesian_rupiah buy
					value  = var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_2
					value = scope:target.var:indonesian_rupiah_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to indonesian_rupiah_suply
				set_variable = {
					name = indonesian_rupiah_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indonesian_rupiah_quantity
							multiply = var:indonesian_rupiah_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_indonesian_rupiah_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indonesian_rupiah_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:indonesian_rupiah_order = 3
				var:indonesian_rupiah_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_3 #Player country quantity of indonesian_rupiah buy
					value  = scope:player_country.var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indonesian_rupiah_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indonesian_rupiah_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_buy_3 #Player country quantity of indonesian_rupiah buy
					value  = var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_3
					value = scope:target.var:indonesian_rupiah_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to indonesian_rupiah_suply
				set_variable = {
					name = indonesian_rupiah_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indonesian_rupiah_quantity
							multiply = var:indonesian_rupiah_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_indonesian_rupiah_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indonesian_rupiah_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:indonesian_rupiah_order = 4
				var:indonesian_rupiah_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_4 #Player country quantity of indonesian_rupiah buy
					value  = scope:player_country.var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indonesian_rupiah_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indonesian_rupiah_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_buy_4 #Player country quantity of indonesian_rupiah buy
					value  = var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_4
					value = scope:target.var:indonesian_rupiah_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to indonesian_rupiah_suply
				set_variable = {
					name = indonesian_rupiah_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indonesian_rupiah_quantity
							multiply = var:indonesian_rupiah_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_indonesian_rupiah_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indonesian_rupiah_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:indonesian_rupiah_order = 5
				var:indonesian_rupiah_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_5 #Player country quantity of indonesian_rupiah buy
					value  = scope:player_country.var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indonesian_rupiah_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indonesian_rupiah_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_buy_5 #Player country quantity of indonesian_rupiah buy
					value  = var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_5
					value = scope:target.var:indonesian_rupiah_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to indonesian_rupiah_suply
				set_variable = {
					name = indonesian_rupiah_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indonesian_rupiah_quantity
							multiply = var:indonesian_rupiah_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_indonesian_rupiah_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indonesian_rupiah_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:indonesian_rupiah_order >= 5
			}
			set_variable = {
				name = indonesian_rupiah_order
				#Player country quantity of indonesian_rupiah buy
				value  = 0
			}
		}
	}
}
sell_indonesian_rupiah_market_panel = {
	is_shown = {
		var:indonesian_rupiah_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = indonesian_rupiah_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:indonesian_rupiah_order = 1
				var:indonesian_rupiah_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_1 #Player country quantity of indonesian_rupiah sell
					value  = scope:player_country.var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indonesian_rupiah_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indonesian_rupiah_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_1 #Player country quantity of indonesian_rupiah sell
					value  = var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_1
					value = scope:target.var:indonesian_rupiah_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to indonesian_rupiah_suply
				set_variable = {
					name = indonesian_rupiah_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indonesian_rupiah_quantity
							multiply = var:indonesian_rupiah_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_indonesian_rupiah_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indonesian_rupiah_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:indonesian_rupiah_order = 2
				var:indonesian_rupiah_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_2 #Player country quantity of indonesian_rupiah sell
					value  = scope:player_country.var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indonesian_rupiah_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indonesian_rupiah_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_2 #Player country quantity of indonesian_rupiah sell
					value  = var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_2
					value = scope:target.var:indonesian_rupiah_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to indonesian_rupiah_suply
				set_variable = {
					name = indonesian_rupiah_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indonesian_rupiah_quantity
							multiply = var:indonesian_rupiah_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_indonesian_rupiah_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indonesian_rupiah_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:indonesian_rupiah_order = 3
				var:indonesian_rupiah_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_3 #Player country quantity of indonesian_rupiah sell
					value  = scope:player_country.var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indonesian_rupiah_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indonesian_rupiah_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_3 #Player country quantity of indonesian_rupiah sell
					value  = var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_3
					value = scope:target.var:indonesian_rupiah_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to indonesian_rupiah_suply
				set_variable = {
					name = indonesian_rupiah_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indonesian_rupiah_quantity
							multiply = var:indonesian_rupiah_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_indonesian_rupiah_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indonesian_rupiah_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:indonesian_rupiah_order = 4
				var:indonesian_rupiah_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_4 #Player country quantity of indonesian_rupiah sell
					value  = scope:player_country.var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indonesian_rupiah_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indonesian_rupiah_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_4 #Player country quantity of indonesian_rupiah sell
					value  = var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_4
					value = scope:target.var:indonesian_rupiah_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to indonesian_rupiah_suply
				set_variable = {
					name = indonesian_rupiah_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indonesian_rupiah_quantity
							multiply = var:indonesian_rupiah_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_indonesian_rupiah_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indonesian_rupiah_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:indonesian_rupiah_order = 5
				var:indonesian_rupiah_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_5 #Player country quantity of indonesian_rupiah sell
					value  = scope:player_country.var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = indonesian_rupiah_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:indonesian_rupiah_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = indonesian_rupiah_sell_5 #Player country quantity of indonesian_rupiah sell
					value  = var:indonesian_rupiah_quantity
				}

				#exchange rate
				set_variable = {
					name = indonesian_rupiah_to_player_currency_exchange_rate_5
					value = scope:target.var:indonesian_rupiah_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to indonesian_rupiah_suply
				set_variable = {
					name = indonesian_rupiah_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:indonesian_rupiah_quantity
							multiply = var:indonesian_rupiah_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_indonesian_rupiah_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_indonesian_rupiah_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:indonesian_rupiah_order >= 5
			}
			set_variable = {
				name = indonesian_rupiah_order
				#Player country quantity of indonesian_rupiah sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_indonesian_rupiah_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:indonesian_rupiah_quantity < stockpiling_indonesian_rupiah_state
		player.central_bank_gold_reserves_state > buy_indonesian_rupiah_in_gold_market_panel
	}
}
sell_indonesian_rupiah_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:indonesian_rupiah_quantity < player.stockpiling_indonesian_rupiah_state
		central_bank_gold_reserves_state > sell_indonesian_rupiah_in_gold_market_panel
	}
}
indonesian_rupiah_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_indonesian_rupiah_state_1
					add = scope:player_country.var:indonesian_rupiah_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:indonesian_rupiah_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_indonesian_rupiah_state_1
						subtract = owner.var:indonesian_rupiah_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:indonesian_rupiah_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
indonesian_rupiah_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_indonesian_rupiah_state_1
					subtract = scope:player_country.var:indonesian_rupiah_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:indonesian_rupiah_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_indonesian_rupiah_state_1
						add = owner.var:indonesian_rupiah_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:indonesian_rupiah_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#iraqi_dinar
iraqi_dinar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = iraqi_dinar_quantity
				#var:iraqi_dinar_quantity < market.owner.stockpiling_iraqi_dinar_state
				var:iraqi_dinar_quantity < sell_limit_currency_var_rest
				var:iraqi_dinar_quantity < 20000000
			}
			change_variable = {
				name = iraqi_dinar_quantity
				add = 5000000
			}
		}
	}
}
iraqi_dinar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = iraqi_dinar_quantity
				var:iraqi_dinar_quantity > 5000000
			}
			change_variable = {
				name = iraqi_dinar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_iraqi_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_iraqi_dinar_state > player.var:iraqi_dinar_quantity

		money_supply_verification_iraqi_dinar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:iraqi_dinar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_iraqi_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_iraqi_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_iraqi_dinar_state > player.var:iraqi_dinar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_iraqi_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_iraqi_dinar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_iraqi_dinar_market_panel_verification_current = 1

	}
}
buy_iraqi_dinar_market_panel = {
	is_shown = {
		var:iraqi_dinar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = iraqi_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:iraqi_dinar_order = 1
				var:iraqi_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_1 #Player country quantity of iraqi_dinar buy
					value  = scope:player_country.var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = iraqi_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:iraqi_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_buy_1 #Player country quantity of iraqi_dinar buy
					value  = var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:iraqi_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to iraqi_dinar_suply
				set_variable = {
					name = iraqi_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:iraqi_dinar_quantity
							multiply = var:iraqi_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_iraqi_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_iraqi_dinar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:iraqi_dinar_order = 2
				var:iraqi_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_2 #Player country quantity of iraqi_dinar buy
					value  = scope:player_country.var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = iraqi_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:iraqi_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_buy_2 #Player country quantity of iraqi_dinar buy
					value  = var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:iraqi_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to iraqi_dinar_suply
				set_variable = {
					name = iraqi_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:iraqi_dinar_quantity
							multiply = var:iraqi_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_iraqi_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_iraqi_dinar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:iraqi_dinar_order = 3
				var:iraqi_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_3 #Player country quantity of iraqi_dinar buy
					value  = scope:player_country.var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = iraqi_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:iraqi_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_buy_3 #Player country quantity of iraqi_dinar buy
					value  = var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:iraqi_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to iraqi_dinar_suply
				set_variable = {
					name = iraqi_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:iraqi_dinar_quantity
							multiply = var:iraqi_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_iraqi_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_iraqi_dinar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:iraqi_dinar_order = 4
				var:iraqi_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_4 #Player country quantity of iraqi_dinar buy
					value  = scope:player_country.var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = iraqi_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:iraqi_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_buy_4 #Player country quantity of iraqi_dinar buy
					value  = var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:iraqi_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to iraqi_dinar_suply
				set_variable = {
					name = iraqi_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:iraqi_dinar_quantity
							multiply = var:iraqi_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_iraqi_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_iraqi_dinar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:iraqi_dinar_order = 5
				var:iraqi_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_5 #Player country quantity of iraqi_dinar buy
					value  = scope:player_country.var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = iraqi_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:iraqi_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_buy_5 #Player country quantity of iraqi_dinar buy
					value  = var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:iraqi_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to iraqi_dinar_suply
				set_variable = {
					name = iraqi_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:iraqi_dinar_quantity
							multiply = var:iraqi_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_iraqi_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_iraqi_dinar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:iraqi_dinar_order >= 5
			}
			set_variable = {
				name = iraqi_dinar_order
				#Player country quantity of iraqi_dinar buy
				value  = 0
			}
		}
	}
}
sell_iraqi_dinar_market_panel = {
	is_shown = {
		var:iraqi_dinar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = iraqi_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:iraqi_dinar_order = 1
				var:iraqi_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_1 #Player country quantity of iraqi_dinar sell
					value  = scope:player_country.var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = iraqi_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:iraqi_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_1 #Player country quantity of iraqi_dinar sell
					value  = var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:iraqi_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to iraqi_dinar_suply
				set_variable = {
					name = iraqi_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:iraqi_dinar_quantity
							multiply = var:iraqi_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_iraqi_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_iraqi_dinar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:iraqi_dinar_order = 2
				var:iraqi_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_2 #Player country quantity of iraqi_dinar sell
					value  = scope:player_country.var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = iraqi_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:iraqi_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_2 #Player country quantity of iraqi_dinar sell
					value  = var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:iraqi_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to iraqi_dinar_suply
				set_variable = {
					name = iraqi_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:iraqi_dinar_quantity
							multiply = var:iraqi_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_iraqi_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_iraqi_dinar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:iraqi_dinar_order = 3
				var:iraqi_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_3 #Player country quantity of iraqi_dinar sell
					value  = scope:player_country.var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = iraqi_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:iraqi_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_3 #Player country quantity of iraqi_dinar sell
					value  = var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:iraqi_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to iraqi_dinar_suply
				set_variable = {
					name = iraqi_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:iraqi_dinar_quantity
							multiply = var:iraqi_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_iraqi_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_iraqi_dinar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:iraqi_dinar_order = 4
				var:iraqi_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_4 #Player country quantity of iraqi_dinar sell
					value  = scope:player_country.var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = iraqi_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:iraqi_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_4 #Player country quantity of iraqi_dinar sell
					value  = var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:iraqi_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to iraqi_dinar_suply
				set_variable = {
					name = iraqi_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:iraqi_dinar_quantity
							multiply = var:iraqi_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_iraqi_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_iraqi_dinar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:iraqi_dinar_order = 5
				var:iraqi_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_5 #Player country quantity of iraqi_dinar sell
					value  = scope:player_country.var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = iraqi_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:iraqi_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = iraqi_dinar_sell_5 #Player country quantity of iraqi_dinar sell
					value  = var:iraqi_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = iraqi_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:iraqi_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to iraqi_dinar_suply
				set_variable = {
					name = iraqi_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:iraqi_dinar_quantity
							multiply = var:iraqi_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_iraqi_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_iraqi_dinar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:iraqi_dinar_order >= 5
			}
			set_variable = {
				name = iraqi_dinar_order
				#Player country quantity of iraqi_dinar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_iraqi_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:iraqi_dinar_quantity < stockpiling_iraqi_dinar_state
		player.central_bank_gold_reserves_state > buy_iraqi_dinar_in_gold_market_panel
	}
}
sell_iraqi_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:iraqi_dinar_quantity < player.stockpiling_iraqi_dinar_state
		central_bank_gold_reserves_state > sell_iraqi_dinar_in_gold_market_panel
	}
}
iraqi_dinar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_iraqi_dinar_state_1
					add = scope:player_country.var:iraqi_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:iraqi_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_iraqi_dinar_state_1
						subtract = owner.var:iraqi_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:iraqi_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
iraqi_dinar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_iraqi_dinar_state_1
					subtract = scope:player_country.var:iraqi_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:iraqi_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_iraqi_dinar_state_1
						add = owner.var:iraqi_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:iraqi_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#irish_pound
irish_pound_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = irish_pound_quantity
				#var:irish_pound_quantity < market.owner.stockpiling_irish_pound_state
				var:irish_pound_quantity < sell_limit_currency_var_rest
				var:irish_pound_quantity < 20000000
			}
			change_variable = {
				name = irish_pound_quantity
				add = 5000000
			}
		}
	}
}
irish_pound_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = irish_pound_quantity
				var:irish_pound_quantity > 5000000
			}
			change_variable = {
				name = irish_pound_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_irish_pound_market_panel_enabled = {
	is_valid = {
		stockpiling_irish_pound_state > player.var:irish_pound_quantity

		money_supply_verification_irish_pound < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:irish_pound_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_irish_pound_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_irish_pound_market_panel_enabled = {
	is_valid = {
		stockpiling_irish_pound_state > player.var:irish_pound_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_irish_pound_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_irish_pound_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_irish_pound_market_panel_verification_current = 1

	}
}
buy_irish_pound_market_panel = {
	is_shown = {
		var:irish_pound_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = irish_pound_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:irish_pound_order = 1
				var:irish_pound_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_1 #Player country quantity of irish_pound buy
					value  = scope:player_country.var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = irish_pound_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:irish_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_buy_1 #Player country quantity of irish_pound buy
					value  = var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_1
					value = scope:target.var:irish_pound_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to irish_pound_suply
				set_variable = {
					name = irish_pound_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:irish_pound_quantity
							multiply = var:irish_pound_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_irish_pound_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_irish_pound_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:irish_pound_order = 2
				var:irish_pound_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_2 #Player country quantity of irish_pound buy
					value  = scope:player_country.var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = irish_pound_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:irish_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_buy_2 #Player country quantity of irish_pound buy
					value  = var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_2
					value = scope:target.var:irish_pound_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to irish_pound_suply
				set_variable = {
					name = irish_pound_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:irish_pound_quantity
							multiply = var:irish_pound_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_irish_pound_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_irish_pound_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:irish_pound_order = 3
				var:irish_pound_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_3 #Player country quantity of irish_pound buy
					value  = scope:player_country.var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = irish_pound_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:irish_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_buy_3 #Player country quantity of irish_pound buy
					value  = var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_3
					value = scope:target.var:irish_pound_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to irish_pound_suply
				set_variable = {
					name = irish_pound_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:irish_pound_quantity
							multiply = var:irish_pound_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_irish_pound_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_irish_pound_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:irish_pound_order = 4
				var:irish_pound_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_4 #Player country quantity of irish_pound buy
					value  = scope:player_country.var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = irish_pound_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:irish_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_buy_4 #Player country quantity of irish_pound buy
					value  = var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_4
					value = scope:target.var:irish_pound_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to irish_pound_suply
				set_variable = {
					name = irish_pound_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:irish_pound_quantity
							multiply = var:irish_pound_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_irish_pound_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_irish_pound_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:irish_pound_order = 5
				var:irish_pound_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_5 #Player country quantity of irish_pound buy
					value  = scope:player_country.var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = irish_pound_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:irish_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_buy_5 #Player country quantity of irish_pound buy
					value  = var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_5
					value = scope:target.var:irish_pound_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to irish_pound_suply
				set_variable = {
					name = irish_pound_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:irish_pound_quantity
							multiply = var:irish_pound_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_irish_pound_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_irish_pound_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:irish_pound_order >= 5
			}
			set_variable = {
				name = irish_pound_order
				#Player country quantity of irish_pound buy
				value  = 0
			}
		}
	}
}
sell_irish_pound_market_panel = {
	is_shown = {
		var:irish_pound_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = irish_pound_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:irish_pound_order = 1
				var:irish_pound_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_1 #Player country quantity of irish_pound sell
					value  = scope:player_country.var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = irish_pound_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:irish_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_1 #Player country quantity of irish_pound sell
					value  = var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_1
					value = scope:target.var:irish_pound_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to irish_pound_suply
				set_variable = {
					name = irish_pound_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:irish_pound_quantity
							multiply = var:irish_pound_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_irish_pound_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_irish_pound_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:irish_pound_order = 2
				var:irish_pound_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_2 #Player country quantity of irish_pound sell
					value  = scope:player_country.var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = irish_pound_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:irish_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_2 #Player country quantity of irish_pound sell
					value  = var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_2
					value = scope:target.var:irish_pound_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to irish_pound_suply
				set_variable = {
					name = irish_pound_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:irish_pound_quantity
							multiply = var:irish_pound_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_irish_pound_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_irish_pound_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:irish_pound_order = 3
				var:irish_pound_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_3 #Player country quantity of irish_pound sell
					value  = scope:player_country.var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = irish_pound_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:irish_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_3 #Player country quantity of irish_pound sell
					value  = var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_3
					value = scope:target.var:irish_pound_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to irish_pound_suply
				set_variable = {
					name = irish_pound_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:irish_pound_quantity
							multiply = var:irish_pound_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_irish_pound_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_irish_pound_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:irish_pound_order = 4
				var:irish_pound_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_4 #Player country quantity of irish_pound sell
					value  = scope:player_country.var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = irish_pound_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:irish_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_4 #Player country quantity of irish_pound sell
					value  = var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_4
					value = scope:target.var:irish_pound_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to irish_pound_suply
				set_variable = {
					name = irish_pound_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:irish_pound_quantity
							multiply = var:irish_pound_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_irish_pound_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_irish_pound_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:irish_pound_order = 5
				var:irish_pound_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_5 #Player country quantity of irish_pound sell
					value  = scope:player_country.var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = irish_pound_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:irish_pound_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = irish_pound_sell_5 #Player country quantity of irish_pound sell
					value  = var:irish_pound_quantity
				}

				#exchange rate
				set_variable = {
					name = irish_pound_to_player_currency_exchange_rate_5
					value = scope:target.var:irish_pound_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to irish_pound_suply
				set_variable = {
					name = irish_pound_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:irish_pound_quantity
							multiply = var:irish_pound_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_irish_pound_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_irish_pound_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:irish_pound_order >= 5
			}
			set_variable = {
				name = irish_pound_order
				#Player country quantity of irish_pound sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_irish_pound_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:irish_pound_quantity < stockpiling_irish_pound_state
		player.central_bank_gold_reserves_state > buy_irish_pound_in_gold_market_panel
	}
}
sell_irish_pound_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:irish_pound_quantity < player.stockpiling_irish_pound_state
		central_bank_gold_reserves_state > sell_irish_pound_in_gold_market_panel
	}
}
irish_pound_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_irish_pound_state_1
					add = scope:player_country.var:irish_pound_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:irish_pound_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_irish_pound_state_1
						subtract = owner.var:irish_pound_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:irish_pound_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
irish_pound_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_irish_pound_state_1
					subtract = scope:player_country.var:irish_pound_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:irish_pound_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_irish_pound_state_1
						add = owner.var:irish_pound_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:irish_pound_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#jordanian_dinar
jordanian_dinar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = jordanian_dinar_quantity
				#var:jordanian_dinar_quantity < market.owner.stockpiling_jordanian_dinar_state
				var:jordanian_dinar_quantity < sell_limit_currency_var_rest
				var:jordanian_dinar_quantity < 20000000
			}
			change_variable = {
				name = jordanian_dinar_quantity
				add = 5000000
			}
		}
	}
}
jordanian_dinar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = jordanian_dinar_quantity
				var:jordanian_dinar_quantity > 5000000
			}
			change_variable = {
				name = jordanian_dinar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_jordanian_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_jordanian_dinar_state > player.var:jordanian_dinar_quantity

		money_supply_verification_jordanian_dinar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:jordanian_dinar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_jordanian_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_jordanian_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_jordanian_dinar_state > player.var:jordanian_dinar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_jordanian_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_jordanian_dinar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_jordanian_dinar_market_panel_verification_current = 1

	}
}
buy_jordanian_dinar_market_panel = {
	is_shown = {
		var:jordanian_dinar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = jordanian_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:jordanian_dinar_order = 1
				var:jordanian_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_1 #Player country quantity of jordanian_dinar buy
					value  = scope:player_country.var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = jordanian_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:jordanian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_buy_1 #Player country quantity of jordanian_dinar buy
					value  = var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:jordanian_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to jordanian_dinar_suply
				set_variable = {
					name = jordanian_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:jordanian_dinar_quantity
							multiply = var:jordanian_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_jordanian_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_jordanian_dinar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:jordanian_dinar_order = 2
				var:jordanian_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_2 #Player country quantity of jordanian_dinar buy
					value  = scope:player_country.var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = jordanian_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:jordanian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_buy_2 #Player country quantity of jordanian_dinar buy
					value  = var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:jordanian_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to jordanian_dinar_suply
				set_variable = {
					name = jordanian_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:jordanian_dinar_quantity
							multiply = var:jordanian_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_jordanian_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_jordanian_dinar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:jordanian_dinar_order = 3
				var:jordanian_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_3 #Player country quantity of jordanian_dinar buy
					value  = scope:player_country.var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = jordanian_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:jordanian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_buy_3 #Player country quantity of jordanian_dinar buy
					value  = var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:jordanian_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to jordanian_dinar_suply
				set_variable = {
					name = jordanian_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:jordanian_dinar_quantity
							multiply = var:jordanian_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_jordanian_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_jordanian_dinar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:jordanian_dinar_order = 4
				var:jordanian_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_4 #Player country quantity of jordanian_dinar buy
					value  = scope:player_country.var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = jordanian_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:jordanian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_buy_4 #Player country quantity of jordanian_dinar buy
					value  = var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:jordanian_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to jordanian_dinar_suply
				set_variable = {
					name = jordanian_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:jordanian_dinar_quantity
							multiply = var:jordanian_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_jordanian_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_jordanian_dinar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:jordanian_dinar_order = 5
				var:jordanian_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_5 #Player country quantity of jordanian_dinar buy
					value  = scope:player_country.var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = jordanian_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:jordanian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_buy_5 #Player country quantity of jordanian_dinar buy
					value  = var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:jordanian_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to jordanian_dinar_suply
				set_variable = {
					name = jordanian_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:jordanian_dinar_quantity
							multiply = var:jordanian_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_jordanian_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_jordanian_dinar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:jordanian_dinar_order >= 5
			}
			set_variable = {
				name = jordanian_dinar_order
				#Player country quantity of jordanian_dinar buy
				value  = 0
			}
		}
	}
}
sell_jordanian_dinar_market_panel = {
	is_shown = {
		var:jordanian_dinar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = jordanian_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:jordanian_dinar_order = 1
				var:jordanian_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_1 #Player country quantity of jordanian_dinar sell
					value  = scope:player_country.var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = jordanian_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:jordanian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_1 #Player country quantity of jordanian_dinar sell
					value  = var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:jordanian_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to jordanian_dinar_suply
				set_variable = {
					name = jordanian_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:jordanian_dinar_quantity
							multiply = var:jordanian_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_jordanian_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_jordanian_dinar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:jordanian_dinar_order = 2
				var:jordanian_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_2 #Player country quantity of jordanian_dinar sell
					value  = scope:player_country.var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = jordanian_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:jordanian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_2 #Player country quantity of jordanian_dinar sell
					value  = var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:jordanian_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to jordanian_dinar_suply
				set_variable = {
					name = jordanian_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:jordanian_dinar_quantity
							multiply = var:jordanian_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_jordanian_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_jordanian_dinar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:jordanian_dinar_order = 3
				var:jordanian_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_3 #Player country quantity of jordanian_dinar sell
					value  = scope:player_country.var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = jordanian_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:jordanian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_3 #Player country quantity of jordanian_dinar sell
					value  = var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:jordanian_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to jordanian_dinar_suply
				set_variable = {
					name = jordanian_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:jordanian_dinar_quantity
							multiply = var:jordanian_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_jordanian_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_jordanian_dinar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:jordanian_dinar_order = 4
				var:jordanian_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_4 #Player country quantity of jordanian_dinar sell
					value  = scope:player_country.var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = jordanian_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:jordanian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_4 #Player country quantity of jordanian_dinar sell
					value  = var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:jordanian_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to jordanian_dinar_suply
				set_variable = {
					name = jordanian_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:jordanian_dinar_quantity
							multiply = var:jordanian_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_jordanian_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_jordanian_dinar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:jordanian_dinar_order = 5
				var:jordanian_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_5 #Player country quantity of jordanian_dinar sell
					value  = scope:player_country.var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = jordanian_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:jordanian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = jordanian_dinar_sell_5 #Player country quantity of jordanian_dinar sell
					value  = var:jordanian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = jordanian_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:jordanian_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to jordanian_dinar_suply
				set_variable = {
					name = jordanian_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:jordanian_dinar_quantity
							multiply = var:jordanian_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_jordanian_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_jordanian_dinar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:jordanian_dinar_order >= 5
			}
			set_variable = {
				name = jordanian_dinar_order
				#Player country quantity of jordanian_dinar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_jordanian_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:jordanian_dinar_quantity < stockpiling_jordanian_dinar_state
		player.central_bank_gold_reserves_state > buy_jordanian_dinar_in_gold_market_panel
	}
}
sell_jordanian_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:jordanian_dinar_quantity < player.stockpiling_jordanian_dinar_state
		central_bank_gold_reserves_state > sell_jordanian_dinar_in_gold_market_panel
	}
}
jordanian_dinar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_jordanian_dinar_state_1
					add = scope:player_country.var:jordanian_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:jordanian_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_jordanian_dinar_state_1
						subtract = owner.var:jordanian_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:jordanian_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
jordanian_dinar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_jordanian_dinar_state_1
					subtract = scope:player_country.var:jordanian_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:jordanian_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_jordanian_dinar_state_1
						add = owner.var:jordanian_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:jordanian_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#korean_won
korean_won_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = korean_won_quantity
				#var:korean_won_quantity < market.owner.stockpiling_korean_won_state
				var:korean_won_quantity < sell_limit_currency_var_rest
				var:korean_won_quantity < 20000000
			}
			change_variable = {
				name = korean_won_quantity
				add = 5000000
			}
		}
	}
}
korean_won_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = korean_won_quantity
				var:korean_won_quantity > 5000000
			}
			change_variable = {
				name = korean_won_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_korean_won_market_panel_enabled = {
	is_valid = {
		stockpiling_korean_won_state > player.var:korean_won_quantity

		money_supply_verification_korean_won < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:korean_won_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_korean_won_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_korean_won_market_panel_enabled = {
	is_valid = {
		stockpiling_korean_won_state > player.var:korean_won_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_korean_won_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_korean_won_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_korean_won_market_panel_verification_current = 1

	}
}
buy_korean_won_market_panel = {
	is_shown = {
		var:korean_won_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = korean_won_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:korean_won_order = 1
				var:korean_won_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_1 #Player country quantity of korean_won buy
					value  = scope:player_country.var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = korean_won_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:korean_won_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = korean_won_buy_1 #Player country quantity of korean_won buy
					value  = var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_1
					value = scope:target.var:korean_won_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to korean_won_suply
				set_variable = {
					name = korean_won_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:korean_won_quantity
							multiply = var:korean_won_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_korean_won_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_korean_won_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:korean_won_order = 2
				var:korean_won_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_2 #Player country quantity of korean_won buy
					value  = scope:player_country.var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = korean_won_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:korean_won_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = korean_won_buy_2 #Player country quantity of korean_won buy
					value  = var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_2
					value = scope:target.var:korean_won_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to korean_won_suply
				set_variable = {
					name = korean_won_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:korean_won_quantity
							multiply = var:korean_won_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_korean_won_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_korean_won_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:korean_won_order = 3
				var:korean_won_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_3 #Player country quantity of korean_won buy
					value  = scope:player_country.var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = korean_won_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:korean_won_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = korean_won_buy_3 #Player country quantity of korean_won buy
					value  = var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_3
					value = scope:target.var:korean_won_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to korean_won_suply
				set_variable = {
					name = korean_won_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:korean_won_quantity
							multiply = var:korean_won_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_korean_won_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_korean_won_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:korean_won_order = 4
				var:korean_won_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_4 #Player country quantity of korean_won buy
					value  = scope:player_country.var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = korean_won_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:korean_won_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = korean_won_buy_4 #Player country quantity of korean_won buy
					value  = var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_4
					value = scope:target.var:korean_won_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to korean_won_suply
				set_variable = {
					name = korean_won_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:korean_won_quantity
							multiply = var:korean_won_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_korean_won_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_korean_won_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:korean_won_order = 5
				var:korean_won_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_5 #Player country quantity of korean_won buy
					value  = scope:player_country.var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = korean_won_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:korean_won_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = korean_won_buy_5 #Player country quantity of korean_won buy
					value  = var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_5
					value = scope:target.var:korean_won_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to korean_won_suply
				set_variable = {
					name = korean_won_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:korean_won_quantity
							multiply = var:korean_won_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_korean_won_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_korean_won_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:korean_won_order >= 5
			}
			set_variable = {
				name = korean_won_order
				#Player country quantity of korean_won buy
				value  = 0
			}
		}
	}
}
sell_korean_won_market_panel = {
	is_shown = {
		var:korean_won_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = korean_won_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:korean_won_order = 1
				var:korean_won_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_1 #Player country quantity of korean_won sell
					value  = scope:player_country.var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = korean_won_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:korean_won_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_1 #Player country quantity of korean_won sell
					value  = var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_1
					value = scope:target.var:korean_won_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to korean_won_suply
				set_variable = {
					name = korean_won_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:korean_won_quantity
							multiply = var:korean_won_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_korean_won_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_korean_won_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:korean_won_order = 2
				var:korean_won_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_2 #Player country quantity of korean_won sell
					value  = scope:player_country.var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = korean_won_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:korean_won_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_2 #Player country quantity of korean_won sell
					value  = var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_2
					value = scope:target.var:korean_won_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to korean_won_suply
				set_variable = {
					name = korean_won_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:korean_won_quantity
							multiply = var:korean_won_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_korean_won_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_korean_won_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:korean_won_order = 3
				var:korean_won_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_3 #Player country quantity of korean_won sell
					value  = scope:player_country.var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = korean_won_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:korean_won_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_3 #Player country quantity of korean_won sell
					value  = var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_3
					value = scope:target.var:korean_won_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to korean_won_suply
				set_variable = {
					name = korean_won_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:korean_won_quantity
							multiply = var:korean_won_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_korean_won_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_korean_won_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:korean_won_order = 4
				var:korean_won_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_4 #Player country quantity of korean_won sell
					value  = scope:player_country.var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = korean_won_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:korean_won_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_4 #Player country quantity of korean_won sell
					value  = var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_4
					value = scope:target.var:korean_won_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to korean_won_suply
				set_variable = {
					name = korean_won_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:korean_won_quantity
							multiply = var:korean_won_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_korean_won_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_korean_won_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:korean_won_order = 5
				var:korean_won_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_5 #Player country quantity of korean_won sell
					value  = scope:player_country.var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = korean_won_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:korean_won_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = korean_won_sell_5 #Player country quantity of korean_won sell
					value  = var:korean_won_quantity
				}

				#exchange rate
				set_variable = {
					name = korean_won_to_player_currency_exchange_rate_5
					value = scope:target.var:korean_won_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to korean_won_suply
				set_variable = {
					name = korean_won_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:korean_won_quantity
							multiply = var:korean_won_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_korean_won_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_korean_won_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:korean_won_order >= 5
			}
			set_variable = {
				name = korean_won_order
				#Player country quantity of korean_won sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_korean_won_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:korean_won_quantity < stockpiling_korean_won_state
		player.central_bank_gold_reserves_state > buy_korean_won_in_gold_market_panel
	}
}
sell_korean_won_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:korean_won_quantity < player.stockpiling_korean_won_state
		central_bank_gold_reserves_state > sell_korean_won_in_gold_market_panel
	}
}
korean_won_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_korean_won_state_1
					add = scope:player_country.var:korean_won_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:korean_won_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_korean_won_state_1
						subtract = owner.var:korean_won_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:korean_won_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
korean_won_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_korean_won_state_1
					subtract = scope:player_country.var:korean_won_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:korean_won_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_korean_won_state_1
						add = owner.var:korean_won_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:korean_won_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#latvian_lats
latvian_lats_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = latvian_lats_quantity
				#var:latvian_lats_quantity < market.owner.stockpiling_latvian_lats_state
				var:latvian_lats_quantity < sell_limit_currency_var_rest
				var:latvian_lats_quantity < 20000000
			}
			change_variable = {
				name = latvian_lats_quantity
				add = 5000000
			}
		}
	}
}
latvian_lats_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = latvian_lats_quantity
				var:latvian_lats_quantity > 5000000
			}
			change_variable = {
				name = latvian_lats_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_latvian_lats_market_panel_enabled = {
	is_valid = {
		stockpiling_latvian_lats_state > player.var:latvian_lats_quantity

		money_supply_verification_latvian_lats < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:latvian_lats_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_latvian_lats_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_latvian_lats_market_panel_enabled = {
	is_valid = {
		stockpiling_latvian_lats_state > player.var:latvian_lats_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_latvian_lats_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_latvian_lats_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_latvian_lats_market_panel_verification_current = 1

	}
}
buy_latvian_lats_market_panel = {
	is_shown = {
		var:latvian_lats_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = latvian_lats_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:latvian_lats_order = 1
				var:latvian_lats_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_1 #Player country quantity of latvian_lats buy
					value  = scope:player_country.var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = latvian_lats_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:latvian_lats_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_buy_1 #Player country quantity of latvian_lats buy
					value  = var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_1
					value = scope:target.var:latvian_lats_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to latvian_lats_suply
				set_variable = {
					name = latvian_lats_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:latvian_lats_quantity
							multiply = var:latvian_lats_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_latvian_lats_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_latvian_lats_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:latvian_lats_order = 2
				var:latvian_lats_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_2 #Player country quantity of latvian_lats buy
					value  = scope:player_country.var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = latvian_lats_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:latvian_lats_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_buy_2 #Player country quantity of latvian_lats buy
					value  = var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_2
					value = scope:target.var:latvian_lats_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to latvian_lats_suply
				set_variable = {
					name = latvian_lats_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:latvian_lats_quantity
							multiply = var:latvian_lats_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_latvian_lats_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_latvian_lats_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:latvian_lats_order = 3
				var:latvian_lats_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_3 #Player country quantity of latvian_lats buy
					value  = scope:player_country.var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = latvian_lats_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:latvian_lats_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_buy_3 #Player country quantity of latvian_lats buy
					value  = var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_3
					value = scope:target.var:latvian_lats_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to latvian_lats_suply
				set_variable = {
					name = latvian_lats_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:latvian_lats_quantity
							multiply = var:latvian_lats_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_latvian_lats_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_latvian_lats_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:latvian_lats_order = 4
				var:latvian_lats_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_4 #Player country quantity of latvian_lats buy
					value  = scope:player_country.var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = latvian_lats_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:latvian_lats_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_buy_4 #Player country quantity of latvian_lats buy
					value  = var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_4
					value = scope:target.var:latvian_lats_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to latvian_lats_suply
				set_variable = {
					name = latvian_lats_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:latvian_lats_quantity
							multiply = var:latvian_lats_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_latvian_lats_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_latvian_lats_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:latvian_lats_order = 5
				var:latvian_lats_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_5 #Player country quantity of latvian_lats buy
					value  = scope:player_country.var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = latvian_lats_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:latvian_lats_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_buy_5 #Player country quantity of latvian_lats buy
					value  = var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_5
					value = scope:target.var:latvian_lats_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to latvian_lats_suply
				set_variable = {
					name = latvian_lats_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:latvian_lats_quantity
							multiply = var:latvian_lats_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_latvian_lats_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_latvian_lats_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:latvian_lats_order >= 5
			}
			set_variable = {
				name = latvian_lats_order
				#Player country quantity of latvian_lats buy
				value  = 0
			}
		}
	}
}
sell_latvian_lats_market_panel = {
	is_shown = {
		var:latvian_lats_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = latvian_lats_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:latvian_lats_order = 1
				var:latvian_lats_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_1 #Player country quantity of latvian_lats sell
					value  = scope:player_country.var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = latvian_lats_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:latvian_lats_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_1 #Player country quantity of latvian_lats sell
					value  = var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_1
					value = scope:target.var:latvian_lats_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to latvian_lats_suply
				set_variable = {
					name = latvian_lats_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:latvian_lats_quantity
							multiply = var:latvian_lats_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_latvian_lats_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_latvian_lats_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:latvian_lats_order = 2
				var:latvian_lats_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_2 #Player country quantity of latvian_lats sell
					value  = scope:player_country.var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = latvian_lats_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:latvian_lats_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_2 #Player country quantity of latvian_lats sell
					value  = var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_2
					value = scope:target.var:latvian_lats_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to latvian_lats_suply
				set_variable = {
					name = latvian_lats_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:latvian_lats_quantity
							multiply = var:latvian_lats_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_latvian_lats_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_latvian_lats_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:latvian_lats_order = 3
				var:latvian_lats_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_3 #Player country quantity of latvian_lats sell
					value  = scope:player_country.var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = latvian_lats_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:latvian_lats_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_3 #Player country quantity of latvian_lats sell
					value  = var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_3
					value = scope:target.var:latvian_lats_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to latvian_lats_suply
				set_variable = {
					name = latvian_lats_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:latvian_lats_quantity
							multiply = var:latvian_lats_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_latvian_lats_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_latvian_lats_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:latvian_lats_order = 4
				var:latvian_lats_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_4 #Player country quantity of latvian_lats sell
					value  = scope:player_country.var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = latvian_lats_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:latvian_lats_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_4 #Player country quantity of latvian_lats sell
					value  = var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_4
					value = scope:target.var:latvian_lats_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to latvian_lats_suply
				set_variable = {
					name = latvian_lats_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:latvian_lats_quantity
							multiply = var:latvian_lats_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_latvian_lats_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_latvian_lats_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:latvian_lats_order = 5
				var:latvian_lats_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_5 #Player country quantity of latvian_lats sell
					value  = scope:player_country.var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = latvian_lats_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:latvian_lats_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = latvian_lats_sell_5 #Player country quantity of latvian_lats sell
					value  = var:latvian_lats_quantity
				}

				#exchange rate
				set_variable = {
					name = latvian_lats_to_player_currency_exchange_rate_5
					value = scope:target.var:latvian_lats_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to latvian_lats_suply
				set_variable = {
					name = latvian_lats_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:latvian_lats_quantity
							multiply = var:latvian_lats_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_latvian_lats_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_latvian_lats_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:latvian_lats_order >= 5
			}
			set_variable = {
				name = latvian_lats_order
				#Player country quantity of latvian_lats sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_latvian_lats_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:latvian_lats_quantity < stockpiling_latvian_lats_state
		player.central_bank_gold_reserves_state > buy_latvian_lats_in_gold_market_panel
	}
}
sell_latvian_lats_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:latvian_lats_quantity < player.stockpiling_latvian_lats_state
		central_bank_gold_reserves_state > sell_latvian_lats_in_gold_market_panel
	}
}
latvian_lats_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_latvian_lats_state_1
					add = scope:player_country.var:latvian_lats_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:latvian_lats_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_latvian_lats_state_1
						subtract = owner.var:latvian_lats_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:latvian_lats_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
latvian_lats_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_latvian_lats_state_1
					subtract = scope:player_country.var:latvian_lats_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:latvian_lats_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_latvian_lats_state_1
						add = owner.var:latvian_lats_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:latvian_lats_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#leu
leu_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = leu_quantity
				#var:leu_quantity < market.owner.stockpiling_leu_state
				var:leu_quantity < sell_limit_currency_var_rest
				var:leu_quantity < 20000000
			}
			change_variable = {
				name = leu_quantity
				add = 5000000
			}
		}
	}
}
leu_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = leu_quantity
				var:leu_quantity > 5000000
			}
			change_variable = {
				name = leu_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_leu_market_panel_enabled = {
	is_valid = {
		stockpiling_leu_state > player.var:leu_quantity

		money_supply_verification_leu < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:leu_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_leu_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_leu_market_panel_enabled = {
	is_valid = {
		stockpiling_leu_state > player.var:leu_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_leu_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_leu_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_leu_market_panel_verification_current = 1

	}
}
buy_leu_market_panel = {
	is_shown = {
		var:leu_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = leu_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:leu_order = 1
				var:leu_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_1 #Player country quantity of leu buy
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_buy_1 #Player country quantity of leu buy
					value  = var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_1
					value = scope:target.var:leu_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to leu_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_leu_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:leu_order = 2
				var:leu_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_2 #Player country quantity of leu buy
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_buy_2 #Player country quantity of leu buy
					value  = var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_2
					value = scope:target.var:leu_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to leu_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_leu_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:leu_order = 3
				var:leu_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_3 #Player country quantity of leu buy
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_buy_3 #Player country quantity of leu buy
					value  = var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_3
					value = scope:target.var:leu_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to leu_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_leu_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:leu_order = 4
				var:leu_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_4 #Player country quantity of leu buy
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_buy_4 #Player country quantity of leu buy
					value  = var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_4
					value = scope:target.var:leu_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to leu_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_leu_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:leu_order = 5
				var:leu_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_5 #Player country quantity of leu buy
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_buy_5 #Player country quantity of leu buy
					value  = var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_5
					value = scope:target.var:leu_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to leu_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_leu_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:leu_order >= 5
			}
			set_variable = {
				name = leu_order
				#Player country quantity of leu buy
				value  = 0
			}
		}
	}
}
sell_leu_market_panel = {
	is_shown = {
		var:leu_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = leu_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:leu_order = 1
				var:leu_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_1 #Player country quantity of leu sell
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_1 #Player country quantity of leu sell
					value  = var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_1
					value = scope:target.var:leu_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to leu_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_leu_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:leu_order = 2
				var:leu_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_2 #Player country quantity of leu sell
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_2 #Player country quantity of leu sell
					value  = var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_2
					value = scope:target.var:leu_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to leu_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_leu_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:leu_order = 3
				var:leu_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_3 #Player country quantity of leu sell
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_3 #Player country quantity of leu sell
					value  = var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_3
					value = scope:target.var:leu_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to leu_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_leu_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:leu_order = 4
				var:leu_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_4 #Player country quantity of leu sell
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_4 #Player country quantity of leu sell
					value  = var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_4
					value = scope:target.var:leu_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to leu_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_leu_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:leu_order = 5
				var:leu_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_5 #Player country quantity of leu sell
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_5 #Player country quantity of leu sell
					value  = var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_5
					value = scope:target.var:leu_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to leu_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_leu_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:leu_order >= 5
			}
			set_variable = {
				name = leu_order
				#Player country quantity of leu sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_leu_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:leu_quantity < stockpiling_leu_state
		player.central_bank_gold_reserves_state > buy_leu_in_gold_market_panel
	}
}
sell_leu_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:leu_quantity < player.stockpiling_leu_state
		central_bank_gold_reserves_state > sell_leu_in_gold_market_panel
	}
}
leu_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_leu_state_1
					add = scope:player_country.var:leu_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:leu_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_leu_state_1
						subtract = owner.var:leu_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:leu_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
leu_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_leu_state_1
					subtract = scope:player_country.var:leu_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:leu_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_leu_state_1
						add = owner.var:leu_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:leu_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#lev
lev_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = lev_quantity
				#var:lev_quantity < market.owner.stockpiling_lev_state
				var:lev_quantity < sell_limit_currency_var_rest
				var:lev_quantity < 20000000
			}
			change_variable = {
				name = lev_quantity
				add = 5000000
			}
		}
	}
}
lev_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = lev_quantity
				var:lev_quantity > 5000000
			}
			change_variable = {
				name = lev_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_lev_market_panel_enabled = {
	is_valid = {
		stockpiling_lev_state > player.var:lev_quantity

		money_supply_verification_lev < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:lev_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_lev_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_lev_market_panel_enabled = {
	is_valid = {
		stockpiling_lev_state > player.var:lev_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_lev_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_lev_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_lev_market_panel_verification_current = 1

	}
}
buy_lev_market_panel = {
	is_shown = {
		var:lev_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = lev_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:lev_order = 1
				var:lev_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_1 #Player country quantity of lev buy
					value  = scope:player_country.var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lev_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lev_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lev_buy_1 #Player country quantity of lev buy
					value  = var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_1
					value = scope:target.var:lev_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to lev_suply
				set_variable = {
					name = lev_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lev_quantity
							multiply = var:lev_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_lev_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lev_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:lev_order = 2
				var:lev_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_2 #Player country quantity of lev buy
					value  = scope:player_country.var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lev_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lev_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lev_buy_2 #Player country quantity of lev buy
					value  = var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_2
					value = scope:target.var:lev_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to lev_suply
				set_variable = {
					name = lev_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lev_quantity
							multiply = var:lev_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_lev_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lev_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:lev_order = 3
				var:lev_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_3 #Player country quantity of lev buy
					value  = scope:player_country.var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lev_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lev_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lev_buy_3 #Player country quantity of lev buy
					value  = var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_3
					value = scope:target.var:lev_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to lev_suply
				set_variable = {
					name = lev_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lev_quantity
							multiply = var:lev_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_lev_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lev_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:lev_order = 4
				var:lev_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_4 #Player country quantity of lev buy
					value  = scope:player_country.var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lev_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lev_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lev_buy_4 #Player country quantity of lev buy
					value  = var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_4
					value = scope:target.var:lev_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to lev_suply
				set_variable = {
					name = lev_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lev_quantity
							multiply = var:lev_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_lev_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lev_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:lev_order = 5
				var:lev_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_5 #Player country quantity of lev buy
					value  = scope:player_country.var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lev_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lev_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lev_buy_5 #Player country quantity of lev buy
					value  = var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_5
					value = scope:target.var:lev_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to lev_suply
				set_variable = {
					name = lev_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lev_quantity
							multiply = var:lev_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_lev_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lev_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:lev_order >= 5
			}
			set_variable = {
				name = lev_order
				#Player country quantity of lev buy
				value  = 0
			}
		}
	}
}
sell_lev_market_panel = {
	is_shown = {
		var:lev_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = lev_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:lev_order = 1
				var:lev_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_1 #Player country quantity of lev sell
					value  = scope:player_country.var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lev_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lev_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_1 #Player country quantity of lev sell
					value  = var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_1
					value = scope:target.var:lev_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to lev_suply
				set_variable = {
					name = lev_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lev_quantity
							multiply = var:lev_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_lev_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lev_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:lev_order = 2
				var:lev_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_2 #Player country quantity of lev sell
					value  = scope:player_country.var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lev_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lev_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_2 #Player country quantity of lev sell
					value  = var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_2
					value = scope:target.var:lev_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to lev_suply
				set_variable = {
					name = lev_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lev_quantity
							multiply = var:lev_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_lev_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lev_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:lev_order = 3
				var:lev_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_3 #Player country quantity of lev sell
					value  = scope:player_country.var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lev_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lev_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_3 #Player country quantity of lev sell
					value  = var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_3
					value = scope:target.var:lev_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to lev_suply
				set_variable = {
					name = lev_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lev_quantity
							multiply = var:lev_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_lev_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lev_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:lev_order = 4
				var:lev_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_4 #Player country quantity of lev sell
					value  = scope:player_country.var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lev_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lev_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_4 #Player country quantity of lev sell
					value  = var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_4
					value = scope:target.var:lev_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to lev_suply
				set_variable = {
					name = lev_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lev_quantity
							multiply = var:lev_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_lev_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lev_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:lev_order = 5
				var:lev_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_5 #Player country quantity of lev sell
					value  = scope:player_country.var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lev_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lev_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lev_sell_5 #Player country quantity of lev sell
					value  = var:lev_quantity
				}

				#exchange rate
				set_variable = {
					name = lev_to_player_currency_exchange_rate_5
					value = scope:target.var:lev_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to lev_suply
				set_variable = {
					name = lev_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lev_quantity
							multiply = var:lev_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_lev_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lev_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:lev_order >= 5
			}
			set_variable = {
				name = lev_order
				#Player country quantity of lev sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_lev_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:lev_quantity < stockpiling_lev_state
		player.central_bank_gold_reserves_state > buy_lev_in_gold_market_panel
	}
}
sell_lev_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:lev_quantity < player.stockpiling_lev_state
		central_bank_gold_reserves_state > sell_lev_in_gold_market_panel
	}
}
lev_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_lev_state_1
					add = scope:player_country.var:lev_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:lev_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_lev_state_1
						subtract = owner.var:lev_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:lev_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
lev_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_lev_state_1
					subtract = scope:player_country.var:lev_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:lev_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_lev_state_1
						add = owner.var:lev_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:lev_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#liberian_dollar
liberian_dollar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = liberian_dollar_quantity
				#var:liberian_dollar_quantity < market.owner.stockpiling_liberian_dollar_state
				var:liberian_dollar_quantity < sell_limit_currency_var_rest
				var:liberian_dollar_quantity < 20000000
			}
			change_variable = {
				name = liberian_dollar_quantity
				add = 5000000
			}
		}
	}
}
liberian_dollar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = liberian_dollar_quantity
				var:liberian_dollar_quantity > 5000000
			}
			change_variable = {
				name = liberian_dollar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_liberian_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_liberian_dollar_state > player.var:liberian_dollar_quantity

		money_supply_verification_liberian_dollar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:liberian_dollar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_liberian_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_liberian_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_liberian_dollar_state > player.var:liberian_dollar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_liberian_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_liberian_dollar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_liberian_dollar_market_panel_verification_current = 1

	}
}
buy_liberian_dollar_market_panel = {
	is_shown = {
		var:liberian_dollar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = liberian_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:liberian_dollar_order = 1
				var:liberian_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_1 #Player country quantity of liberian_dollar buy
					value  = scope:player_country.var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = liberian_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:liberian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_buy_1 #Player country quantity of liberian_dollar buy
					value  = var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:liberian_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to liberian_dollar_suply
				set_variable = {
					name = liberian_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:liberian_dollar_quantity
							multiply = var:liberian_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_liberian_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_liberian_dollar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:liberian_dollar_order = 2
				var:liberian_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_2 #Player country quantity of liberian_dollar buy
					value  = scope:player_country.var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = liberian_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:liberian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_buy_2 #Player country quantity of liberian_dollar buy
					value  = var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:liberian_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to liberian_dollar_suply
				set_variable = {
					name = liberian_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:liberian_dollar_quantity
							multiply = var:liberian_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_liberian_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_liberian_dollar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:liberian_dollar_order = 3
				var:liberian_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_3 #Player country quantity of liberian_dollar buy
					value  = scope:player_country.var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = liberian_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:liberian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_buy_3 #Player country quantity of liberian_dollar buy
					value  = var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:liberian_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to liberian_dollar_suply
				set_variable = {
					name = liberian_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:liberian_dollar_quantity
							multiply = var:liberian_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_liberian_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_liberian_dollar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:liberian_dollar_order = 4
				var:liberian_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_4 #Player country quantity of liberian_dollar buy
					value  = scope:player_country.var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = liberian_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:liberian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_buy_4 #Player country quantity of liberian_dollar buy
					value  = var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:liberian_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to liberian_dollar_suply
				set_variable = {
					name = liberian_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:liberian_dollar_quantity
							multiply = var:liberian_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_liberian_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_liberian_dollar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:liberian_dollar_order = 5
				var:liberian_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_5 #Player country quantity of liberian_dollar buy
					value  = scope:player_country.var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = liberian_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:liberian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_buy_5 #Player country quantity of liberian_dollar buy
					value  = var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:liberian_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to liberian_dollar_suply
				set_variable = {
					name = liberian_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:liberian_dollar_quantity
							multiply = var:liberian_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_liberian_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_liberian_dollar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:liberian_dollar_order >= 5
			}
			set_variable = {
				name = liberian_dollar_order
				#Player country quantity of liberian_dollar buy
				value  = 0
			}
		}
	}
}
sell_liberian_dollar_market_panel = {
	is_shown = {
		var:liberian_dollar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = liberian_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:liberian_dollar_order = 1
				var:liberian_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_1 #Player country quantity of liberian_dollar sell
					value  = scope:player_country.var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = liberian_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:liberian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_1 #Player country quantity of liberian_dollar sell
					value  = var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:liberian_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to liberian_dollar_suply
				set_variable = {
					name = liberian_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:liberian_dollar_quantity
							multiply = var:liberian_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_liberian_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_liberian_dollar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:liberian_dollar_order = 2
				var:liberian_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_2 #Player country quantity of liberian_dollar sell
					value  = scope:player_country.var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = liberian_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:liberian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_2 #Player country quantity of liberian_dollar sell
					value  = var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:liberian_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to liberian_dollar_suply
				set_variable = {
					name = liberian_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:liberian_dollar_quantity
							multiply = var:liberian_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_liberian_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_liberian_dollar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:liberian_dollar_order = 3
				var:liberian_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_3 #Player country quantity of liberian_dollar sell
					value  = scope:player_country.var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = liberian_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:liberian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_3 #Player country quantity of liberian_dollar sell
					value  = var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:liberian_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to liberian_dollar_suply
				set_variable = {
					name = liberian_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:liberian_dollar_quantity
							multiply = var:liberian_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_liberian_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_liberian_dollar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:liberian_dollar_order = 4
				var:liberian_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_4 #Player country quantity of liberian_dollar sell
					value  = scope:player_country.var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = liberian_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:liberian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_4 #Player country quantity of liberian_dollar sell
					value  = var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:liberian_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to liberian_dollar_suply
				set_variable = {
					name = liberian_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:liberian_dollar_quantity
							multiply = var:liberian_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_liberian_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_liberian_dollar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:liberian_dollar_order = 5
				var:liberian_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_5 #Player country quantity of liberian_dollar sell
					value  = scope:player_country.var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = liberian_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:liberian_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = liberian_dollar_sell_5 #Player country quantity of liberian_dollar sell
					value  = var:liberian_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = liberian_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:liberian_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to liberian_dollar_suply
				set_variable = {
					name = liberian_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:liberian_dollar_quantity
							multiply = var:liberian_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_liberian_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_liberian_dollar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:liberian_dollar_order >= 5
			}
			set_variable = {
				name = liberian_dollar_order
				#Player country quantity of liberian_dollar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_liberian_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:liberian_dollar_quantity < stockpiling_liberian_dollar_state
		player.central_bank_gold_reserves_state > buy_liberian_dollar_in_gold_market_panel
	}
}
sell_liberian_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:liberian_dollar_quantity < player.stockpiling_liberian_dollar_state
		central_bank_gold_reserves_state > sell_liberian_dollar_in_gold_market_panel
	}
}
liberian_dollar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_liberian_dollar_state_1
					add = scope:player_country.var:liberian_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:liberian_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_liberian_dollar_state_1
						subtract = owner.var:liberian_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:liberian_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
liberian_dollar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_liberian_dollar_state_1
					subtract = scope:player_country.var:liberian_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:liberian_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_liberian_dollar_state_1
						add = owner.var:liberian_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:liberian_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#libyan_dinar
libyan_dinar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = libyan_dinar_quantity
				#var:libyan_dinar_quantity < market.owner.stockpiling_libyan_dinar_state
				var:libyan_dinar_quantity < sell_limit_currency_var_rest
				var:libyan_dinar_quantity < 20000000
			}
			change_variable = {
				name = libyan_dinar_quantity
				add = 5000000
			}
		}
	}
}
libyan_dinar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = libyan_dinar_quantity
				var:libyan_dinar_quantity > 5000000
			}
			change_variable = {
				name = libyan_dinar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_libyan_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_libyan_dinar_state > player.var:libyan_dinar_quantity

		money_supply_verification_libyan_dinar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:libyan_dinar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_libyan_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_libyan_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_libyan_dinar_state > player.var:libyan_dinar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_libyan_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_libyan_dinar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_libyan_dinar_market_panel_verification_current = 1

	}
}
buy_libyan_dinar_market_panel = {
	is_shown = {
		var:libyan_dinar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = libyan_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:libyan_dinar_order = 1
				var:libyan_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_1 #Player country quantity of libyan_dinar buy
					value  = scope:player_country.var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = libyan_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:libyan_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_buy_1 #Player country quantity of libyan_dinar buy
					value  = var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:libyan_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to libyan_dinar_suply
				set_variable = {
					name = libyan_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:libyan_dinar_quantity
							multiply = var:libyan_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_libyan_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_libyan_dinar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:libyan_dinar_order = 2
				var:libyan_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_2 #Player country quantity of libyan_dinar buy
					value  = scope:player_country.var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = libyan_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:libyan_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_buy_2 #Player country quantity of libyan_dinar buy
					value  = var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:libyan_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to libyan_dinar_suply
				set_variable = {
					name = libyan_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:libyan_dinar_quantity
							multiply = var:libyan_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_libyan_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_libyan_dinar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:libyan_dinar_order = 3
				var:libyan_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_3 #Player country quantity of libyan_dinar buy
					value  = scope:player_country.var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = libyan_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:libyan_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_buy_3 #Player country quantity of libyan_dinar buy
					value  = var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:libyan_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to libyan_dinar_suply
				set_variable = {
					name = libyan_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:libyan_dinar_quantity
							multiply = var:libyan_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_libyan_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_libyan_dinar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:libyan_dinar_order = 4
				var:libyan_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_4 #Player country quantity of libyan_dinar buy
					value  = scope:player_country.var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = libyan_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:libyan_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_buy_4 #Player country quantity of libyan_dinar buy
					value  = var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:libyan_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to libyan_dinar_suply
				set_variable = {
					name = libyan_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:libyan_dinar_quantity
							multiply = var:libyan_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_libyan_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_libyan_dinar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:libyan_dinar_order = 5
				var:libyan_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_5 #Player country quantity of libyan_dinar buy
					value  = scope:player_country.var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = libyan_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:libyan_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_buy_5 #Player country quantity of libyan_dinar buy
					value  = var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:libyan_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to libyan_dinar_suply
				set_variable = {
					name = libyan_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:libyan_dinar_quantity
							multiply = var:libyan_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_libyan_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_libyan_dinar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:libyan_dinar_order >= 5
			}
			set_variable = {
				name = libyan_dinar_order
				#Player country quantity of libyan_dinar buy
				value  = 0
			}
		}
	}
}
sell_libyan_dinar_market_panel = {
	is_shown = {
		var:libyan_dinar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = libyan_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:libyan_dinar_order = 1
				var:libyan_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_1 #Player country quantity of libyan_dinar sell
					value  = scope:player_country.var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = libyan_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:libyan_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_1 #Player country quantity of libyan_dinar sell
					value  = var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:libyan_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to libyan_dinar_suply
				set_variable = {
					name = libyan_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:libyan_dinar_quantity
							multiply = var:libyan_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_libyan_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_libyan_dinar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:libyan_dinar_order = 2
				var:libyan_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_2 #Player country quantity of libyan_dinar sell
					value  = scope:player_country.var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = libyan_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:libyan_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_2 #Player country quantity of libyan_dinar sell
					value  = var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:libyan_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to libyan_dinar_suply
				set_variable = {
					name = libyan_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:libyan_dinar_quantity
							multiply = var:libyan_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_libyan_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_libyan_dinar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:libyan_dinar_order = 3
				var:libyan_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_3 #Player country quantity of libyan_dinar sell
					value  = scope:player_country.var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = libyan_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:libyan_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_3 #Player country quantity of libyan_dinar sell
					value  = var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:libyan_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to libyan_dinar_suply
				set_variable = {
					name = libyan_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:libyan_dinar_quantity
							multiply = var:libyan_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_libyan_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_libyan_dinar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:libyan_dinar_order = 4
				var:libyan_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_4 #Player country quantity of libyan_dinar sell
					value  = scope:player_country.var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = libyan_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:libyan_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_4 #Player country quantity of libyan_dinar sell
					value  = var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:libyan_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to libyan_dinar_suply
				set_variable = {
					name = libyan_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:libyan_dinar_quantity
							multiply = var:libyan_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_libyan_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_libyan_dinar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:libyan_dinar_order = 5
				var:libyan_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_5 #Player country quantity of libyan_dinar sell
					value  = scope:player_country.var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = libyan_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:libyan_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = libyan_dinar_sell_5 #Player country quantity of libyan_dinar sell
					value  = var:libyan_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = libyan_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:libyan_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to libyan_dinar_suply
				set_variable = {
					name = libyan_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:libyan_dinar_quantity
							multiply = var:libyan_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_libyan_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_libyan_dinar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:libyan_dinar_order >= 5
			}
			set_variable = {
				name = libyan_dinar_order
				#Player country quantity of libyan_dinar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_libyan_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:libyan_dinar_quantity < stockpiling_libyan_dinar_state
		player.central_bank_gold_reserves_state > buy_libyan_dinar_in_gold_market_panel
	}
}
sell_libyan_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:libyan_dinar_quantity < player.stockpiling_libyan_dinar_state
		central_bank_gold_reserves_state > sell_libyan_dinar_in_gold_market_panel
	}
}
libyan_dinar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_libyan_dinar_state_1
					add = scope:player_country.var:libyan_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:libyan_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_libyan_dinar_state_1
						subtract = owner.var:libyan_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:libyan_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
libyan_dinar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_libyan_dinar_state_1
					subtract = scope:player_country.var:libyan_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:libyan_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_libyan_dinar_state_1
						add = owner.var:libyan_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:libyan_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#lira
lira_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = lira_quantity
				#var:lira_quantity < market.owner.stockpiling_lira_state
				var:lira_quantity < sell_limit_currency_var_rest
				var:lira_quantity < 20000000
			}
			change_variable = {
				name = lira_quantity
				add = 5000000
			}
		}
	}
}
lira_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = lira_quantity
				var:lira_quantity > 5000000
			}
			change_variable = {
				name = lira_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_lira_market_panel_enabled = {
	is_valid = {
		stockpiling_lira_state > player.var:lira_quantity

		money_supply_verification_lira < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:lira_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_lira_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_lira_market_panel_enabled = {
	is_valid = {
		stockpiling_lira_state > player.var:lira_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_lira_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_lira_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_lira_market_panel_verification_current = 1

	}
}
buy_lira_market_panel = {
	is_shown = {
		var:lira_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = lira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:lira_order = 1
				var:lira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_1 #Player country quantity of lira buy
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_buy_1 #Player country quantity of lira buy
					value  = var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_1
					value = scope:target.var:lira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to lira_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_lira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:lira_order = 2
				var:lira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_2 #Player country quantity of lira buy
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_buy_2 #Player country quantity of lira buy
					value  = var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_2
					value = scope:target.var:lira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to lira_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_lira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:lira_order = 3
				var:lira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_3 #Player country quantity of lira buy
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_buy_3 #Player country quantity of lira buy
					value  = var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_3
					value = scope:target.var:lira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to lira_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_lira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:lira_order = 4
				var:lira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_4 #Player country quantity of lira buy
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_buy_4 #Player country quantity of lira buy
					value  = var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_4
					value = scope:target.var:lira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to lira_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_lira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:lira_order = 5
				var:lira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_5 #Player country quantity of lira buy
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_buy_5 #Player country quantity of lira buy
					value  = var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_5
					value = scope:target.var:lira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to lira_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_lira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:lira_order >= 5
			}
			set_variable = {
				name = lira_order
				#Player country quantity of lira buy
				value  = 0
			}
		}
	}
}
sell_lira_market_panel = {
	is_shown = {
		var:lira_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = lira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:lira_order = 1
				var:lira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_1 #Player country quantity of lira sell
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_1 #Player country quantity of lira sell
					value  = var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_1
					value = scope:target.var:lira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to lira_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_lira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:lira_order = 2
				var:lira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_2 #Player country quantity of lira sell
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_2 #Player country quantity of lira sell
					value  = var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_2
					value = scope:target.var:lira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to lira_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_lira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:lira_order = 3
				var:lira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_3 #Player country quantity of lira sell
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_3 #Player country quantity of lira sell
					value  = var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_3
					value = scope:target.var:lira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to lira_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_lira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:lira_order = 4
				var:lira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_4 #Player country quantity of lira sell
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_4 #Player country quantity of lira sell
					value  = var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_4
					value = scope:target.var:lira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to lira_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_lira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:lira_order = 5
				var:lira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_5 #Player country quantity of lira sell
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_5 #Player country quantity of lira sell
					value  = var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_5
					value = scope:target.var:lira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to lira_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_lira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:lira_order >= 5
			}
			set_variable = {
				name = lira_order
				#Player country quantity of lira sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_lira_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:lira_quantity < stockpiling_lira_state
		player.central_bank_gold_reserves_state > buy_lira_in_gold_market_panel
	}
}
sell_lira_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:lira_quantity < player.stockpiling_lira_state
		central_bank_gold_reserves_state > sell_lira_in_gold_market_panel
	}
}
lira_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_lira_state_1
					add = scope:player_country.var:lira_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:lira_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_lira_state_1
						subtract = owner.var:lira_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:lira_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
lira_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_lira_state_1
					subtract = scope:player_country.var:lira_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:lira_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_lira_state_1
						add = owner.var:lira_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:lira_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#lithuanian_litas
lithuanian_litas_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = lithuanian_litas_quantity
				#var:lithuanian_litas_quantity < market.owner.stockpiling_lithuanian_litas_state
				var:lithuanian_litas_quantity < sell_limit_currency_var_rest
				var:lithuanian_litas_quantity < 20000000
			}
			change_variable = {
				name = lithuanian_litas_quantity
				add = 5000000
			}
		}
	}
}
lithuanian_litas_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = lithuanian_litas_quantity
				var:lithuanian_litas_quantity > 5000000
			}
			change_variable = {
				name = lithuanian_litas_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_lithuanian_litas_market_panel_enabled = {
	is_valid = {
		stockpiling_lithuanian_litas_state > player.var:lithuanian_litas_quantity

		money_supply_verification_lithuanian_litas < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:lithuanian_litas_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_lithuanian_litas_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_lithuanian_litas_market_panel_enabled = {
	is_valid = {
		stockpiling_lithuanian_litas_state > player.var:lithuanian_litas_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_lithuanian_litas_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_lithuanian_litas_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_lithuanian_litas_market_panel_verification_current = 1

	}
}
buy_lithuanian_litas_market_panel = {
	is_shown = {
		var:lithuanian_litas_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = lithuanian_litas_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:lithuanian_litas_order = 1
				var:lithuanian_litas_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_1 #Player country quantity of lithuanian_litas buy
					value  = scope:player_country.var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lithuanian_litas_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lithuanian_litas_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_buy_1 #Player country quantity of lithuanian_litas buy
					value  = var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_1
					value = scope:target.var:lithuanian_litas_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to lithuanian_litas_suply
				set_variable = {
					name = lithuanian_litas_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lithuanian_litas_quantity
							multiply = var:lithuanian_litas_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_lithuanian_litas_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lithuanian_litas_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:lithuanian_litas_order = 2
				var:lithuanian_litas_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_2 #Player country quantity of lithuanian_litas buy
					value  = scope:player_country.var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lithuanian_litas_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lithuanian_litas_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_buy_2 #Player country quantity of lithuanian_litas buy
					value  = var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_2
					value = scope:target.var:lithuanian_litas_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to lithuanian_litas_suply
				set_variable = {
					name = lithuanian_litas_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lithuanian_litas_quantity
							multiply = var:lithuanian_litas_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_lithuanian_litas_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lithuanian_litas_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:lithuanian_litas_order = 3
				var:lithuanian_litas_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_3 #Player country quantity of lithuanian_litas buy
					value  = scope:player_country.var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lithuanian_litas_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lithuanian_litas_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_buy_3 #Player country quantity of lithuanian_litas buy
					value  = var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_3
					value = scope:target.var:lithuanian_litas_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to lithuanian_litas_suply
				set_variable = {
					name = lithuanian_litas_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lithuanian_litas_quantity
							multiply = var:lithuanian_litas_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_lithuanian_litas_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lithuanian_litas_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:lithuanian_litas_order = 4
				var:lithuanian_litas_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_4 #Player country quantity of lithuanian_litas buy
					value  = scope:player_country.var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lithuanian_litas_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lithuanian_litas_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_buy_4 #Player country quantity of lithuanian_litas buy
					value  = var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_4
					value = scope:target.var:lithuanian_litas_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to lithuanian_litas_suply
				set_variable = {
					name = lithuanian_litas_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lithuanian_litas_quantity
							multiply = var:lithuanian_litas_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_lithuanian_litas_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lithuanian_litas_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:lithuanian_litas_order = 5
				var:lithuanian_litas_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_5 #Player country quantity of lithuanian_litas buy
					value  = scope:player_country.var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lithuanian_litas_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lithuanian_litas_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_buy_5 #Player country quantity of lithuanian_litas buy
					value  = var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_5
					value = scope:target.var:lithuanian_litas_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to lithuanian_litas_suply
				set_variable = {
					name = lithuanian_litas_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lithuanian_litas_quantity
							multiply = var:lithuanian_litas_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_lithuanian_litas_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lithuanian_litas_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:lithuanian_litas_order >= 5
			}
			set_variable = {
				name = lithuanian_litas_order
				#Player country quantity of lithuanian_litas buy
				value  = 0
			}
		}
	}
}
sell_lithuanian_litas_market_panel = {
	is_shown = {
		var:lithuanian_litas_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = lithuanian_litas_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:lithuanian_litas_order = 1
				var:lithuanian_litas_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_1 #Player country quantity of lithuanian_litas sell
					value  = scope:player_country.var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lithuanian_litas_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lithuanian_litas_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_1 #Player country quantity of lithuanian_litas sell
					value  = var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_1
					value = scope:target.var:lithuanian_litas_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to lithuanian_litas_suply
				set_variable = {
					name = lithuanian_litas_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lithuanian_litas_quantity
							multiply = var:lithuanian_litas_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_lithuanian_litas_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lithuanian_litas_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:lithuanian_litas_order = 2
				var:lithuanian_litas_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_2 #Player country quantity of lithuanian_litas sell
					value  = scope:player_country.var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lithuanian_litas_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lithuanian_litas_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_2 #Player country quantity of lithuanian_litas sell
					value  = var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_2
					value = scope:target.var:lithuanian_litas_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to lithuanian_litas_suply
				set_variable = {
					name = lithuanian_litas_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lithuanian_litas_quantity
							multiply = var:lithuanian_litas_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_lithuanian_litas_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lithuanian_litas_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:lithuanian_litas_order = 3
				var:lithuanian_litas_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_3 #Player country quantity of lithuanian_litas sell
					value  = scope:player_country.var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lithuanian_litas_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lithuanian_litas_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_3 #Player country quantity of lithuanian_litas sell
					value  = var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_3
					value = scope:target.var:lithuanian_litas_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to lithuanian_litas_suply
				set_variable = {
					name = lithuanian_litas_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lithuanian_litas_quantity
							multiply = var:lithuanian_litas_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_lithuanian_litas_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lithuanian_litas_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:lithuanian_litas_order = 4
				var:lithuanian_litas_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_4 #Player country quantity of lithuanian_litas sell
					value  = scope:player_country.var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lithuanian_litas_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lithuanian_litas_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_4 #Player country quantity of lithuanian_litas sell
					value  = var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_4
					value = scope:target.var:lithuanian_litas_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to lithuanian_litas_suply
				set_variable = {
					name = lithuanian_litas_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lithuanian_litas_quantity
							multiply = var:lithuanian_litas_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_lithuanian_litas_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lithuanian_litas_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:lithuanian_litas_order = 5
				var:lithuanian_litas_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_5 #Player country quantity of lithuanian_litas sell
					value  = scope:player_country.var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = lithuanian_litas_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lithuanian_litas_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lithuanian_litas_sell_5 #Player country quantity of lithuanian_litas sell
					value  = var:lithuanian_litas_quantity
				}

				#exchange rate
				set_variable = {
					name = lithuanian_litas_to_player_currency_exchange_rate_5
					value = scope:target.var:lithuanian_litas_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to lithuanian_litas_suply
				set_variable = {
					name = lithuanian_litas_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lithuanian_litas_quantity
							multiply = var:lithuanian_litas_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_lithuanian_litas_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lithuanian_litas_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:lithuanian_litas_order >= 5
			}
			set_variable = {
				name = lithuanian_litas_order
				#Player country quantity of lithuanian_litas sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_lithuanian_litas_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:lithuanian_litas_quantity < stockpiling_lithuanian_litas_state
		player.central_bank_gold_reserves_state > buy_lithuanian_litas_in_gold_market_panel
	}
}
sell_lithuanian_litas_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:lithuanian_litas_quantity < player.stockpiling_lithuanian_litas_state
		central_bank_gold_reserves_state > sell_lithuanian_litas_in_gold_market_panel
	}
}
lithuanian_litas_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_lithuanian_litas_state_1
					add = scope:player_country.var:lithuanian_litas_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:lithuanian_litas_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_lithuanian_litas_state_1
						subtract = owner.var:lithuanian_litas_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:lithuanian_litas_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
lithuanian_litas_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_lithuanian_litas_state_1
					subtract = scope:player_country.var:lithuanian_litas_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:lithuanian_litas_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_lithuanian_litas_state_1
						add = owner.var:lithuanian_litas_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:lithuanian_litas_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#luxembourgish_franc
luxembourgish_franc_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = luxembourgish_franc_quantity
				#var:luxembourgish_franc_quantity < market.owner.stockpiling_luxembourgish_franc_state
				var:luxembourgish_franc_quantity < sell_limit_currency_var_rest
				var:luxembourgish_franc_quantity < 20000000
			}
			change_variable = {
				name = luxembourgish_franc_quantity
				add = 5000000
			}
		}
	}
}
luxembourgish_franc_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = luxembourgish_franc_quantity
				var:luxembourgish_franc_quantity > 5000000
			}
			change_variable = {
				name = luxembourgish_franc_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_luxembourgish_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_luxembourgish_franc_state > player.var:luxembourgish_franc_quantity

		money_supply_verification_luxembourgish_franc < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:luxembourgish_franc_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_luxembourgish_franc_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_luxembourgish_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_luxembourgish_franc_state > player.var:luxembourgish_franc_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_luxembourgish_franc_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_luxembourgish_franc_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_luxembourgish_franc_market_panel_verification_current = 1

	}
}
buy_luxembourgish_franc_market_panel = {
	is_shown = {
		var:luxembourgish_franc_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = luxembourgish_franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:luxembourgish_franc_order = 1
				var:luxembourgish_franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_1 #Player country quantity of luxembourgish_franc buy
					value  = scope:player_country.var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = luxembourgish_franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:luxembourgish_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_buy_1 #Player country quantity of luxembourgish_franc buy
					value  = var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_1
					value = scope:target.var:luxembourgish_franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to luxembourgish_franc_suply
				set_variable = {
					name = luxembourgish_franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:luxembourgish_franc_quantity
							multiply = var:luxembourgish_franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_luxembourgish_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_luxembourgish_franc_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:luxembourgish_franc_order = 2
				var:luxembourgish_franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_2 #Player country quantity of luxembourgish_franc buy
					value  = scope:player_country.var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = luxembourgish_franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:luxembourgish_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_buy_2 #Player country quantity of luxembourgish_franc buy
					value  = var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_2
					value = scope:target.var:luxembourgish_franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to luxembourgish_franc_suply
				set_variable = {
					name = luxembourgish_franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:luxembourgish_franc_quantity
							multiply = var:luxembourgish_franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_luxembourgish_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_luxembourgish_franc_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:luxembourgish_franc_order = 3
				var:luxembourgish_franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_3 #Player country quantity of luxembourgish_franc buy
					value  = scope:player_country.var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = luxembourgish_franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:luxembourgish_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_buy_3 #Player country quantity of luxembourgish_franc buy
					value  = var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_3
					value = scope:target.var:luxembourgish_franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to luxembourgish_franc_suply
				set_variable = {
					name = luxembourgish_franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:luxembourgish_franc_quantity
							multiply = var:luxembourgish_franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_luxembourgish_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_luxembourgish_franc_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:luxembourgish_franc_order = 4
				var:luxembourgish_franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_4 #Player country quantity of luxembourgish_franc buy
					value  = scope:player_country.var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = luxembourgish_franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:luxembourgish_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_buy_4 #Player country quantity of luxembourgish_franc buy
					value  = var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_4
					value = scope:target.var:luxembourgish_franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to luxembourgish_franc_suply
				set_variable = {
					name = luxembourgish_franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:luxembourgish_franc_quantity
							multiply = var:luxembourgish_franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_luxembourgish_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_luxembourgish_franc_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:luxembourgish_franc_order = 5
				var:luxembourgish_franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_5 #Player country quantity of luxembourgish_franc buy
					value  = scope:player_country.var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = luxembourgish_franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:luxembourgish_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_buy_5 #Player country quantity of luxembourgish_franc buy
					value  = var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_5
					value = scope:target.var:luxembourgish_franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to luxembourgish_franc_suply
				set_variable = {
					name = luxembourgish_franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:luxembourgish_franc_quantity
							multiply = var:luxembourgish_franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_luxembourgish_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_luxembourgish_franc_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:luxembourgish_franc_order >= 5
			}
			set_variable = {
				name = luxembourgish_franc_order
				#Player country quantity of luxembourgish_franc buy
				value  = 0
			}
		}
	}
}
sell_luxembourgish_franc_market_panel = {
	is_shown = {
		var:luxembourgish_franc_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = luxembourgish_franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:luxembourgish_franc_order = 1
				var:luxembourgish_franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_1 #Player country quantity of luxembourgish_franc sell
					value  = scope:player_country.var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = luxembourgish_franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:luxembourgish_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_1 #Player country quantity of luxembourgish_franc sell
					value  = var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_1
					value = scope:target.var:luxembourgish_franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to luxembourgish_franc_suply
				set_variable = {
					name = luxembourgish_franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:luxembourgish_franc_quantity
							multiply = var:luxembourgish_franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_luxembourgish_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_luxembourgish_franc_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:luxembourgish_franc_order = 2
				var:luxembourgish_franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_2 #Player country quantity of luxembourgish_franc sell
					value  = scope:player_country.var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = luxembourgish_franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:luxembourgish_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_2 #Player country quantity of luxembourgish_franc sell
					value  = var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_2
					value = scope:target.var:luxembourgish_franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to luxembourgish_franc_suply
				set_variable = {
					name = luxembourgish_franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:luxembourgish_franc_quantity
							multiply = var:luxembourgish_franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_luxembourgish_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_luxembourgish_franc_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:luxembourgish_franc_order = 3
				var:luxembourgish_franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_3 #Player country quantity of luxembourgish_franc sell
					value  = scope:player_country.var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = luxembourgish_franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:luxembourgish_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_3 #Player country quantity of luxembourgish_franc sell
					value  = var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_3
					value = scope:target.var:luxembourgish_franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to luxembourgish_franc_suply
				set_variable = {
					name = luxembourgish_franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:luxembourgish_franc_quantity
							multiply = var:luxembourgish_franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_luxembourgish_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_luxembourgish_franc_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:luxembourgish_franc_order = 4
				var:luxembourgish_franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_4 #Player country quantity of luxembourgish_franc sell
					value  = scope:player_country.var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = luxembourgish_franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:luxembourgish_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_4 #Player country quantity of luxembourgish_franc sell
					value  = var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_4
					value = scope:target.var:luxembourgish_franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to luxembourgish_franc_suply
				set_variable = {
					name = luxembourgish_franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:luxembourgish_franc_quantity
							multiply = var:luxembourgish_franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_luxembourgish_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_luxembourgish_franc_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:luxembourgish_franc_order = 5
				var:luxembourgish_franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_5 #Player country quantity of luxembourgish_franc sell
					value  = scope:player_country.var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = luxembourgish_franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:luxembourgish_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = luxembourgish_franc_sell_5 #Player country quantity of luxembourgish_franc sell
					value  = var:luxembourgish_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = luxembourgish_franc_to_player_currency_exchange_rate_5
					value = scope:target.var:luxembourgish_franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to luxembourgish_franc_suply
				set_variable = {
					name = luxembourgish_franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:luxembourgish_franc_quantity
							multiply = var:luxembourgish_franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_luxembourgish_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_luxembourgish_franc_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:luxembourgish_franc_order >= 5
			}
			set_variable = {
				name = luxembourgish_franc_order
				#Player country quantity of luxembourgish_franc sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_luxembourgish_franc_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:luxembourgish_franc_quantity < stockpiling_luxembourgish_franc_state
		player.central_bank_gold_reserves_state > buy_luxembourgish_franc_in_gold_market_panel
	}
}
sell_luxembourgish_franc_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:luxembourgish_franc_quantity < player.stockpiling_luxembourgish_franc_state
		central_bank_gold_reserves_state > sell_luxembourgish_franc_in_gold_market_panel
	}
}
luxembourgish_franc_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_luxembourgish_franc_state_1
					add = scope:player_country.var:luxembourgish_franc_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:luxembourgish_franc_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_luxembourgish_franc_state_1
						subtract = owner.var:luxembourgish_franc_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:luxembourgish_franc_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
luxembourgish_franc_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_luxembourgish_franc_state_1
					subtract = scope:player_country.var:luxembourgish_franc_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:luxembourgish_franc_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_luxembourgish_franc_state_1
						add = owner.var:luxembourgish_franc_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:luxembourgish_franc_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#mark
mark_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = mark_quantity
				#var:mark_quantity < market.owner.stockpiling_mark_state
				var:mark_quantity < sell_limit_currency_var_rest
				var:mark_quantity < 20000000
			}
			change_variable = {
				name = mark_quantity
				add = 5000000
			}
		}
	}
}
mark_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = mark_quantity
				var:mark_quantity > 5000000
			}
			change_variable = {
				name = mark_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_mark_market_panel_enabled = {
	is_valid = {
		stockpiling_mark_state > player.var:mark_quantity

		money_supply_verification_mark < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:mark_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_mark_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_mark_market_panel_enabled = {
	is_valid = {
		stockpiling_mark_state > player.var:mark_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_mark_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_mark_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_mark_market_panel_verification_current = 1

	}
}
buy_mark_market_panel = {
	is_shown = {
		var:mark_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = mark_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:mark_order = 1
				var:mark_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_1 #Player country quantity of mark buy
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_buy_1 #Player country quantity of mark buy
					value  = var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_1
					value = scope:target.var:mark_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to mark_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_mark_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:mark_order = 2
				var:mark_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_2 #Player country quantity of mark buy
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_buy_2 #Player country quantity of mark buy
					value  = var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_2
					value = scope:target.var:mark_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to mark_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_mark_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:mark_order = 3
				var:mark_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_3 #Player country quantity of mark buy
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_buy_3 #Player country quantity of mark buy
					value  = var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_3
					value = scope:target.var:mark_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to mark_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_mark_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:mark_order = 4
				var:mark_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_4 #Player country quantity of mark buy
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_buy_4 #Player country quantity of mark buy
					value  = var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_4
					value = scope:target.var:mark_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to mark_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_mark_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:mark_order = 5
				var:mark_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_5 #Player country quantity of mark buy
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_buy_5 #Player country quantity of mark buy
					value  = var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_5
					value = scope:target.var:mark_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to mark_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_mark_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:mark_order >= 5
			}
			set_variable = {
				name = mark_order
				#Player country quantity of mark buy
				value  = 0
			}
		}
	}
}
sell_mark_market_panel = {
	is_shown = {
		var:mark_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = mark_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:mark_order = 1
				var:mark_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_1 #Player country quantity of mark sell
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_1 #Player country quantity of mark sell
					value  = var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_1
					value = scope:target.var:mark_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to mark_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_mark_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:mark_order = 2
				var:mark_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_2 #Player country quantity of mark sell
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_2 #Player country quantity of mark sell
					value  = var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_2
					value = scope:target.var:mark_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to mark_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_mark_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:mark_order = 3
				var:mark_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_3 #Player country quantity of mark sell
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_3 #Player country quantity of mark sell
					value  = var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_3
					value = scope:target.var:mark_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to mark_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_mark_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:mark_order = 4
				var:mark_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_4 #Player country quantity of mark sell
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_4 #Player country quantity of mark sell
					value  = var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_4
					value = scope:target.var:mark_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to mark_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_mark_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:mark_order = 5
				var:mark_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_5 #Player country quantity of mark sell
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_5 #Player country quantity of mark sell
					value  = var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_5
					value = scope:target.var:mark_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to mark_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_mark_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:mark_order >= 5
			}
			set_variable = {
				name = mark_order
				#Player country quantity of mark sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_mark_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:mark_quantity < stockpiling_mark_state
		player.central_bank_gold_reserves_state > buy_mark_in_gold_market_panel
	}
}
sell_mark_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:mark_quantity < player.stockpiling_mark_state
		central_bank_gold_reserves_state > sell_mark_in_gold_market_panel
	}
}
mark_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_mark_state_1
					add = scope:player_country.var:mark_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:mark_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_mark_state_1
						subtract = owner.var:mark_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:mark_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
mark_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_mark_state_1
					subtract = scope:player_country.var:mark_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:mark_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_mark_state_1
						add = owner.var:mark_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:mark_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#mexican_peso
mexican_peso_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = mexican_peso_quantity
				#var:mexican_peso_quantity < market.owner.stockpiling_mexican_peso_state
				var:mexican_peso_quantity < sell_limit_currency_var_rest
				var:mexican_peso_quantity < 20000000
			}
			change_variable = {
				name = mexican_peso_quantity
				add = 5000000
			}
		}
	}
}
mexican_peso_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = mexican_peso_quantity
				var:mexican_peso_quantity > 5000000
			}
			change_variable = {
				name = mexican_peso_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_mexican_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_mexican_peso_state > player.var:mexican_peso_quantity

		money_supply_verification_mexican_peso < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:mexican_peso_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_mexican_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_mexican_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_mexican_peso_state > player.var:mexican_peso_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_mexican_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_mexican_peso_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_mexican_peso_market_panel_verification_current = 1

	}
}
buy_mexican_peso_market_panel = {
	is_shown = {
		var:mexican_peso_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = mexican_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:mexican_peso_order = 1
				var:mexican_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_1 #Player country quantity of mexican_peso buy
					value  = scope:player_country.var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mexican_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mexican_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_buy_1 #Player country quantity of mexican_peso buy
					value  = var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:mexican_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to mexican_peso_suply
				set_variable = {
					name = mexican_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mexican_peso_quantity
							multiply = var:mexican_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_mexican_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mexican_peso_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:mexican_peso_order = 2
				var:mexican_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_2 #Player country quantity of mexican_peso buy
					value  = scope:player_country.var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mexican_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mexican_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_buy_2 #Player country quantity of mexican_peso buy
					value  = var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:mexican_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to mexican_peso_suply
				set_variable = {
					name = mexican_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mexican_peso_quantity
							multiply = var:mexican_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_mexican_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mexican_peso_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:mexican_peso_order = 3
				var:mexican_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_3 #Player country quantity of mexican_peso buy
					value  = scope:player_country.var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mexican_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mexican_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_buy_3 #Player country quantity of mexican_peso buy
					value  = var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:mexican_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to mexican_peso_suply
				set_variable = {
					name = mexican_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mexican_peso_quantity
							multiply = var:mexican_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_mexican_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mexican_peso_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:mexican_peso_order = 4
				var:mexican_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_4 #Player country quantity of mexican_peso buy
					value  = scope:player_country.var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mexican_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mexican_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_buy_4 #Player country quantity of mexican_peso buy
					value  = var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:mexican_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to mexican_peso_suply
				set_variable = {
					name = mexican_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mexican_peso_quantity
							multiply = var:mexican_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_mexican_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mexican_peso_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:mexican_peso_order = 5
				var:mexican_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_5 #Player country quantity of mexican_peso buy
					value  = scope:player_country.var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mexican_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mexican_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_buy_5 #Player country quantity of mexican_peso buy
					value  = var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:mexican_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to mexican_peso_suply
				set_variable = {
					name = mexican_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mexican_peso_quantity
							multiply = var:mexican_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_mexican_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mexican_peso_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:mexican_peso_order >= 5
			}
			set_variable = {
				name = mexican_peso_order
				#Player country quantity of mexican_peso buy
				value  = 0
			}
		}
	}
}
sell_mexican_peso_market_panel = {
	is_shown = {
		var:mexican_peso_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = mexican_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:mexican_peso_order = 1
				var:mexican_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_1 #Player country quantity of mexican_peso sell
					value  = scope:player_country.var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mexican_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mexican_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_1 #Player country quantity of mexican_peso sell
					value  = var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:mexican_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to mexican_peso_suply
				set_variable = {
					name = mexican_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mexican_peso_quantity
							multiply = var:mexican_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_mexican_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mexican_peso_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:mexican_peso_order = 2
				var:mexican_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_2 #Player country quantity of mexican_peso sell
					value  = scope:player_country.var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mexican_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mexican_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_2 #Player country quantity of mexican_peso sell
					value  = var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:mexican_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to mexican_peso_suply
				set_variable = {
					name = mexican_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mexican_peso_quantity
							multiply = var:mexican_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_mexican_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mexican_peso_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:mexican_peso_order = 3
				var:mexican_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_3 #Player country quantity of mexican_peso sell
					value  = scope:player_country.var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mexican_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mexican_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_3 #Player country quantity of mexican_peso sell
					value  = var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:mexican_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to mexican_peso_suply
				set_variable = {
					name = mexican_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mexican_peso_quantity
							multiply = var:mexican_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_mexican_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mexican_peso_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:mexican_peso_order = 4
				var:mexican_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_4 #Player country quantity of mexican_peso sell
					value  = scope:player_country.var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mexican_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mexican_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_4 #Player country quantity of mexican_peso sell
					value  = var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:mexican_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to mexican_peso_suply
				set_variable = {
					name = mexican_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mexican_peso_quantity
							multiply = var:mexican_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_mexican_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mexican_peso_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:mexican_peso_order = 5
				var:mexican_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_5 #Player country quantity of mexican_peso sell
					value  = scope:player_country.var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = mexican_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mexican_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mexican_peso_sell_5 #Player country quantity of mexican_peso sell
					value  = var:mexican_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = mexican_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:mexican_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to mexican_peso_suply
				set_variable = {
					name = mexican_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mexican_peso_quantity
							multiply = var:mexican_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_mexican_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mexican_peso_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:mexican_peso_order >= 5
			}
			set_variable = {
				name = mexican_peso_order
				#Player country quantity of mexican_peso sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_mexican_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:mexican_peso_quantity < stockpiling_mexican_peso_state
		player.central_bank_gold_reserves_state > buy_mexican_peso_in_gold_market_panel
	}
}
sell_mexican_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:mexican_peso_quantity < player.stockpiling_mexican_peso_state
		central_bank_gold_reserves_state > sell_mexican_peso_in_gold_market_panel
	}
}
mexican_peso_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_mexican_peso_state_1
					add = scope:player_country.var:mexican_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:mexican_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_mexican_peso_state_1
						subtract = owner.var:mexican_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:mexican_peso_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
mexican_peso_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_mexican_peso_state_1
					subtract = scope:player_country.var:mexican_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:mexican_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_mexican_peso_state_1
						add = owner.var:mexican_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:mexican_peso_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#moroccan_dirham
moroccan_dirham_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = moroccan_dirham_quantity
				#var:moroccan_dirham_quantity < market.owner.stockpiling_moroccan_dirham_state
				var:moroccan_dirham_quantity < sell_limit_currency_var_rest
				var:moroccan_dirham_quantity < 20000000
			}
			change_variable = {
				name = moroccan_dirham_quantity
				add = 5000000
			}
		}
	}
}
moroccan_dirham_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = moroccan_dirham_quantity
				var:moroccan_dirham_quantity > 5000000
			}
			change_variable = {
				name = moroccan_dirham_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_moroccan_dirham_market_panel_enabled = {
	is_valid = {
		stockpiling_moroccan_dirham_state > player.var:moroccan_dirham_quantity

		money_supply_verification_moroccan_dirham < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:moroccan_dirham_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_moroccan_dirham_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_moroccan_dirham_market_panel_enabled = {
	is_valid = {
		stockpiling_moroccan_dirham_state > player.var:moroccan_dirham_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_moroccan_dirham_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_moroccan_dirham_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_moroccan_dirham_market_panel_verification_current = 1

	}
}
buy_moroccan_dirham_market_panel = {
	is_shown = {
		var:moroccan_dirham_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = moroccan_dirham_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:moroccan_dirham_order = 1
				var:moroccan_dirham_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_1 #Player country quantity of moroccan_dirham buy
					value  = scope:player_country.var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = moroccan_dirham_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:moroccan_dirham_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_buy_1 #Player country quantity of moroccan_dirham buy
					value  = var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_1
					value = scope:target.var:moroccan_dirham_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to moroccan_dirham_suply
				set_variable = {
					name = moroccan_dirham_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:moroccan_dirham_quantity
							multiply = var:moroccan_dirham_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_moroccan_dirham_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_moroccan_dirham_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:moroccan_dirham_order = 2
				var:moroccan_dirham_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_2 #Player country quantity of moroccan_dirham buy
					value  = scope:player_country.var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = moroccan_dirham_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:moroccan_dirham_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_buy_2 #Player country quantity of moroccan_dirham buy
					value  = var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_2
					value = scope:target.var:moroccan_dirham_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to moroccan_dirham_suply
				set_variable = {
					name = moroccan_dirham_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:moroccan_dirham_quantity
							multiply = var:moroccan_dirham_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_moroccan_dirham_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_moroccan_dirham_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:moroccan_dirham_order = 3
				var:moroccan_dirham_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_3 #Player country quantity of moroccan_dirham buy
					value  = scope:player_country.var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = moroccan_dirham_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:moroccan_dirham_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_buy_3 #Player country quantity of moroccan_dirham buy
					value  = var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_3
					value = scope:target.var:moroccan_dirham_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to moroccan_dirham_suply
				set_variable = {
					name = moroccan_dirham_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:moroccan_dirham_quantity
							multiply = var:moroccan_dirham_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_moroccan_dirham_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_moroccan_dirham_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:moroccan_dirham_order = 4
				var:moroccan_dirham_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_4 #Player country quantity of moroccan_dirham buy
					value  = scope:player_country.var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = moroccan_dirham_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:moroccan_dirham_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_buy_4 #Player country quantity of moroccan_dirham buy
					value  = var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_4
					value = scope:target.var:moroccan_dirham_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to moroccan_dirham_suply
				set_variable = {
					name = moroccan_dirham_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:moroccan_dirham_quantity
							multiply = var:moroccan_dirham_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_moroccan_dirham_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_moroccan_dirham_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:moroccan_dirham_order = 5
				var:moroccan_dirham_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_5 #Player country quantity of moroccan_dirham buy
					value  = scope:player_country.var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = moroccan_dirham_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:moroccan_dirham_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_buy_5 #Player country quantity of moroccan_dirham buy
					value  = var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_5
					value = scope:target.var:moroccan_dirham_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to moroccan_dirham_suply
				set_variable = {
					name = moroccan_dirham_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:moroccan_dirham_quantity
							multiply = var:moroccan_dirham_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_moroccan_dirham_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_moroccan_dirham_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:moroccan_dirham_order >= 5
			}
			set_variable = {
				name = moroccan_dirham_order
				#Player country quantity of moroccan_dirham buy
				value  = 0
			}
		}
	}
}
sell_moroccan_dirham_market_panel = {
	is_shown = {
		var:moroccan_dirham_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = moroccan_dirham_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:moroccan_dirham_order = 1
				var:moroccan_dirham_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_1 #Player country quantity of moroccan_dirham sell
					value  = scope:player_country.var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = moroccan_dirham_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:moroccan_dirham_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_1 #Player country quantity of moroccan_dirham sell
					value  = var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_1
					value = scope:target.var:moroccan_dirham_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to moroccan_dirham_suply
				set_variable = {
					name = moroccan_dirham_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:moroccan_dirham_quantity
							multiply = var:moroccan_dirham_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_moroccan_dirham_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_moroccan_dirham_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:moroccan_dirham_order = 2
				var:moroccan_dirham_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_2 #Player country quantity of moroccan_dirham sell
					value  = scope:player_country.var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = moroccan_dirham_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:moroccan_dirham_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_2 #Player country quantity of moroccan_dirham sell
					value  = var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_2
					value = scope:target.var:moroccan_dirham_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to moroccan_dirham_suply
				set_variable = {
					name = moroccan_dirham_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:moroccan_dirham_quantity
							multiply = var:moroccan_dirham_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_moroccan_dirham_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_moroccan_dirham_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:moroccan_dirham_order = 3
				var:moroccan_dirham_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_3 #Player country quantity of moroccan_dirham sell
					value  = scope:player_country.var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = moroccan_dirham_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:moroccan_dirham_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_3 #Player country quantity of moroccan_dirham sell
					value  = var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_3
					value = scope:target.var:moroccan_dirham_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to moroccan_dirham_suply
				set_variable = {
					name = moroccan_dirham_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:moroccan_dirham_quantity
							multiply = var:moroccan_dirham_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_moroccan_dirham_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_moroccan_dirham_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:moroccan_dirham_order = 4
				var:moroccan_dirham_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_4 #Player country quantity of moroccan_dirham sell
					value  = scope:player_country.var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = moroccan_dirham_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:moroccan_dirham_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_4 #Player country quantity of moroccan_dirham sell
					value  = var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_4
					value = scope:target.var:moroccan_dirham_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to moroccan_dirham_suply
				set_variable = {
					name = moroccan_dirham_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:moroccan_dirham_quantity
							multiply = var:moroccan_dirham_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_moroccan_dirham_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_moroccan_dirham_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:moroccan_dirham_order = 5
				var:moroccan_dirham_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_5 #Player country quantity of moroccan_dirham sell
					value  = scope:player_country.var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = moroccan_dirham_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:moroccan_dirham_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = moroccan_dirham_sell_5 #Player country quantity of moroccan_dirham sell
					value  = var:moroccan_dirham_quantity
				}

				#exchange rate
				set_variable = {
					name = moroccan_dirham_to_player_currency_exchange_rate_5
					value = scope:target.var:moroccan_dirham_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to moroccan_dirham_suply
				set_variable = {
					name = moroccan_dirham_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:moroccan_dirham_quantity
							multiply = var:moroccan_dirham_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_moroccan_dirham_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_moroccan_dirham_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:moroccan_dirham_order >= 5
			}
			set_variable = {
				name = moroccan_dirham_order
				#Player country quantity of moroccan_dirham sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_moroccan_dirham_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:moroccan_dirham_quantity < stockpiling_moroccan_dirham_state
		player.central_bank_gold_reserves_state > buy_moroccan_dirham_in_gold_market_panel
	}
}
sell_moroccan_dirham_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:moroccan_dirham_quantity < player.stockpiling_moroccan_dirham_state
		central_bank_gold_reserves_state > sell_moroccan_dirham_in_gold_market_panel
	}
}
moroccan_dirham_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_moroccan_dirham_state_1
					add = scope:player_country.var:moroccan_dirham_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:moroccan_dirham_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_moroccan_dirham_state_1
						subtract = owner.var:moroccan_dirham_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:moroccan_dirham_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
moroccan_dirham_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_moroccan_dirham_state_1
					subtract = scope:player_country.var:moroccan_dirham_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:moroccan_dirham_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_moroccan_dirham_state_1
						add = owner.var:moroccan_dirham_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:moroccan_dirham_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#new_zealand_dollar
new_zealand_dollar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = new_zealand_dollar_quantity
				#var:new_zealand_dollar_quantity < market.owner.stockpiling_new_zealand_dollar_state
				var:new_zealand_dollar_quantity < sell_limit_currency_var_rest
				var:new_zealand_dollar_quantity < 20000000
			}
			change_variable = {
				name = new_zealand_dollar_quantity
				add = 5000000
			}
		}
	}
}
new_zealand_dollar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = new_zealand_dollar_quantity
				var:new_zealand_dollar_quantity > 5000000
			}
			change_variable = {
				name = new_zealand_dollar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_new_zealand_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_new_zealand_dollar_state > player.var:new_zealand_dollar_quantity

		money_supply_verification_new_zealand_dollar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:new_zealand_dollar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_new_zealand_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_new_zealand_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_new_zealand_dollar_state > player.var:new_zealand_dollar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_new_zealand_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_new_zealand_dollar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_new_zealand_dollar_market_panel_verification_current = 1

	}
}
buy_new_zealand_dollar_market_panel = {
	is_shown = {
		var:new_zealand_dollar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = new_zealand_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:new_zealand_dollar_order = 1
				var:new_zealand_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_1 #Player country quantity of new_zealand_dollar buy
					value  = scope:player_country.var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = new_zealand_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:new_zealand_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_buy_1 #Player country quantity of new_zealand_dollar buy
					value  = var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:new_zealand_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to new_zealand_dollar_suply
				set_variable = {
					name = new_zealand_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:new_zealand_dollar_quantity
							multiply = var:new_zealand_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_new_zealand_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_new_zealand_dollar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:new_zealand_dollar_order = 2
				var:new_zealand_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_2 #Player country quantity of new_zealand_dollar buy
					value  = scope:player_country.var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = new_zealand_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:new_zealand_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_buy_2 #Player country quantity of new_zealand_dollar buy
					value  = var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:new_zealand_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to new_zealand_dollar_suply
				set_variable = {
					name = new_zealand_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:new_zealand_dollar_quantity
							multiply = var:new_zealand_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_new_zealand_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_new_zealand_dollar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:new_zealand_dollar_order = 3
				var:new_zealand_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_3 #Player country quantity of new_zealand_dollar buy
					value  = scope:player_country.var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = new_zealand_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:new_zealand_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_buy_3 #Player country quantity of new_zealand_dollar buy
					value  = var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:new_zealand_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to new_zealand_dollar_suply
				set_variable = {
					name = new_zealand_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:new_zealand_dollar_quantity
							multiply = var:new_zealand_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_new_zealand_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_new_zealand_dollar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:new_zealand_dollar_order = 4
				var:new_zealand_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_4 #Player country quantity of new_zealand_dollar buy
					value  = scope:player_country.var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = new_zealand_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:new_zealand_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_buy_4 #Player country quantity of new_zealand_dollar buy
					value  = var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:new_zealand_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to new_zealand_dollar_suply
				set_variable = {
					name = new_zealand_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:new_zealand_dollar_quantity
							multiply = var:new_zealand_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_new_zealand_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_new_zealand_dollar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:new_zealand_dollar_order = 5
				var:new_zealand_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_5 #Player country quantity of new_zealand_dollar buy
					value  = scope:player_country.var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = new_zealand_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:new_zealand_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_buy_5 #Player country quantity of new_zealand_dollar buy
					value  = var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:new_zealand_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to new_zealand_dollar_suply
				set_variable = {
					name = new_zealand_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:new_zealand_dollar_quantity
							multiply = var:new_zealand_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_new_zealand_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_new_zealand_dollar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:new_zealand_dollar_order >= 5
			}
			set_variable = {
				name = new_zealand_dollar_order
				#Player country quantity of new_zealand_dollar buy
				value  = 0
			}
		}
	}
}
sell_new_zealand_dollar_market_panel = {
	is_shown = {
		var:new_zealand_dollar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = new_zealand_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:new_zealand_dollar_order = 1
				var:new_zealand_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_1 #Player country quantity of new_zealand_dollar sell
					value  = scope:player_country.var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = new_zealand_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:new_zealand_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_1 #Player country quantity of new_zealand_dollar sell
					value  = var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:new_zealand_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to new_zealand_dollar_suply
				set_variable = {
					name = new_zealand_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:new_zealand_dollar_quantity
							multiply = var:new_zealand_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_new_zealand_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_new_zealand_dollar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:new_zealand_dollar_order = 2
				var:new_zealand_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_2 #Player country quantity of new_zealand_dollar sell
					value  = scope:player_country.var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = new_zealand_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:new_zealand_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_2 #Player country quantity of new_zealand_dollar sell
					value  = var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:new_zealand_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to new_zealand_dollar_suply
				set_variable = {
					name = new_zealand_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:new_zealand_dollar_quantity
							multiply = var:new_zealand_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_new_zealand_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_new_zealand_dollar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:new_zealand_dollar_order = 3
				var:new_zealand_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_3 #Player country quantity of new_zealand_dollar sell
					value  = scope:player_country.var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = new_zealand_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:new_zealand_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_3 #Player country quantity of new_zealand_dollar sell
					value  = var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:new_zealand_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to new_zealand_dollar_suply
				set_variable = {
					name = new_zealand_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:new_zealand_dollar_quantity
							multiply = var:new_zealand_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_new_zealand_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_new_zealand_dollar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:new_zealand_dollar_order = 4
				var:new_zealand_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_4 #Player country quantity of new_zealand_dollar sell
					value  = scope:player_country.var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = new_zealand_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:new_zealand_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_4 #Player country quantity of new_zealand_dollar sell
					value  = var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:new_zealand_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to new_zealand_dollar_suply
				set_variable = {
					name = new_zealand_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:new_zealand_dollar_quantity
							multiply = var:new_zealand_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_new_zealand_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_new_zealand_dollar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:new_zealand_dollar_order = 5
				var:new_zealand_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_5 #Player country quantity of new_zealand_dollar sell
					value  = scope:player_country.var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = new_zealand_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:new_zealand_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = new_zealand_dollar_sell_5 #Player country quantity of new_zealand_dollar sell
					value  = var:new_zealand_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = new_zealand_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:new_zealand_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to new_zealand_dollar_suply
				set_variable = {
					name = new_zealand_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:new_zealand_dollar_quantity
							multiply = var:new_zealand_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_new_zealand_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_new_zealand_dollar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:new_zealand_dollar_order >= 5
			}
			set_variable = {
				name = new_zealand_dollar_order
				#Player country quantity of new_zealand_dollar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_new_zealand_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:new_zealand_dollar_quantity < stockpiling_new_zealand_dollar_state
		player.central_bank_gold_reserves_state > buy_new_zealand_dollar_in_gold_market_panel
	}
}
sell_new_zealand_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:new_zealand_dollar_quantity < player.stockpiling_new_zealand_dollar_state
		central_bank_gold_reserves_state > sell_new_zealand_dollar_in_gold_market_panel
	}
}
new_zealand_dollar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_new_zealand_dollar_state_1
					add = scope:player_country.var:new_zealand_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:new_zealand_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_new_zealand_dollar_state_1
						subtract = owner.var:new_zealand_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:new_zealand_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
new_zealand_dollar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_new_zealand_dollar_state_1
					subtract = scope:player_country.var:new_zealand_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:new_zealand_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_new_zealand_dollar_state_1
						add = owner.var:new_zealand_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:new_zealand_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#nicaraguan_cordoba
nicaraguan_cordoba_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = nicaraguan_cordoba_quantity
				#var:nicaraguan_cordoba_quantity < market.owner.stockpiling_nicaraguan_cordoba_state
				var:nicaraguan_cordoba_quantity < sell_limit_currency_var_rest
				var:nicaraguan_cordoba_quantity < 20000000
			}
			change_variable = {
				name = nicaraguan_cordoba_quantity
				add = 5000000
			}
		}
	}
}
nicaraguan_cordoba_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = nicaraguan_cordoba_quantity
				var:nicaraguan_cordoba_quantity > 5000000
			}
			change_variable = {
				name = nicaraguan_cordoba_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_nicaraguan_cordoba_market_panel_enabled = {
	is_valid = {
		stockpiling_nicaraguan_cordoba_state > player.var:nicaraguan_cordoba_quantity

		money_supply_verification_nicaraguan_cordoba < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:nicaraguan_cordoba_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_nicaraguan_cordoba_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_nicaraguan_cordoba_market_panel_enabled = {
	is_valid = {
		stockpiling_nicaraguan_cordoba_state > player.var:nicaraguan_cordoba_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_nicaraguan_cordoba_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_nicaraguan_cordoba_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_nicaraguan_cordoba_market_panel_verification_current = 1

	}
}
buy_nicaraguan_cordoba_market_panel = {
	is_shown = {
		var:nicaraguan_cordoba_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = nicaraguan_cordoba_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:nicaraguan_cordoba_order = 1
				var:nicaraguan_cordoba_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_1 #Player country quantity of nicaraguan_cordoba buy
					value  = scope:player_country.var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nicaraguan_cordoba_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nicaraguan_cordoba_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_buy_1 #Player country quantity of nicaraguan_cordoba buy
					value  = var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_1
					value = scope:target.var:nicaraguan_cordoba_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to nicaraguan_cordoba_suply
				set_variable = {
					name = nicaraguan_cordoba_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nicaraguan_cordoba_quantity
							multiply = var:nicaraguan_cordoba_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_nicaraguan_cordoba_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nicaraguan_cordoba_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:nicaraguan_cordoba_order = 2
				var:nicaraguan_cordoba_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_2 #Player country quantity of nicaraguan_cordoba buy
					value  = scope:player_country.var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nicaraguan_cordoba_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nicaraguan_cordoba_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_buy_2 #Player country quantity of nicaraguan_cordoba buy
					value  = var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_2
					value = scope:target.var:nicaraguan_cordoba_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to nicaraguan_cordoba_suply
				set_variable = {
					name = nicaraguan_cordoba_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nicaraguan_cordoba_quantity
							multiply = var:nicaraguan_cordoba_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_nicaraguan_cordoba_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nicaraguan_cordoba_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:nicaraguan_cordoba_order = 3
				var:nicaraguan_cordoba_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_3 #Player country quantity of nicaraguan_cordoba buy
					value  = scope:player_country.var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nicaraguan_cordoba_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nicaraguan_cordoba_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_buy_3 #Player country quantity of nicaraguan_cordoba buy
					value  = var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_3
					value = scope:target.var:nicaraguan_cordoba_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to nicaraguan_cordoba_suply
				set_variable = {
					name = nicaraguan_cordoba_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nicaraguan_cordoba_quantity
							multiply = var:nicaraguan_cordoba_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_nicaraguan_cordoba_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nicaraguan_cordoba_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:nicaraguan_cordoba_order = 4
				var:nicaraguan_cordoba_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_4 #Player country quantity of nicaraguan_cordoba buy
					value  = scope:player_country.var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nicaraguan_cordoba_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nicaraguan_cordoba_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_buy_4 #Player country quantity of nicaraguan_cordoba buy
					value  = var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_4
					value = scope:target.var:nicaraguan_cordoba_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to nicaraguan_cordoba_suply
				set_variable = {
					name = nicaraguan_cordoba_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nicaraguan_cordoba_quantity
							multiply = var:nicaraguan_cordoba_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_nicaraguan_cordoba_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nicaraguan_cordoba_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:nicaraguan_cordoba_order = 5
				var:nicaraguan_cordoba_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_5 #Player country quantity of nicaraguan_cordoba buy
					value  = scope:player_country.var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nicaraguan_cordoba_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nicaraguan_cordoba_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_buy_5 #Player country quantity of nicaraguan_cordoba buy
					value  = var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_5
					value = scope:target.var:nicaraguan_cordoba_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to nicaraguan_cordoba_suply
				set_variable = {
					name = nicaraguan_cordoba_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nicaraguan_cordoba_quantity
							multiply = var:nicaraguan_cordoba_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_nicaraguan_cordoba_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nicaraguan_cordoba_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:nicaraguan_cordoba_order >= 5
			}
			set_variable = {
				name = nicaraguan_cordoba_order
				#Player country quantity of nicaraguan_cordoba buy
				value  = 0
			}
		}
	}
}
sell_nicaraguan_cordoba_market_panel = {
	is_shown = {
		var:nicaraguan_cordoba_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = nicaraguan_cordoba_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:nicaraguan_cordoba_order = 1
				var:nicaraguan_cordoba_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_1 #Player country quantity of nicaraguan_cordoba sell
					value  = scope:player_country.var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nicaraguan_cordoba_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nicaraguan_cordoba_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_1 #Player country quantity of nicaraguan_cordoba sell
					value  = var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_1
					value = scope:target.var:nicaraguan_cordoba_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to nicaraguan_cordoba_suply
				set_variable = {
					name = nicaraguan_cordoba_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nicaraguan_cordoba_quantity
							multiply = var:nicaraguan_cordoba_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_nicaraguan_cordoba_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nicaraguan_cordoba_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:nicaraguan_cordoba_order = 2
				var:nicaraguan_cordoba_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_2 #Player country quantity of nicaraguan_cordoba sell
					value  = scope:player_country.var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nicaraguan_cordoba_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nicaraguan_cordoba_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_2 #Player country quantity of nicaraguan_cordoba sell
					value  = var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_2
					value = scope:target.var:nicaraguan_cordoba_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to nicaraguan_cordoba_suply
				set_variable = {
					name = nicaraguan_cordoba_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nicaraguan_cordoba_quantity
							multiply = var:nicaraguan_cordoba_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_nicaraguan_cordoba_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nicaraguan_cordoba_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:nicaraguan_cordoba_order = 3
				var:nicaraguan_cordoba_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_3 #Player country quantity of nicaraguan_cordoba sell
					value  = scope:player_country.var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nicaraguan_cordoba_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nicaraguan_cordoba_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_3 #Player country quantity of nicaraguan_cordoba sell
					value  = var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_3
					value = scope:target.var:nicaraguan_cordoba_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to nicaraguan_cordoba_suply
				set_variable = {
					name = nicaraguan_cordoba_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nicaraguan_cordoba_quantity
							multiply = var:nicaraguan_cordoba_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_nicaraguan_cordoba_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nicaraguan_cordoba_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:nicaraguan_cordoba_order = 4
				var:nicaraguan_cordoba_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_4 #Player country quantity of nicaraguan_cordoba sell
					value  = scope:player_country.var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nicaraguan_cordoba_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nicaraguan_cordoba_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_4 #Player country quantity of nicaraguan_cordoba sell
					value  = var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_4
					value = scope:target.var:nicaraguan_cordoba_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to nicaraguan_cordoba_suply
				set_variable = {
					name = nicaraguan_cordoba_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nicaraguan_cordoba_quantity
							multiply = var:nicaraguan_cordoba_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_nicaraguan_cordoba_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nicaraguan_cordoba_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:nicaraguan_cordoba_order = 5
				var:nicaraguan_cordoba_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_5 #Player country quantity of nicaraguan_cordoba sell
					value  = scope:player_country.var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nicaraguan_cordoba_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nicaraguan_cordoba_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nicaraguan_cordoba_sell_5 #Player country quantity of nicaraguan_cordoba sell
					value  = var:nicaraguan_cordoba_quantity
				}

				#exchange rate
				set_variable = {
					name = nicaraguan_cordoba_to_player_currency_exchange_rate_5
					value = scope:target.var:nicaraguan_cordoba_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to nicaraguan_cordoba_suply
				set_variable = {
					name = nicaraguan_cordoba_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nicaraguan_cordoba_quantity
							multiply = var:nicaraguan_cordoba_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_nicaraguan_cordoba_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nicaraguan_cordoba_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:nicaraguan_cordoba_order >= 5
			}
			set_variable = {
				name = nicaraguan_cordoba_order
				#Player country quantity of nicaraguan_cordoba sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_nicaraguan_cordoba_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:nicaraguan_cordoba_quantity < stockpiling_nicaraguan_cordoba_state
		player.central_bank_gold_reserves_state > buy_nicaraguan_cordoba_in_gold_market_panel
	}
}
sell_nicaraguan_cordoba_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:nicaraguan_cordoba_quantity < player.stockpiling_nicaraguan_cordoba_state
		central_bank_gold_reserves_state > sell_nicaraguan_cordoba_in_gold_market_panel
	}
}
nicaraguan_cordoba_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_nicaraguan_cordoba_state_1
					add = scope:player_country.var:nicaraguan_cordoba_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:nicaraguan_cordoba_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_nicaraguan_cordoba_state_1
						subtract = owner.var:nicaraguan_cordoba_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:nicaraguan_cordoba_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
nicaraguan_cordoba_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_nicaraguan_cordoba_state_1
					subtract = scope:player_country.var:nicaraguan_cordoba_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:nicaraguan_cordoba_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_nicaraguan_cordoba_state_1
						add = owner.var:nicaraguan_cordoba_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:nicaraguan_cordoba_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#nigerian_naira
nigerian_naira_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = nigerian_naira_quantity
				#var:nigerian_naira_quantity < market.owner.stockpiling_nigerian_naira_state
				var:nigerian_naira_quantity < sell_limit_currency_var_rest
				var:nigerian_naira_quantity < 20000000
			}
			change_variable = {
				name = nigerian_naira_quantity
				add = 5000000
			}
		}
	}
}
nigerian_naira_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = nigerian_naira_quantity
				var:nigerian_naira_quantity > 5000000
			}
			change_variable = {
				name = nigerian_naira_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_nigerian_naira_market_panel_enabled = {
	is_valid = {
		stockpiling_nigerian_naira_state > player.var:nigerian_naira_quantity

		money_supply_verification_nigerian_naira < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:nigerian_naira_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_nigerian_naira_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_nigerian_naira_market_panel_enabled = {
	is_valid = {
		stockpiling_nigerian_naira_state > player.var:nigerian_naira_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_nigerian_naira_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_nigerian_naira_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_nigerian_naira_market_panel_verification_current = 1

	}
}
buy_nigerian_naira_market_panel = {
	is_shown = {
		var:nigerian_naira_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = nigerian_naira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:nigerian_naira_order = 1
				var:nigerian_naira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_1 #Player country quantity of nigerian_naira buy
					value  = scope:player_country.var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nigerian_naira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nigerian_naira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_buy_1 #Player country quantity of nigerian_naira buy
					value  = var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_1
					value = scope:target.var:nigerian_naira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to nigerian_naira_suply
				set_variable = {
					name = nigerian_naira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nigerian_naira_quantity
							multiply = var:nigerian_naira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_nigerian_naira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nigerian_naira_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:nigerian_naira_order = 2
				var:nigerian_naira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_2 #Player country quantity of nigerian_naira buy
					value  = scope:player_country.var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nigerian_naira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nigerian_naira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_buy_2 #Player country quantity of nigerian_naira buy
					value  = var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_2
					value = scope:target.var:nigerian_naira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to nigerian_naira_suply
				set_variable = {
					name = nigerian_naira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nigerian_naira_quantity
							multiply = var:nigerian_naira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_nigerian_naira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nigerian_naira_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:nigerian_naira_order = 3
				var:nigerian_naira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_3 #Player country quantity of nigerian_naira buy
					value  = scope:player_country.var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nigerian_naira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nigerian_naira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_buy_3 #Player country quantity of nigerian_naira buy
					value  = var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_3
					value = scope:target.var:nigerian_naira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to nigerian_naira_suply
				set_variable = {
					name = nigerian_naira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nigerian_naira_quantity
							multiply = var:nigerian_naira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_nigerian_naira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nigerian_naira_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:nigerian_naira_order = 4
				var:nigerian_naira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_4 #Player country quantity of nigerian_naira buy
					value  = scope:player_country.var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nigerian_naira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nigerian_naira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_buy_4 #Player country quantity of nigerian_naira buy
					value  = var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_4
					value = scope:target.var:nigerian_naira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to nigerian_naira_suply
				set_variable = {
					name = nigerian_naira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nigerian_naira_quantity
							multiply = var:nigerian_naira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_nigerian_naira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nigerian_naira_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:nigerian_naira_order = 5
				var:nigerian_naira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_5 #Player country quantity of nigerian_naira buy
					value  = scope:player_country.var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nigerian_naira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nigerian_naira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_buy_5 #Player country quantity of nigerian_naira buy
					value  = var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_5
					value = scope:target.var:nigerian_naira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to nigerian_naira_suply
				set_variable = {
					name = nigerian_naira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nigerian_naira_quantity
							multiply = var:nigerian_naira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_nigerian_naira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nigerian_naira_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:nigerian_naira_order >= 5
			}
			set_variable = {
				name = nigerian_naira_order
				#Player country quantity of nigerian_naira buy
				value  = 0
			}
		}
	}
}
sell_nigerian_naira_market_panel = {
	is_shown = {
		var:nigerian_naira_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = nigerian_naira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:nigerian_naira_order = 1
				var:nigerian_naira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_1 #Player country quantity of nigerian_naira sell
					value  = scope:player_country.var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nigerian_naira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nigerian_naira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_1 #Player country quantity of nigerian_naira sell
					value  = var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_1
					value = scope:target.var:nigerian_naira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to nigerian_naira_suply
				set_variable = {
					name = nigerian_naira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nigerian_naira_quantity
							multiply = var:nigerian_naira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_nigerian_naira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nigerian_naira_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:nigerian_naira_order = 2
				var:nigerian_naira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_2 #Player country quantity of nigerian_naira sell
					value  = scope:player_country.var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nigerian_naira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nigerian_naira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_2 #Player country quantity of nigerian_naira sell
					value  = var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_2
					value = scope:target.var:nigerian_naira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to nigerian_naira_suply
				set_variable = {
					name = nigerian_naira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nigerian_naira_quantity
							multiply = var:nigerian_naira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_nigerian_naira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nigerian_naira_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:nigerian_naira_order = 3
				var:nigerian_naira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_3 #Player country quantity of nigerian_naira sell
					value  = scope:player_country.var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nigerian_naira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nigerian_naira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_3 #Player country quantity of nigerian_naira sell
					value  = var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_3
					value = scope:target.var:nigerian_naira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to nigerian_naira_suply
				set_variable = {
					name = nigerian_naira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nigerian_naira_quantity
							multiply = var:nigerian_naira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_nigerian_naira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nigerian_naira_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:nigerian_naira_order = 4
				var:nigerian_naira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_4 #Player country quantity of nigerian_naira sell
					value  = scope:player_country.var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nigerian_naira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nigerian_naira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_4 #Player country quantity of nigerian_naira sell
					value  = var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_4
					value = scope:target.var:nigerian_naira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to nigerian_naira_suply
				set_variable = {
					name = nigerian_naira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nigerian_naira_quantity
							multiply = var:nigerian_naira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_nigerian_naira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nigerian_naira_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:nigerian_naira_order = 5
				var:nigerian_naira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_5 #Player country quantity of nigerian_naira sell
					value  = scope:player_country.var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = nigerian_naira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:nigerian_naira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = nigerian_naira_sell_5 #Player country quantity of nigerian_naira sell
					value  = var:nigerian_naira_quantity
				}

				#exchange rate
				set_variable = {
					name = nigerian_naira_to_player_currency_exchange_rate_5
					value = scope:target.var:nigerian_naira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to nigerian_naira_suply
				set_variable = {
					name = nigerian_naira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:nigerian_naira_quantity
							multiply = var:nigerian_naira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_nigerian_naira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_nigerian_naira_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:nigerian_naira_order >= 5
			}
			set_variable = {
				name = nigerian_naira_order
				#Player country quantity of nigerian_naira sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_nigerian_naira_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:nigerian_naira_quantity < stockpiling_nigerian_naira_state
		player.central_bank_gold_reserves_state > buy_nigerian_naira_in_gold_market_panel
	}
}
sell_nigerian_naira_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:nigerian_naira_quantity < player.stockpiling_nigerian_naira_state
		central_bank_gold_reserves_state > sell_nigerian_naira_in_gold_market_panel
	}
}
nigerian_naira_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_nigerian_naira_state_1
					add = scope:player_country.var:nigerian_naira_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:nigerian_naira_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_nigerian_naira_state_1
						subtract = owner.var:nigerian_naira_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:nigerian_naira_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
nigerian_naira_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_nigerian_naira_state_1
					subtract = scope:player_country.var:nigerian_naira_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:nigerian_naira_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_nigerian_naira_state_1
						add = owner.var:nigerian_naira_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:nigerian_naira_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#norwegian_krone
norwegian_krone_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = norwegian_krone_quantity
				#var:norwegian_krone_quantity < market.owner.stockpiling_norwegian_krone_state
				var:norwegian_krone_quantity < sell_limit_currency_var_rest
				var:norwegian_krone_quantity < 20000000
			}
			change_variable = {
				name = norwegian_krone_quantity
				add = 5000000
			}
		}
	}
}
norwegian_krone_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = norwegian_krone_quantity
				var:norwegian_krone_quantity > 5000000
			}
			change_variable = {
				name = norwegian_krone_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_norwegian_krone_market_panel_enabled = {
	is_valid = {
		stockpiling_norwegian_krone_state > player.var:norwegian_krone_quantity

		money_supply_verification_norwegian_krone < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:norwegian_krone_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_norwegian_krone_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_norwegian_krone_market_panel_enabled = {
	is_valid = {
		stockpiling_norwegian_krone_state > player.var:norwegian_krone_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_norwegian_krone_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_norwegian_krone_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_norwegian_krone_market_panel_verification_current = 1

	}
}
buy_norwegian_krone_market_panel = {
	is_shown = {
		var:norwegian_krone_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = norwegian_krone_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:norwegian_krone_order = 1
				var:norwegian_krone_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_1 #Player country quantity of norwegian_krone buy
					value  = scope:player_country.var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = norwegian_krone_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:norwegian_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_buy_1 #Player country quantity of norwegian_krone buy
					value  = var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_1
					value = scope:target.var:norwegian_krone_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to norwegian_krone_suply
				set_variable = {
					name = norwegian_krone_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:norwegian_krone_quantity
							multiply = var:norwegian_krone_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_norwegian_krone_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_norwegian_krone_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:norwegian_krone_order = 2
				var:norwegian_krone_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_2 #Player country quantity of norwegian_krone buy
					value  = scope:player_country.var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = norwegian_krone_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:norwegian_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_buy_2 #Player country quantity of norwegian_krone buy
					value  = var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_2
					value = scope:target.var:norwegian_krone_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to norwegian_krone_suply
				set_variable = {
					name = norwegian_krone_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:norwegian_krone_quantity
							multiply = var:norwegian_krone_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_norwegian_krone_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_norwegian_krone_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:norwegian_krone_order = 3
				var:norwegian_krone_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_3 #Player country quantity of norwegian_krone buy
					value  = scope:player_country.var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = norwegian_krone_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:norwegian_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_buy_3 #Player country quantity of norwegian_krone buy
					value  = var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_3
					value = scope:target.var:norwegian_krone_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to norwegian_krone_suply
				set_variable = {
					name = norwegian_krone_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:norwegian_krone_quantity
							multiply = var:norwegian_krone_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_norwegian_krone_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_norwegian_krone_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:norwegian_krone_order = 4
				var:norwegian_krone_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_4 #Player country quantity of norwegian_krone buy
					value  = scope:player_country.var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = norwegian_krone_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:norwegian_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_buy_4 #Player country quantity of norwegian_krone buy
					value  = var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_4
					value = scope:target.var:norwegian_krone_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to norwegian_krone_suply
				set_variable = {
					name = norwegian_krone_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:norwegian_krone_quantity
							multiply = var:norwegian_krone_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_norwegian_krone_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_norwegian_krone_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:norwegian_krone_order = 5
				var:norwegian_krone_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_5 #Player country quantity of norwegian_krone buy
					value  = scope:player_country.var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = norwegian_krone_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:norwegian_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_buy_5 #Player country quantity of norwegian_krone buy
					value  = var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_5
					value = scope:target.var:norwegian_krone_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to norwegian_krone_suply
				set_variable = {
					name = norwegian_krone_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:norwegian_krone_quantity
							multiply = var:norwegian_krone_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_norwegian_krone_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_norwegian_krone_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:norwegian_krone_order >= 5
			}
			set_variable = {
				name = norwegian_krone_order
				#Player country quantity of norwegian_krone buy
				value  = 0
			}
		}
	}
}
sell_norwegian_krone_market_panel = {
	is_shown = {
		var:norwegian_krone_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = norwegian_krone_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:norwegian_krone_order = 1
				var:norwegian_krone_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_1 #Player country quantity of norwegian_krone sell
					value  = scope:player_country.var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = norwegian_krone_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:norwegian_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_1 #Player country quantity of norwegian_krone sell
					value  = var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_1
					value = scope:target.var:norwegian_krone_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to norwegian_krone_suply
				set_variable = {
					name = norwegian_krone_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:norwegian_krone_quantity
							multiply = var:norwegian_krone_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_norwegian_krone_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_norwegian_krone_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:norwegian_krone_order = 2
				var:norwegian_krone_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_2 #Player country quantity of norwegian_krone sell
					value  = scope:player_country.var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = norwegian_krone_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:norwegian_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_2 #Player country quantity of norwegian_krone sell
					value  = var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_2
					value = scope:target.var:norwegian_krone_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to norwegian_krone_suply
				set_variable = {
					name = norwegian_krone_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:norwegian_krone_quantity
							multiply = var:norwegian_krone_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_norwegian_krone_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_norwegian_krone_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:norwegian_krone_order = 3
				var:norwegian_krone_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_3 #Player country quantity of norwegian_krone sell
					value  = scope:player_country.var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = norwegian_krone_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:norwegian_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_3 #Player country quantity of norwegian_krone sell
					value  = var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_3
					value = scope:target.var:norwegian_krone_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to norwegian_krone_suply
				set_variable = {
					name = norwegian_krone_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:norwegian_krone_quantity
							multiply = var:norwegian_krone_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_norwegian_krone_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_norwegian_krone_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:norwegian_krone_order = 4
				var:norwegian_krone_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_4 #Player country quantity of norwegian_krone sell
					value  = scope:player_country.var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = norwegian_krone_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:norwegian_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_4 #Player country quantity of norwegian_krone sell
					value  = var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_4
					value = scope:target.var:norwegian_krone_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to norwegian_krone_suply
				set_variable = {
					name = norwegian_krone_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:norwegian_krone_quantity
							multiply = var:norwegian_krone_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_norwegian_krone_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_norwegian_krone_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:norwegian_krone_order = 5
				var:norwegian_krone_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_5 #Player country quantity of norwegian_krone sell
					value  = scope:player_country.var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = norwegian_krone_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:norwegian_krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = norwegian_krone_sell_5 #Player country quantity of norwegian_krone sell
					value  = var:norwegian_krone_quantity
				}

				#exchange rate
				set_variable = {
					name = norwegian_krone_to_player_currency_exchange_rate_5
					value = scope:target.var:norwegian_krone_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to norwegian_krone_suply
				set_variable = {
					name = norwegian_krone_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:norwegian_krone_quantity
							multiply = var:norwegian_krone_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_norwegian_krone_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_norwegian_krone_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:norwegian_krone_order >= 5
			}
			set_variable = {
				name = norwegian_krone_order
				#Player country quantity of norwegian_krone sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_norwegian_krone_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:norwegian_krone_quantity < stockpiling_norwegian_krone_state
		player.central_bank_gold_reserves_state > buy_norwegian_krone_in_gold_market_panel
	}
}
sell_norwegian_krone_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:norwegian_krone_quantity < player.stockpiling_norwegian_krone_state
		central_bank_gold_reserves_state > sell_norwegian_krone_in_gold_market_panel
	}
}
norwegian_krone_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_norwegian_krone_state_1
					add = scope:player_country.var:norwegian_krone_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:norwegian_krone_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_norwegian_krone_state_1
						subtract = owner.var:norwegian_krone_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:norwegian_krone_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
norwegian_krone_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_norwegian_krone_state_1
					subtract = scope:player_country.var:norwegian_krone_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:norwegian_krone_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_norwegian_krone_state_1
						add = owner.var:norwegian_krone_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:norwegian_krone_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#omanian_rial
omanian_rial_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = omanian_rial_quantity
				#var:omanian_rial_quantity < market.owner.stockpiling_omanian_rial_state
				var:omanian_rial_quantity < sell_limit_currency_var_rest
				var:omanian_rial_quantity < 20000000
			}
			change_variable = {
				name = omanian_rial_quantity
				add = 5000000
			}
		}
	}
}
omanian_rial_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = omanian_rial_quantity
				var:omanian_rial_quantity > 5000000
			}
			change_variable = {
				name = omanian_rial_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_omanian_rial_market_panel_enabled = {
	is_valid = {
		stockpiling_omanian_rial_state > player.var:omanian_rial_quantity

		money_supply_verification_omanian_rial < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:omanian_rial_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_omanian_rial_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_omanian_rial_market_panel_enabled = {
	is_valid = {
		stockpiling_omanian_rial_state > player.var:omanian_rial_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_omanian_rial_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_omanian_rial_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_omanian_rial_market_panel_verification_current = 1

	}
}
buy_omanian_rial_market_panel = {
	is_shown = {
		var:omanian_rial_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = omanian_rial_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:omanian_rial_order = 1
				var:omanian_rial_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_1 #Player country quantity of omanian_rial buy
					value  = scope:player_country.var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = omanian_rial_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:omanian_rial_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_buy_1 #Player country quantity of omanian_rial buy
					value  = var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_1
					value = scope:target.var:omanian_rial_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to omanian_rial_suply
				set_variable = {
					name = omanian_rial_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:omanian_rial_quantity
							multiply = var:omanian_rial_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_omanian_rial_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_omanian_rial_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:omanian_rial_order = 2
				var:omanian_rial_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_2 #Player country quantity of omanian_rial buy
					value  = scope:player_country.var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = omanian_rial_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:omanian_rial_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_buy_2 #Player country quantity of omanian_rial buy
					value  = var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_2
					value = scope:target.var:omanian_rial_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to omanian_rial_suply
				set_variable = {
					name = omanian_rial_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:omanian_rial_quantity
							multiply = var:omanian_rial_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_omanian_rial_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_omanian_rial_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:omanian_rial_order = 3
				var:omanian_rial_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_3 #Player country quantity of omanian_rial buy
					value  = scope:player_country.var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = omanian_rial_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:omanian_rial_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_buy_3 #Player country quantity of omanian_rial buy
					value  = var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_3
					value = scope:target.var:omanian_rial_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to omanian_rial_suply
				set_variable = {
					name = omanian_rial_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:omanian_rial_quantity
							multiply = var:omanian_rial_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_omanian_rial_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_omanian_rial_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:omanian_rial_order = 4
				var:omanian_rial_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_4 #Player country quantity of omanian_rial buy
					value  = scope:player_country.var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = omanian_rial_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:omanian_rial_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_buy_4 #Player country quantity of omanian_rial buy
					value  = var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_4
					value = scope:target.var:omanian_rial_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to omanian_rial_suply
				set_variable = {
					name = omanian_rial_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:omanian_rial_quantity
							multiply = var:omanian_rial_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_omanian_rial_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_omanian_rial_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:omanian_rial_order = 5
				var:omanian_rial_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_5 #Player country quantity of omanian_rial buy
					value  = scope:player_country.var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = omanian_rial_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:omanian_rial_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_buy_5 #Player country quantity of omanian_rial buy
					value  = var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_5
					value = scope:target.var:omanian_rial_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to omanian_rial_suply
				set_variable = {
					name = omanian_rial_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:omanian_rial_quantity
							multiply = var:omanian_rial_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_omanian_rial_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_omanian_rial_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:omanian_rial_order >= 5
			}
			set_variable = {
				name = omanian_rial_order
				#Player country quantity of omanian_rial buy
				value  = 0
			}
		}
	}
}
sell_omanian_rial_market_panel = {
	is_shown = {
		var:omanian_rial_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = omanian_rial_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:omanian_rial_order = 1
				var:omanian_rial_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_1 #Player country quantity of omanian_rial sell
					value  = scope:player_country.var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = omanian_rial_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:omanian_rial_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_1 #Player country quantity of omanian_rial sell
					value  = var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_1
					value = scope:target.var:omanian_rial_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to omanian_rial_suply
				set_variable = {
					name = omanian_rial_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:omanian_rial_quantity
							multiply = var:omanian_rial_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_omanian_rial_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_omanian_rial_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:omanian_rial_order = 2
				var:omanian_rial_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_2 #Player country quantity of omanian_rial sell
					value  = scope:player_country.var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = omanian_rial_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:omanian_rial_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_2 #Player country quantity of omanian_rial sell
					value  = var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_2
					value = scope:target.var:omanian_rial_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to omanian_rial_suply
				set_variable = {
					name = omanian_rial_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:omanian_rial_quantity
							multiply = var:omanian_rial_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_omanian_rial_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_omanian_rial_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:omanian_rial_order = 3
				var:omanian_rial_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_3 #Player country quantity of omanian_rial sell
					value  = scope:player_country.var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = omanian_rial_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:omanian_rial_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_3 #Player country quantity of omanian_rial sell
					value  = var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_3
					value = scope:target.var:omanian_rial_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to omanian_rial_suply
				set_variable = {
					name = omanian_rial_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:omanian_rial_quantity
							multiply = var:omanian_rial_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_omanian_rial_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_omanian_rial_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:omanian_rial_order = 4
				var:omanian_rial_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_4 #Player country quantity of omanian_rial sell
					value  = scope:player_country.var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = omanian_rial_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:omanian_rial_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_4 #Player country quantity of omanian_rial sell
					value  = var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_4
					value = scope:target.var:omanian_rial_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to omanian_rial_suply
				set_variable = {
					name = omanian_rial_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:omanian_rial_quantity
							multiply = var:omanian_rial_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_omanian_rial_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_omanian_rial_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:omanian_rial_order = 5
				var:omanian_rial_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_5 #Player country quantity of omanian_rial sell
					value  = scope:player_country.var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = omanian_rial_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:omanian_rial_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = omanian_rial_sell_5 #Player country quantity of omanian_rial sell
					value  = var:omanian_rial_quantity
				}

				#exchange rate
				set_variable = {
					name = omanian_rial_to_player_currency_exchange_rate_5
					value = scope:target.var:omanian_rial_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to omanian_rial_suply
				set_variable = {
					name = omanian_rial_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:omanian_rial_quantity
							multiply = var:omanian_rial_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_omanian_rial_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_omanian_rial_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:omanian_rial_order >= 5
			}
			set_variable = {
				name = omanian_rial_order
				#Player country quantity of omanian_rial sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_omanian_rial_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:omanian_rial_quantity < stockpiling_omanian_rial_state
		player.central_bank_gold_reserves_state > buy_omanian_rial_in_gold_market_panel
	}
}
sell_omanian_rial_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:omanian_rial_quantity < player.stockpiling_omanian_rial_state
		central_bank_gold_reserves_state > sell_omanian_rial_in_gold_market_panel
	}
}
omanian_rial_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_omanian_rial_state_1
					add = scope:player_country.var:omanian_rial_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:omanian_rial_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_omanian_rial_state_1
						subtract = owner.var:omanian_rial_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:omanian_rial_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
omanian_rial_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_omanian_rial_state_1
					subtract = scope:player_country.var:omanian_rial_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:omanian_rial_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_omanian_rial_state_1
						add = owner.var:omanian_rial_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:omanian_rial_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#ottoman_lira
ottoman_lira_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = ottoman_lira_quantity
				#var:ottoman_lira_quantity < market.owner.stockpiling_ottoman_lira_state
				var:ottoman_lira_quantity < sell_limit_currency_var_rest
				var:ottoman_lira_quantity < 20000000
			}
			change_variable = {
				name = ottoman_lira_quantity
				add = 5000000
			}
		}
	}
}
ottoman_lira_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = ottoman_lira_quantity
				var:ottoman_lira_quantity > 5000000
			}
			change_variable = {
				name = ottoman_lira_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_ottoman_lira_market_panel_enabled = {
	is_valid = {
		stockpiling_ottoman_lira_state > player.var:ottoman_lira_quantity

		money_supply_verification_ottoman_lira < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:ottoman_lira_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_ottoman_lira_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_ottoman_lira_market_panel_enabled = {
	is_valid = {
		stockpiling_ottoman_lira_state > player.var:ottoman_lira_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_ottoman_lira_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_ottoman_lira_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_ottoman_lira_market_panel_verification_current = 1

	}
}
buy_ottoman_lira_market_panel = {
	is_shown = {
		var:ottoman_lira_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ottoman_lira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ottoman_lira_order = 1
				var:ottoman_lira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_1 #Player country quantity of ottoman_lira buy
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_buy_1 #Player country quantity of ottoman_lira buy
					value  = var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_1
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ottoman_lira_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_ottoman_lira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ottoman_lira_order = 2
				var:ottoman_lira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_2 #Player country quantity of ottoman_lira buy
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_buy_2 #Player country quantity of ottoman_lira buy
					value  = var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_2
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ottoman_lira_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_ottoman_lira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ottoman_lira_order = 3
				var:ottoman_lira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_3 #Player country quantity of ottoman_lira buy
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_buy_3 #Player country quantity of ottoman_lira buy
					value  = var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_3
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ottoman_lira_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_ottoman_lira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ottoman_lira_order = 4
				var:ottoman_lira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_4 #Player country quantity of ottoman_lira buy
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_buy_4 #Player country quantity of ottoman_lira buy
					value  = var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_4
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ottoman_lira_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_ottoman_lira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ottoman_lira_order = 5
				var:ottoman_lira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_5 #Player country quantity of ottoman_lira buy
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_buy_5 #Player country quantity of ottoman_lira buy
					value  = var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_5
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ottoman_lira_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_ottoman_lira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ottoman_lira_order >= 5
			}
			set_variable = {
				name = ottoman_lira_order
				#Player country quantity of ottoman_lira buy
				value  = 0
			}
		}
	}
}
sell_ottoman_lira_market_panel = {
	is_shown = {
		var:ottoman_lira_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ottoman_lira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ottoman_lira_order = 1
				var:ottoman_lira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_1 #Player country quantity of ottoman_lira sell
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_1 #Player country quantity of ottoman_lira sell
					value  = var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_1
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ottoman_lira_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_ottoman_lira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ottoman_lira_order = 2
				var:ottoman_lira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_2 #Player country quantity of ottoman_lira sell
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_2 #Player country quantity of ottoman_lira sell
					value  = var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_2
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ottoman_lira_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_ottoman_lira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ottoman_lira_order = 3
				var:ottoman_lira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_3 #Player country quantity of ottoman_lira sell
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_3 #Player country quantity of ottoman_lira sell
					value  = var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_3
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ottoman_lira_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_ottoman_lira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ottoman_lira_order = 4
				var:ottoman_lira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_4 #Player country quantity of ottoman_lira sell
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_4 #Player country quantity of ottoman_lira sell
					value  = var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_4
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ottoman_lira_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_ottoman_lira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ottoman_lira_order = 5
				var:ottoman_lira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_5 #Player country quantity of ottoman_lira sell
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_5 #Player country quantity of ottoman_lira sell
					value  = var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_5
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ottoman_lira_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_ottoman_lira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ottoman_lira_order >= 5
			}
			set_variable = {
				name = ottoman_lira_order
				#Player country quantity of ottoman_lira sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_ottoman_lira_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ottoman_lira_quantity < stockpiling_ottoman_lira_state
		player.central_bank_gold_reserves_state > buy_ottoman_lira_in_gold_market_panel
	}
}
sell_ottoman_lira_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ottoman_lira_quantity < player.stockpiling_ottoman_lira_state
		central_bank_gold_reserves_state > sell_ottoman_lira_in_gold_market_panel
	}
}
ottoman_lira_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ottoman_lira_state_1
					add = scope:player_country.var:ottoman_lira_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:ottoman_lira_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ottoman_lira_state_1
						subtract = owner.var:ottoman_lira_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:ottoman_lira_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
ottoman_lira_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ottoman_lira_state_1
					subtract = scope:player_country.var:ottoman_lira_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:ottoman_lira_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ottoman_lira_state_1
						add = owner.var:ottoman_lira_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:ottoman_lira_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#pakistan_rupee
pakistan_rupee_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = pakistan_rupee_quantity
				#var:pakistan_rupee_quantity < market.owner.stockpiling_pakistan_rupee_state
				var:pakistan_rupee_quantity < sell_limit_currency_var_rest
				var:pakistan_rupee_quantity < 20000000
			}
			change_variable = {
				name = pakistan_rupee_quantity
				add = 5000000
			}
		}
	}
}
pakistan_rupee_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = pakistan_rupee_quantity
				var:pakistan_rupee_quantity > 5000000
			}
			change_variable = {
				name = pakistan_rupee_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_pakistan_rupee_market_panel_enabled = {
	is_valid = {
		stockpiling_pakistan_rupee_state > player.var:pakistan_rupee_quantity

		money_supply_verification_pakistan_rupee < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:pakistan_rupee_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_pakistan_rupee_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_pakistan_rupee_market_panel_enabled = {
	is_valid = {
		stockpiling_pakistan_rupee_state > player.var:pakistan_rupee_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_pakistan_rupee_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_pakistan_rupee_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_pakistan_rupee_market_panel_verification_current = 1

	}
}
buy_pakistan_rupee_market_panel = {
	is_shown = {
		var:pakistan_rupee_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = pakistan_rupee_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:pakistan_rupee_order = 1
				var:pakistan_rupee_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_1 #Player country quantity of pakistan_rupee buy
					value  = scope:player_country.var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pakistan_rupee_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pakistan_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_buy_1 #Player country quantity of pakistan_rupee buy
					value  = var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_1
					value = scope:target.var:pakistan_rupee_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to pakistan_rupee_suply
				set_variable = {
					name = pakistan_rupee_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pakistan_rupee_quantity
							multiply = var:pakistan_rupee_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_pakistan_rupee_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pakistan_rupee_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:pakistan_rupee_order = 2
				var:pakistan_rupee_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_2 #Player country quantity of pakistan_rupee buy
					value  = scope:player_country.var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pakistan_rupee_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pakistan_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_buy_2 #Player country quantity of pakistan_rupee buy
					value  = var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_2
					value = scope:target.var:pakistan_rupee_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to pakistan_rupee_suply
				set_variable = {
					name = pakistan_rupee_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pakistan_rupee_quantity
							multiply = var:pakistan_rupee_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_pakistan_rupee_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pakistan_rupee_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:pakistan_rupee_order = 3
				var:pakistan_rupee_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_3 #Player country quantity of pakistan_rupee buy
					value  = scope:player_country.var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pakistan_rupee_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pakistan_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_buy_3 #Player country quantity of pakistan_rupee buy
					value  = var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_3
					value = scope:target.var:pakistan_rupee_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to pakistan_rupee_suply
				set_variable = {
					name = pakistan_rupee_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pakistan_rupee_quantity
							multiply = var:pakistan_rupee_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_pakistan_rupee_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pakistan_rupee_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:pakistan_rupee_order = 4
				var:pakistan_rupee_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_4 #Player country quantity of pakistan_rupee buy
					value  = scope:player_country.var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pakistan_rupee_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pakistan_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_buy_4 #Player country quantity of pakistan_rupee buy
					value  = var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_4
					value = scope:target.var:pakistan_rupee_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to pakistan_rupee_suply
				set_variable = {
					name = pakistan_rupee_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pakistan_rupee_quantity
							multiply = var:pakistan_rupee_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_pakistan_rupee_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pakistan_rupee_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:pakistan_rupee_order = 5
				var:pakistan_rupee_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_5 #Player country quantity of pakistan_rupee buy
					value  = scope:player_country.var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pakistan_rupee_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pakistan_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_buy_5 #Player country quantity of pakistan_rupee buy
					value  = var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_5
					value = scope:target.var:pakistan_rupee_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to pakistan_rupee_suply
				set_variable = {
					name = pakistan_rupee_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pakistan_rupee_quantity
							multiply = var:pakistan_rupee_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_pakistan_rupee_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pakistan_rupee_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:pakistan_rupee_order >= 5
			}
			set_variable = {
				name = pakistan_rupee_order
				#Player country quantity of pakistan_rupee buy
				value  = 0
			}
		}
	}
}
sell_pakistan_rupee_market_panel = {
	is_shown = {
		var:pakistan_rupee_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = pakistan_rupee_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:pakistan_rupee_order = 1
				var:pakistan_rupee_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_1 #Player country quantity of pakistan_rupee sell
					value  = scope:player_country.var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pakistan_rupee_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pakistan_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_1 #Player country quantity of pakistan_rupee sell
					value  = var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_1
					value = scope:target.var:pakistan_rupee_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to pakistan_rupee_suply
				set_variable = {
					name = pakistan_rupee_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pakistan_rupee_quantity
							multiply = var:pakistan_rupee_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_pakistan_rupee_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pakistan_rupee_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:pakistan_rupee_order = 2
				var:pakistan_rupee_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_2 #Player country quantity of pakistan_rupee sell
					value  = scope:player_country.var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pakistan_rupee_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pakistan_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_2 #Player country quantity of pakistan_rupee sell
					value  = var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_2
					value = scope:target.var:pakistan_rupee_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to pakistan_rupee_suply
				set_variable = {
					name = pakistan_rupee_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pakistan_rupee_quantity
							multiply = var:pakistan_rupee_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_pakistan_rupee_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pakistan_rupee_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:pakistan_rupee_order = 3
				var:pakistan_rupee_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_3 #Player country quantity of pakistan_rupee sell
					value  = scope:player_country.var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pakistan_rupee_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pakistan_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_3 #Player country quantity of pakistan_rupee sell
					value  = var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_3
					value = scope:target.var:pakistan_rupee_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to pakistan_rupee_suply
				set_variable = {
					name = pakistan_rupee_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pakistan_rupee_quantity
							multiply = var:pakistan_rupee_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_pakistan_rupee_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pakistan_rupee_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:pakistan_rupee_order = 4
				var:pakistan_rupee_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_4 #Player country quantity of pakistan_rupee sell
					value  = scope:player_country.var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pakistan_rupee_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pakistan_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_4 #Player country quantity of pakistan_rupee sell
					value  = var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_4
					value = scope:target.var:pakistan_rupee_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to pakistan_rupee_suply
				set_variable = {
					name = pakistan_rupee_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pakistan_rupee_quantity
							multiply = var:pakistan_rupee_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_pakistan_rupee_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pakistan_rupee_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:pakistan_rupee_order = 5
				var:pakistan_rupee_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_5 #Player country quantity of pakistan_rupee sell
					value  = scope:player_country.var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pakistan_rupee_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pakistan_rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pakistan_rupee_sell_5 #Player country quantity of pakistan_rupee sell
					value  = var:pakistan_rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = pakistan_rupee_to_player_currency_exchange_rate_5
					value = scope:target.var:pakistan_rupee_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to pakistan_rupee_suply
				set_variable = {
					name = pakistan_rupee_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pakistan_rupee_quantity
							multiply = var:pakistan_rupee_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_pakistan_rupee_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pakistan_rupee_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:pakistan_rupee_order >= 5
			}
			set_variable = {
				name = pakistan_rupee_order
				#Player country quantity of pakistan_rupee sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_pakistan_rupee_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:pakistan_rupee_quantity < stockpiling_pakistan_rupee_state
		player.central_bank_gold_reserves_state > buy_pakistan_rupee_in_gold_market_panel
	}
}
sell_pakistan_rupee_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:pakistan_rupee_quantity < player.stockpiling_pakistan_rupee_state
		central_bank_gold_reserves_state > sell_pakistan_rupee_in_gold_market_panel
	}
}
pakistan_rupee_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_pakistan_rupee_state_1
					add = scope:player_country.var:pakistan_rupee_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:pakistan_rupee_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_pakistan_rupee_state_1
						subtract = owner.var:pakistan_rupee_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:pakistan_rupee_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
pakistan_rupee_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_pakistan_rupee_state_1
					subtract = scope:player_country.var:pakistan_rupee_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:pakistan_rupee_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_pakistan_rupee_state_1
						add = owner.var:pakistan_rupee_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:pakistan_rupee_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#peseta
peseta_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = peseta_quantity
				#var:peseta_quantity < market.owner.stockpiling_peseta_state
				var:peseta_quantity < sell_limit_currency_var_rest
				var:peseta_quantity < 20000000
			}
			change_variable = {
				name = peseta_quantity
				add = 5000000
			}
		}
	}
}
peseta_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = peseta_quantity
				var:peseta_quantity > 5000000
			}
			change_variable = {
				name = peseta_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_peseta_market_panel_enabled = {
	is_valid = {
		stockpiling_peseta_state > player.var:peseta_quantity

		money_supply_verification_peseta < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:peseta_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_peseta_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_peseta_market_panel_enabled = {
	is_valid = {
		stockpiling_peseta_state > player.var:peseta_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_peseta_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_peseta_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_peseta_market_panel_verification_current = 1

	}
}
buy_peseta_market_panel = {
	is_shown = {
		var:peseta_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = peseta_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:peseta_order = 1
				var:peseta_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_1 #Player country quantity of peseta buy
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_buy_1 #Player country quantity of peseta buy
					value  = var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_1
					value = scope:target.var:peseta_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to peseta_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_peseta_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:peseta_order = 2
				var:peseta_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_2 #Player country quantity of peseta buy
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_buy_2 #Player country quantity of peseta buy
					value  = var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_2
					value = scope:target.var:peseta_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to peseta_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_peseta_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:peseta_order = 3
				var:peseta_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_3 #Player country quantity of peseta buy
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_buy_3 #Player country quantity of peseta buy
					value  = var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_3
					value = scope:target.var:peseta_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to peseta_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_peseta_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:peseta_order = 4
				var:peseta_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_4 #Player country quantity of peseta buy
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_buy_4 #Player country quantity of peseta buy
					value  = var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_4
					value = scope:target.var:peseta_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to peseta_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_peseta_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:peseta_order = 5
				var:peseta_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_5 #Player country quantity of peseta buy
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_buy_5 #Player country quantity of peseta buy
					value  = var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_5
					value = scope:target.var:peseta_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to peseta_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_peseta_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:peseta_order >= 5
			}
			set_variable = {
				name = peseta_order
				#Player country quantity of peseta buy
				value  = 0
			}
		}
	}
}
sell_peseta_market_panel = {
	is_shown = {
		var:peseta_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = peseta_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:peseta_order = 1
				var:peseta_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_1 #Player country quantity of peseta sell
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_1 #Player country quantity of peseta sell
					value  = var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_1
					value = scope:target.var:peseta_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to peseta_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_peseta_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:peseta_order = 2
				var:peseta_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_2 #Player country quantity of peseta sell
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_2 #Player country quantity of peseta sell
					value  = var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_2
					value = scope:target.var:peseta_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to peseta_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_peseta_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:peseta_order = 3
				var:peseta_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_3 #Player country quantity of peseta sell
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_3 #Player country quantity of peseta sell
					value  = var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_3
					value = scope:target.var:peseta_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to peseta_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_peseta_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:peseta_order = 4
				var:peseta_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_4 #Player country quantity of peseta sell
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_4 #Player country quantity of peseta sell
					value  = var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_4
					value = scope:target.var:peseta_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to peseta_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_peseta_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:peseta_order = 5
				var:peseta_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_5 #Player country quantity of peseta sell
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_5 #Player country quantity of peseta sell
					value  = var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_5
					value = scope:target.var:peseta_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to peseta_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_peseta_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:peseta_order >= 5
			}
			set_variable = {
				name = peseta_order
				#Player country quantity of peseta sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_peseta_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:peseta_quantity < stockpiling_peseta_state
		player.central_bank_gold_reserves_state > buy_peseta_in_gold_market_panel
	}
}
sell_peseta_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:peseta_quantity < player.stockpiling_peseta_state
		central_bank_gold_reserves_state > sell_peseta_in_gold_market_panel
	}
}
peseta_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_peseta_state_1
					add = scope:player_country.var:peseta_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:peseta_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_peseta_state_1
						subtract = owner.var:peseta_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:peseta_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
peseta_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_peseta_state_1
					subtract = scope:player_country.var:peseta_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:peseta_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_peseta_state_1
						add = owner.var:peseta_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:peseta_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#peso
peso_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = peso_quantity
				#var:peso_quantity < market.owner.stockpiling_peso_state
				var:peso_quantity < sell_limit_currency_var_rest
				var:peso_quantity < 20000000
			}
			change_variable = {
				name = peso_quantity
				add = 5000000
			}
		}
	}
}
peso_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = peso_quantity
				var:peso_quantity > 5000000
			}
			change_variable = {
				name = peso_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_peso_state > player.var:peso_quantity

		money_supply_verification_peso < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:peso_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_peso_state > player.var:peso_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_peso_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_peso_market_panel_verification_current = 1

	}
}
buy_peso_market_panel = {
	is_shown = {
		var:peso_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:peso_order = 1
				var:peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_1 #Player country quantity of peso buy
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_buy_1 #Player country quantity of peso buy
					value  = var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_1
					value = scope:target.var:peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to peso_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:peso_order = 2
				var:peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_2 #Player country quantity of peso buy
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_buy_2 #Player country quantity of peso buy
					value  = var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_2
					value = scope:target.var:peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to peso_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:peso_order = 3
				var:peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_3 #Player country quantity of peso buy
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_buy_3 #Player country quantity of peso buy
					value  = var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_3
					value = scope:target.var:peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to peso_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:peso_order = 4
				var:peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_4 #Player country quantity of peso buy
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_buy_4 #Player country quantity of peso buy
					value  = var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_4
					value = scope:target.var:peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to peso_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:peso_order = 5
				var:peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_5 #Player country quantity of peso buy
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_buy_5 #Player country quantity of peso buy
					value  = var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_5
					value = scope:target.var:peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to peso_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:peso_order >= 5
			}
			set_variable = {
				name = peso_order
				#Player country quantity of peso buy
				value  = 0
			}
		}
	}
}
sell_peso_market_panel = {
	is_shown = {
		var:peso_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:peso_order = 1
				var:peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_1 #Player country quantity of peso sell
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_1 #Player country quantity of peso sell
					value  = var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_1
					value = scope:target.var:peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to peso_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:peso_order = 2
				var:peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_2 #Player country quantity of peso sell
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_2 #Player country quantity of peso sell
					value  = var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_2
					value = scope:target.var:peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to peso_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:peso_order = 3
				var:peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_3 #Player country quantity of peso sell
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_3 #Player country quantity of peso sell
					value  = var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_3
					value = scope:target.var:peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to peso_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:peso_order = 4
				var:peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_4 #Player country quantity of peso sell
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_4 #Player country quantity of peso sell
					value  = var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_4
					value = scope:target.var:peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to peso_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:peso_order = 5
				var:peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_5 #Player country quantity of peso sell
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_5 #Player country quantity of peso sell
					value  = var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_5
					value = scope:target.var:peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to peso_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:peso_order >= 5
			}
			set_variable = {
				name = peso_order
				#Player country quantity of peso sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:peso_quantity < stockpiling_peso_state
		player.central_bank_gold_reserves_state > buy_peso_in_gold_market_panel
	}
}
sell_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:peso_quantity < player.stockpiling_peso_state
		central_bank_gold_reserves_state > sell_peso_in_gold_market_panel
	}
}
peso_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_peso_state_1
					add = scope:player_country.var:peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:peso_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_peso_state_1
						subtract = owner.var:peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:peso_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
peso_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_peso_state_1
					subtract = scope:player_country.var:peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:peso_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_peso_state_1
						add = owner.var:peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:peso_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#peso_bolivien
peso_bolivien_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = peso_bolivien_quantity
				#var:peso_bolivien_quantity < market.owner.stockpiling_peso_bolivien_state
				var:peso_bolivien_quantity < sell_limit_currency_var_rest
				var:peso_bolivien_quantity < 20000000
			}
			change_variable = {
				name = peso_bolivien_quantity
				add = 5000000
			}
		}
	}
}
peso_bolivien_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = peso_bolivien_quantity
				var:peso_bolivien_quantity > 5000000
			}
			change_variable = {
				name = peso_bolivien_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_peso_bolivien_market_panel_enabled = {
	is_valid = {
		stockpiling_peso_bolivien_state > player.var:peso_bolivien_quantity

		money_supply_verification_peso_bolivien < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:peso_bolivien_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_peso_bolivien_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_peso_bolivien_market_panel_enabled = {
	is_valid = {
		stockpiling_peso_bolivien_state > player.var:peso_bolivien_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_peso_bolivien_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_peso_bolivien_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_peso_bolivien_market_panel_verification_current = 1

	}
}
buy_peso_bolivien_market_panel = {
	is_shown = {
		var:peso_bolivien_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = peso_bolivien_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:peso_bolivien_order = 1
				var:peso_bolivien_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_1 #Player country quantity of peso_bolivien buy
					value  = scope:player_country.var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_bolivien_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_bolivien_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_buy_1 #Player country quantity of peso_bolivien buy
					value  = var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_1
					value = scope:target.var:peso_bolivien_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to peso_bolivien_suply
				set_variable = {
					name = peso_bolivien_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_bolivien_quantity
							multiply = var:peso_bolivien_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_peso_bolivien_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_bolivien_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:peso_bolivien_order = 2
				var:peso_bolivien_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_2 #Player country quantity of peso_bolivien buy
					value  = scope:player_country.var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_bolivien_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_bolivien_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_buy_2 #Player country quantity of peso_bolivien buy
					value  = var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_2
					value = scope:target.var:peso_bolivien_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to peso_bolivien_suply
				set_variable = {
					name = peso_bolivien_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_bolivien_quantity
							multiply = var:peso_bolivien_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_peso_bolivien_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_bolivien_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:peso_bolivien_order = 3
				var:peso_bolivien_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_3 #Player country quantity of peso_bolivien buy
					value  = scope:player_country.var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_bolivien_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_bolivien_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_buy_3 #Player country quantity of peso_bolivien buy
					value  = var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_3
					value = scope:target.var:peso_bolivien_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to peso_bolivien_suply
				set_variable = {
					name = peso_bolivien_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_bolivien_quantity
							multiply = var:peso_bolivien_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_peso_bolivien_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_bolivien_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:peso_bolivien_order = 4
				var:peso_bolivien_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_4 #Player country quantity of peso_bolivien buy
					value  = scope:player_country.var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_bolivien_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_bolivien_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_buy_4 #Player country quantity of peso_bolivien buy
					value  = var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_4
					value = scope:target.var:peso_bolivien_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to peso_bolivien_suply
				set_variable = {
					name = peso_bolivien_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_bolivien_quantity
							multiply = var:peso_bolivien_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_peso_bolivien_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_bolivien_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:peso_bolivien_order = 5
				var:peso_bolivien_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_5 #Player country quantity of peso_bolivien buy
					value  = scope:player_country.var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_bolivien_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_bolivien_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_buy_5 #Player country quantity of peso_bolivien buy
					value  = var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_5
					value = scope:target.var:peso_bolivien_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to peso_bolivien_suply
				set_variable = {
					name = peso_bolivien_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_bolivien_quantity
							multiply = var:peso_bolivien_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_peso_bolivien_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_bolivien_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:peso_bolivien_order >= 5
			}
			set_variable = {
				name = peso_bolivien_order
				#Player country quantity of peso_bolivien buy
				value  = 0
			}
		}
	}
}
sell_peso_bolivien_market_panel = {
	is_shown = {
		var:peso_bolivien_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = peso_bolivien_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:peso_bolivien_order = 1
				var:peso_bolivien_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_1 #Player country quantity of peso_bolivien sell
					value  = scope:player_country.var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_bolivien_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_bolivien_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_1 #Player country quantity of peso_bolivien sell
					value  = var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_1
					value = scope:target.var:peso_bolivien_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to peso_bolivien_suply
				set_variable = {
					name = peso_bolivien_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_bolivien_quantity
							multiply = var:peso_bolivien_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_peso_bolivien_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_bolivien_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:peso_bolivien_order = 2
				var:peso_bolivien_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_2 #Player country quantity of peso_bolivien sell
					value  = scope:player_country.var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_bolivien_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_bolivien_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_2 #Player country quantity of peso_bolivien sell
					value  = var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_2
					value = scope:target.var:peso_bolivien_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to peso_bolivien_suply
				set_variable = {
					name = peso_bolivien_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_bolivien_quantity
							multiply = var:peso_bolivien_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_peso_bolivien_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_bolivien_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:peso_bolivien_order = 3
				var:peso_bolivien_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_3 #Player country quantity of peso_bolivien sell
					value  = scope:player_country.var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_bolivien_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_bolivien_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_3 #Player country quantity of peso_bolivien sell
					value  = var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_3
					value = scope:target.var:peso_bolivien_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to peso_bolivien_suply
				set_variable = {
					name = peso_bolivien_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_bolivien_quantity
							multiply = var:peso_bolivien_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_peso_bolivien_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_bolivien_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:peso_bolivien_order = 4
				var:peso_bolivien_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_4 #Player country quantity of peso_bolivien sell
					value  = scope:player_country.var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_bolivien_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_bolivien_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_4 #Player country quantity of peso_bolivien sell
					value  = var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_4
					value = scope:target.var:peso_bolivien_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to peso_bolivien_suply
				set_variable = {
					name = peso_bolivien_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_bolivien_quantity
							multiply = var:peso_bolivien_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_peso_bolivien_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_bolivien_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:peso_bolivien_order = 5
				var:peso_bolivien_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_5 #Player country quantity of peso_bolivien sell
					value  = scope:player_country.var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = peso_bolivien_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_bolivien_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_bolivien_sell_5 #Player country quantity of peso_bolivien sell
					value  = var:peso_bolivien_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_bolivien_to_player_currency_exchange_rate_5
					value = scope:target.var:peso_bolivien_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to peso_bolivien_suply
				set_variable = {
					name = peso_bolivien_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_bolivien_quantity
							multiply = var:peso_bolivien_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_peso_bolivien_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_bolivien_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:peso_bolivien_order >= 5
			}
			set_variable = {
				name = peso_bolivien_order
				#Player country quantity of peso_bolivien sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_peso_bolivien_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:peso_bolivien_quantity < stockpiling_peso_bolivien_state
		player.central_bank_gold_reserves_state > buy_peso_bolivien_in_gold_market_panel
	}
}
sell_peso_bolivien_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:peso_bolivien_quantity < player.stockpiling_peso_bolivien_state
		central_bank_gold_reserves_state > sell_peso_bolivien_in_gold_market_panel
	}
}
peso_bolivien_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_peso_bolivien_state_1
					add = scope:player_country.var:peso_bolivien_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:peso_bolivien_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_peso_bolivien_state_1
						subtract = owner.var:peso_bolivien_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:peso_bolivien_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
peso_bolivien_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_peso_bolivien_state_1
					subtract = scope:player_country.var:peso_bolivien_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:peso_bolivien_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_peso_bolivien_state_1
						add = owner.var:peso_bolivien_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:peso_bolivien_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#philippine_peso
philippine_peso_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = philippine_peso_quantity
				#var:philippine_peso_quantity < market.owner.stockpiling_philippine_peso_state
				var:philippine_peso_quantity < sell_limit_currency_var_rest
				var:philippine_peso_quantity < 20000000
			}
			change_variable = {
				name = philippine_peso_quantity
				add = 5000000
			}
		}
	}
}
philippine_peso_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = philippine_peso_quantity
				var:philippine_peso_quantity > 5000000
			}
			change_variable = {
				name = philippine_peso_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_philippine_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_philippine_peso_state > player.var:philippine_peso_quantity

		money_supply_verification_philippine_peso < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:philippine_peso_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_philippine_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_philippine_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_philippine_peso_state > player.var:philippine_peso_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_philippine_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_philippine_peso_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_philippine_peso_market_panel_verification_current = 1

	}
}
buy_philippine_peso_market_panel = {
	is_shown = {
		var:philippine_peso_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = philippine_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:philippine_peso_order = 1
				var:philippine_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_1 #Player country quantity of philippine_peso buy
					value  = scope:player_country.var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = philippine_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:philippine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_buy_1 #Player country quantity of philippine_peso buy
					value  = var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:philippine_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to philippine_peso_suply
				set_variable = {
					name = philippine_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:philippine_peso_quantity
							multiply = var:philippine_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_philippine_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_philippine_peso_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:philippine_peso_order = 2
				var:philippine_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_2 #Player country quantity of philippine_peso buy
					value  = scope:player_country.var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = philippine_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:philippine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_buy_2 #Player country quantity of philippine_peso buy
					value  = var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:philippine_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to philippine_peso_suply
				set_variable = {
					name = philippine_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:philippine_peso_quantity
							multiply = var:philippine_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_philippine_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_philippine_peso_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:philippine_peso_order = 3
				var:philippine_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_3 #Player country quantity of philippine_peso buy
					value  = scope:player_country.var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = philippine_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:philippine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_buy_3 #Player country quantity of philippine_peso buy
					value  = var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:philippine_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to philippine_peso_suply
				set_variable = {
					name = philippine_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:philippine_peso_quantity
							multiply = var:philippine_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_philippine_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_philippine_peso_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:philippine_peso_order = 4
				var:philippine_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_4 #Player country quantity of philippine_peso buy
					value  = scope:player_country.var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = philippine_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:philippine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_buy_4 #Player country quantity of philippine_peso buy
					value  = var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:philippine_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to philippine_peso_suply
				set_variable = {
					name = philippine_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:philippine_peso_quantity
							multiply = var:philippine_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_philippine_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_philippine_peso_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:philippine_peso_order = 5
				var:philippine_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_5 #Player country quantity of philippine_peso buy
					value  = scope:player_country.var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = philippine_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:philippine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_buy_5 #Player country quantity of philippine_peso buy
					value  = var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:philippine_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to philippine_peso_suply
				set_variable = {
					name = philippine_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:philippine_peso_quantity
							multiply = var:philippine_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_philippine_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_philippine_peso_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:philippine_peso_order >= 5
			}
			set_variable = {
				name = philippine_peso_order
				#Player country quantity of philippine_peso buy
				value  = 0
			}
		}
	}
}
sell_philippine_peso_market_panel = {
	is_shown = {
		var:philippine_peso_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = philippine_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:philippine_peso_order = 1
				var:philippine_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_1 #Player country quantity of philippine_peso sell
					value  = scope:player_country.var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = philippine_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:philippine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_1 #Player country quantity of philippine_peso sell
					value  = var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:philippine_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to philippine_peso_suply
				set_variable = {
					name = philippine_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:philippine_peso_quantity
							multiply = var:philippine_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_philippine_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_philippine_peso_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:philippine_peso_order = 2
				var:philippine_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_2 #Player country quantity of philippine_peso sell
					value  = scope:player_country.var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = philippine_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:philippine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_2 #Player country quantity of philippine_peso sell
					value  = var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:philippine_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to philippine_peso_suply
				set_variable = {
					name = philippine_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:philippine_peso_quantity
							multiply = var:philippine_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_philippine_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_philippine_peso_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:philippine_peso_order = 3
				var:philippine_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_3 #Player country quantity of philippine_peso sell
					value  = scope:player_country.var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = philippine_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:philippine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_3 #Player country quantity of philippine_peso sell
					value  = var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:philippine_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to philippine_peso_suply
				set_variable = {
					name = philippine_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:philippine_peso_quantity
							multiply = var:philippine_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_philippine_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_philippine_peso_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:philippine_peso_order = 4
				var:philippine_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_4 #Player country quantity of philippine_peso sell
					value  = scope:player_country.var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = philippine_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:philippine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_4 #Player country quantity of philippine_peso sell
					value  = var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:philippine_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to philippine_peso_suply
				set_variable = {
					name = philippine_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:philippine_peso_quantity
							multiply = var:philippine_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_philippine_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_philippine_peso_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:philippine_peso_order = 5
				var:philippine_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_5 #Player country quantity of philippine_peso sell
					value  = scope:player_country.var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = philippine_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:philippine_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = philippine_peso_sell_5 #Player country quantity of philippine_peso sell
					value  = var:philippine_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = philippine_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:philippine_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to philippine_peso_suply
				set_variable = {
					name = philippine_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:philippine_peso_quantity
							multiply = var:philippine_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_philippine_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_philippine_peso_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:philippine_peso_order >= 5
			}
			set_variable = {
				name = philippine_peso_order
				#Player country quantity of philippine_peso sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_philippine_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:philippine_peso_quantity < stockpiling_philippine_peso_state
		player.central_bank_gold_reserves_state > buy_philippine_peso_in_gold_market_panel
	}
}
sell_philippine_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:philippine_peso_quantity < player.stockpiling_philippine_peso_state
		central_bank_gold_reserves_state > sell_philippine_peso_in_gold_market_panel
	}
}
philippine_peso_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_philippine_peso_state_1
					add = scope:player_country.var:philippine_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:philippine_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_philippine_peso_state_1
						subtract = owner.var:philippine_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:philippine_peso_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
philippine_peso_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_philippine_peso_state_1
					subtract = scope:player_country.var:philippine_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:philippine_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_philippine_peso_state_1
						add = owner.var:philippine_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:philippine_peso_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#pound_sterling
pound_sterling_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = pound_sterling_quantity
				#var:pound_sterling_quantity < market.owner.stockpiling_pound_sterling_state
				var:pound_sterling_quantity < sell_limit_currency_var_rest
				var:pound_sterling_quantity < 20000000
			}
			change_variable = {
				name = pound_sterling_quantity
				add = 5000000
			}
		}
	}
}
pound_sterling_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = pound_sterling_quantity
				var:pound_sterling_quantity > 5000000
			}
			change_variable = {
				name = pound_sterling_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_pound_sterling_market_panel_enabled = {
	is_valid = {
		stockpiling_pound_sterling_state > player.var:pound_sterling_quantity

		money_supply_verification_pound_sterling < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:pound_sterling_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_pound_sterling_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_pound_sterling_market_panel_enabled = {
	is_valid = {
		stockpiling_pound_sterling_state > player.var:pound_sterling_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_pound_sterling_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_pound_sterling_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_pound_sterling_market_panel_verification_current = 1

	}
}
buy_pound_sterling_market_panel = {
	is_shown = {
		var:pound_sterling_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = pound_sterling_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:pound_sterling_order = 1
				var:pound_sterling_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_1 #Player country quantity of pound_sterling buy
					value  = scope:player_country.var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pound_sterling_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pound_sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_buy_1 #Player country quantity of pound_sterling buy
					value  = var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_1
					value = scope:target.var:pound_sterling_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to pound_sterling_suply
				set_variable = {
					name = pound_sterling_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pound_sterling_quantity
							multiply = var:pound_sterling_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_pound_sterling_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pound_sterling_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:pound_sterling_order = 2
				var:pound_sterling_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_2 #Player country quantity of pound_sterling buy
					value  = scope:player_country.var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pound_sterling_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pound_sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_buy_2 #Player country quantity of pound_sterling buy
					value  = var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_2
					value = scope:target.var:pound_sterling_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to pound_sterling_suply
				set_variable = {
					name = pound_sterling_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pound_sterling_quantity
							multiply = var:pound_sterling_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_pound_sterling_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pound_sterling_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:pound_sterling_order = 3
				var:pound_sterling_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_3 #Player country quantity of pound_sterling buy
					value  = scope:player_country.var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pound_sterling_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pound_sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_buy_3 #Player country quantity of pound_sterling buy
					value  = var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_3
					value = scope:target.var:pound_sterling_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to pound_sterling_suply
				set_variable = {
					name = pound_sterling_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pound_sterling_quantity
							multiply = var:pound_sterling_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_pound_sterling_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pound_sterling_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:pound_sterling_order = 4
				var:pound_sterling_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_4 #Player country quantity of pound_sterling buy
					value  = scope:player_country.var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pound_sterling_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pound_sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_buy_4 #Player country quantity of pound_sterling buy
					value  = var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_4
					value = scope:target.var:pound_sterling_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to pound_sterling_suply
				set_variable = {
					name = pound_sterling_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pound_sterling_quantity
							multiply = var:pound_sterling_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_pound_sterling_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pound_sterling_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:pound_sterling_order = 5
				var:pound_sterling_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_5 #Player country quantity of pound_sterling buy
					value  = scope:player_country.var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pound_sterling_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pound_sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_buy_5 #Player country quantity of pound_sterling buy
					value  = var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_5
					value = scope:target.var:pound_sterling_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to pound_sterling_suply
				set_variable = {
					name = pound_sterling_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pound_sterling_quantity
							multiply = var:pound_sterling_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_pound_sterling_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pound_sterling_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:pound_sterling_order >= 5
			}
			set_variable = {
				name = pound_sterling_order
				#Player country quantity of pound_sterling buy
				value  = 0
			}
		}
	}
}
sell_pound_sterling_market_panel = {
	is_shown = {
		var:pound_sterling_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = pound_sterling_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:pound_sterling_order = 1
				var:pound_sterling_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_1 #Player country quantity of pound_sterling sell
					value  = scope:player_country.var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pound_sterling_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pound_sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_1 #Player country quantity of pound_sterling sell
					value  = var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_1
					value = scope:target.var:pound_sterling_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to pound_sterling_suply
				set_variable = {
					name = pound_sterling_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pound_sterling_quantity
							multiply = var:pound_sterling_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_pound_sterling_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pound_sterling_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:pound_sterling_order = 2
				var:pound_sterling_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_2 #Player country quantity of pound_sterling sell
					value  = scope:player_country.var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pound_sterling_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pound_sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_2 #Player country quantity of pound_sterling sell
					value  = var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_2
					value = scope:target.var:pound_sterling_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to pound_sterling_suply
				set_variable = {
					name = pound_sterling_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pound_sterling_quantity
							multiply = var:pound_sterling_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_pound_sterling_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pound_sterling_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:pound_sterling_order = 3
				var:pound_sterling_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_3 #Player country quantity of pound_sterling sell
					value  = scope:player_country.var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pound_sterling_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pound_sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_3 #Player country quantity of pound_sterling sell
					value  = var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_3
					value = scope:target.var:pound_sterling_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to pound_sterling_suply
				set_variable = {
					name = pound_sterling_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pound_sterling_quantity
							multiply = var:pound_sterling_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_pound_sterling_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pound_sterling_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:pound_sterling_order = 4
				var:pound_sterling_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_4 #Player country quantity of pound_sterling sell
					value  = scope:player_country.var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pound_sterling_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pound_sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_4 #Player country quantity of pound_sterling sell
					value  = var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_4
					value = scope:target.var:pound_sterling_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to pound_sterling_suply
				set_variable = {
					name = pound_sterling_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pound_sterling_quantity
							multiply = var:pound_sterling_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_pound_sterling_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pound_sterling_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:pound_sterling_order = 5
				var:pound_sterling_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_5 #Player country quantity of pound_sterling sell
					value  = scope:player_country.var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = pound_sterling_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:pound_sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = pound_sterling_sell_5 #Player country quantity of pound_sterling sell
					value  = var:pound_sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = pound_sterling_to_player_currency_exchange_rate_5
					value = scope:target.var:pound_sterling_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to pound_sterling_suply
				set_variable = {
					name = pound_sterling_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:pound_sterling_quantity
							multiply = var:pound_sterling_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_pound_sterling_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_pound_sterling_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:pound_sterling_order >= 5
			}
			set_variable = {
				name = pound_sterling_order
				#Player country quantity of pound_sterling sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_pound_sterling_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:pound_sterling_quantity < stockpiling_pound_sterling_state
		player.central_bank_gold_reserves_state > buy_pound_sterling_in_gold_market_panel
	}
}
sell_pound_sterling_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:pound_sterling_quantity < player.stockpiling_pound_sterling_state
		central_bank_gold_reserves_state > sell_pound_sterling_in_gold_market_panel
	}
}
pound_sterling_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_pound_sterling_state_1
					add = scope:player_country.var:pound_sterling_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:pound_sterling_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_pound_sterling_state_1
						subtract = owner.var:pound_sterling_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:pound_sterling_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
pound_sterling_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_pound_sterling_state_1
					subtract = scope:player_country.var:pound_sterling_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:pound_sterling_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_pound_sterling_state_1
						add = owner.var:pound_sterling_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:pound_sterling_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#prussian_thaler
prussian_thaler_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = prussian_thaler_quantity
				#var:prussian_thaler_quantity < market.owner.stockpiling_prussian_thaler_state
				var:prussian_thaler_quantity < sell_limit_currency_var_rest
				var:prussian_thaler_quantity < 20000000
			}
			change_variable = {
				name = prussian_thaler_quantity
				add = 5000000
			}
		}
	}
}
prussian_thaler_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = prussian_thaler_quantity
				var:prussian_thaler_quantity > 5000000
			}
			change_variable = {
				name = prussian_thaler_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_prussian_thaler_market_panel_enabled = {
	is_valid = {
		stockpiling_prussian_thaler_state > player.var:prussian_thaler_quantity

		money_supply_verification_prussian_thaler < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:prussian_thaler_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_prussian_thaler_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_prussian_thaler_market_panel_enabled = {
	is_valid = {
		stockpiling_prussian_thaler_state > player.var:prussian_thaler_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_prussian_thaler_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_prussian_thaler_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_prussian_thaler_market_panel_verification_current = 1

	}
}
buy_prussian_thaler_market_panel = {
	is_shown = {
		var:prussian_thaler_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = prussian_thaler_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:prussian_thaler_order = 1
				var:prussian_thaler_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_1 #Player country quantity of prussian_thaler buy
					value  = scope:player_country.var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = prussian_thaler_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:prussian_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_buy_1 #Player country quantity of prussian_thaler buy
					value  = var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_1
					value = scope:target.var:prussian_thaler_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to prussian_thaler_suply
				set_variable = {
					name = prussian_thaler_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:prussian_thaler_quantity
							multiply = var:prussian_thaler_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_prussian_thaler_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_prussian_thaler_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:prussian_thaler_order = 2
				var:prussian_thaler_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_2 #Player country quantity of prussian_thaler buy
					value  = scope:player_country.var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = prussian_thaler_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:prussian_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_buy_2 #Player country quantity of prussian_thaler buy
					value  = var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_2
					value = scope:target.var:prussian_thaler_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to prussian_thaler_suply
				set_variable = {
					name = prussian_thaler_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:prussian_thaler_quantity
							multiply = var:prussian_thaler_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_prussian_thaler_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_prussian_thaler_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:prussian_thaler_order = 3
				var:prussian_thaler_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_3 #Player country quantity of prussian_thaler buy
					value  = scope:player_country.var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = prussian_thaler_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:prussian_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_buy_3 #Player country quantity of prussian_thaler buy
					value  = var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_3
					value = scope:target.var:prussian_thaler_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to prussian_thaler_suply
				set_variable = {
					name = prussian_thaler_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:prussian_thaler_quantity
							multiply = var:prussian_thaler_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_prussian_thaler_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_prussian_thaler_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:prussian_thaler_order = 4
				var:prussian_thaler_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_4 #Player country quantity of prussian_thaler buy
					value  = scope:player_country.var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = prussian_thaler_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:prussian_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_buy_4 #Player country quantity of prussian_thaler buy
					value  = var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_4
					value = scope:target.var:prussian_thaler_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to prussian_thaler_suply
				set_variable = {
					name = prussian_thaler_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:prussian_thaler_quantity
							multiply = var:prussian_thaler_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_prussian_thaler_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_prussian_thaler_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:prussian_thaler_order = 5
				var:prussian_thaler_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_5 #Player country quantity of prussian_thaler buy
					value  = scope:player_country.var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = prussian_thaler_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:prussian_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_buy_5 #Player country quantity of prussian_thaler buy
					value  = var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_5
					value = scope:target.var:prussian_thaler_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to prussian_thaler_suply
				set_variable = {
					name = prussian_thaler_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:prussian_thaler_quantity
							multiply = var:prussian_thaler_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_prussian_thaler_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_prussian_thaler_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:prussian_thaler_order >= 5
			}
			set_variable = {
				name = prussian_thaler_order
				#Player country quantity of prussian_thaler buy
				value  = 0
			}
		}
	}
}
sell_prussian_thaler_market_panel = {
	is_shown = {
		var:prussian_thaler_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = prussian_thaler_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:prussian_thaler_order = 1
				var:prussian_thaler_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_1 #Player country quantity of prussian_thaler sell
					value  = scope:player_country.var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = prussian_thaler_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:prussian_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_1 #Player country quantity of prussian_thaler sell
					value  = var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_1
					value = scope:target.var:prussian_thaler_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to prussian_thaler_suply
				set_variable = {
					name = prussian_thaler_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:prussian_thaler_quantity
							multiply = var:prussian_thaler_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_prussian_thaler_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_prussian_thaler_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:prussian_thaler_order = 2
				var:prussian_thaler_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_2 #Player country quantity of prussian_thaler sell
					value  = scope:player_country.var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = prussian_thaler_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:prussian_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_2 #Player country quantity of prussian_thaler sell
					value  = var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_2
					value = scope:target.var:prussian_thaler_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to prussian_thaler_suply
				set_variable = {
					name = prussian_thaler_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:prussian_thaler_quantity
							multiply = var:prussian_thaler_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_prussian_thaler_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_prussian_thaler_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:prussian_thaler_order = 3
				var:prussian_thaler_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_3 #Player country quantity of prussian_thaler sell
					value  = scope:player_country.var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = prussian_thaler_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:prussian_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_3 #Player country quantity of prussian_thaler sell
					value  = var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_3
					value = scope:target.var:prussian_thaler_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to prussian_thaler_suply
				set_variable = {
					name = prussian_thaler_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:prussian_thaler_quantity
							multiply = var:prussian_thaler_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_prussian_thaler_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_prussian_thaler_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:prussian_thaler_order = 4
				var:prussian_thaler_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_4 #Player country quantity of prussian_thaler sell
					value  = scope:player_country.var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = prussian_thaler_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:prussian_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_4 #Player country quantity of prussian_thaler sell
					value  = var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_4
					value = scope:target.var:prussian_thaler_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to prussian_thaler_suply
				set_variable = {
					name = prussian_thaler_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:prussian_thaler_quantity
							multiply = var:prussian_thaler_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_prussian_thaler_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_prussian_thaler_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:prussian_thaler_order = 5
				var:prussian_thaler_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_5 #Player country quantity of prussian_thaler sell
					value  = scope:player_country.var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = prussian_thaler_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:prussian_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = prussian_thaler_sell_5 #Player country quantity of prussian_thaler sell
					value  = var:prussian_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = prussian_thaler_to_player_currency_exchange_rate_5
					value = scope:target.var:prussian_thaler_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to prussian_thaler_suply
				set_variable = {
					name = prussian_thaler_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:prussian_thaler_quantity
							multiply = var:prussian_thaler_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_prussian_thaler_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_prussian_thaler_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:prussian_thaler_order >= 5
			}
			set_variable = {
				name = prussian_thaler_order
				#Player country quantity of prussian_thaler sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_prussian_thaler_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:prussian_thaler_quantity < stockpiling_prussian_thaler_state
		player.central_bank_gold_reserves_state > buy_prussian_thaler_in_gold_market_panel
	}
}
sell_prussian_thaler_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:prussian_thaler_quantity < player.stockpiling_prussian_thaler_state
		central_bank_gold_reserves_state > sell_prussian_thaler_in_gold_market_panel
	}
}
prussian_thaler_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_prussian_thaler_state_1
					add = scope:player_country.var:prussian_thaler_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:prussian_thaler_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_prussian_thaler_state_1
						subtract = owner.var:prussian_thaler_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:prussian_thaler_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
prussian_thaler_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_prussian_thaler_state_1
					subtract = scope:player_country.var:prussian_thaler_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:prussian_thaler_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_prussian_thaler_state_1
						add = owner.var:prussian_thaler_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:prussian_thaler_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#qatari_riyal
qatari_riyal_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = qatari_riyal_quantity
				#var:qatari_riyal_quantity < market.owner.stockpiling_qatari_riyal_state
				var:qatari_riyal_quantity < sell_limit_currency_var_rest
				var:qatari_riyal_quantity < 20000000
			}
			change_variable = {
				name = qatari_riyal_quantity
				add = 5000000
			}
		}
	}
}
qatari_riyal_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = qatari_riyal_quantity
				var:qatari_riyal_quantity > 5000000
			}
			change_variable = {
				name = qatari_riyal_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_qatari_riyal_market_panel_enabled = {
	is_valid = {
		stockpiling_qatari_riyal_state > player.var:qatari_riyal_quantity

		money_supply_verification_qatari_riyal < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:qatari_riyal_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_qatari_riyal_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_qatari_riyal_market_panel_enabled = {
	is_valid = {
		stockpiling_qatari_riyal_state > player.var:qatari_riyal_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_qatari_riyal_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_qatari_riyal_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_qatari_riyal_market_panel_verification_current = 1

	}
}
buy_qatari_riyal_market_panel = {
	is_shown = {
		var:qatari_riyal_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = qatari_riyal_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:qatari_riyal_order = 1
				var:qatari_riyal_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_1 #Player country quantity of qatari_riyal buy
					value  = scope:player_country.var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qatari_riyal_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qatari_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_buy_1 #Player country quantity of qatari_riyal buy
					value  = var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_1
					value = scope:target.var:qatari_riyal_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to qatari_riyal_suply
				set_variable = {
					name = qatari_riyal_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qatari_riyal_quantity
							multiply = var:qatari_riyal_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_qatari_riyal_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qatari_riyal_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:qatari_riyal_order = 2
				var:qatari_riyal_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_2 #Player country quantity of qatari_riyal buy
					value  = scope:player_country.var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qatari_riyal_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qatari_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_buy_2 #Player country quantity of qatari_riyal buy
					value  = var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_2
					value = scope:target.var:qatari_riyal_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to qatari_riyal_suply
				set_variable = {
					name = qatari_riyal_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qatari_riyal_quantity
							multiply = var:qatari_riyal_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_qatari_riyal_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qatari_riyal_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:qatari_riyal_order = 3
				var:qatari_riyal_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_3 #Player country quantity of qatari_riyal buy
					value  = scope:player_country.var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qatari_riyal_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qatari_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_buy_3 #Player country quantity of qatari_riyal buy
					value  = var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_3
					value = scope:target.var:qatari_riyal_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to qatari_riyal_suply
				set_variable = {
					name = qatari_riyal_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qatari_riyal_quantity
							multiply = var:qatari_riyal_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_qatari_riyal_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qatari_riyal_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:qatari_riyal_order = 4
				var:qatari_riyal_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_4 #Player country quantity of qatari_riyal buy
					value  = scope:player_country.var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qatari_riyal_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qatari_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_buy_4 #Player country quantity of qatari_riyal buy
					value  = var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_4
					value = scope:target.var:qatari_riyal_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to qatari_riyal_suply
				set_variable = {
					name = qatari_riyal_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qatari_riyal_quantity
							multiply = var:qatari_riyal_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_qatari_riyal_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qatari_riyal_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:qatari_riyal_order = 5
				var:qatari_riyal_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_5 #Player country quantity of qatari_riyal buy
					value  = scope:player_country.var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qatari_riyal_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qatari_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_buy_5 #Player country quantity of qatari_riyal buy
					value  = var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_5
					value = scope:target.var:qatari_riyal_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to qatari_riyal_suply
				set_variable = {
					name = qatari_riyal_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qatari_riyal_quantity
							multiply = var:qatari_riyal_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_qatari_riyal_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qatari_riyal_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:qatari_riyal_order >= 5
			}
			set_variable = {
				name = qatari_riyal_order
				#Player country quantity of qatari_riyal buy
				value  = 0
			}
		}
	}
}
sell_qatari_riyal_market_panel = {
	is_shown = {
		var:qatari_riyal_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = qatari_riyal_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:qatari_riyal_order = 1
				var:qatari_riyal_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_1 #Player country quantity of qatari_riyal sell
					value  = scope:player_country.var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qatari_riyal_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qatari_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_1 #Player country quantity of qatari_riyal sell
					value  = var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_1
					value = scope:target.var:qatari_riyal_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to qatari_riyal_suply
				set_variable = {
					name = qatari_riyal_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qatari_riyal_quantity
							multiply = var:qatari_riyal_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_qatari_riyal_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qatari_riyal_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:qatari_riyal_order = 2
				var:qatari_riyal_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_2 #Player country quantity of qatari_riyal sell
					value  = scope:player_country.var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qatari_riyal_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qatari_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_2 #Player country quantity of qatari_riyal sell
					value  = var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_2
					value = scope:target.var:qatari_riyal_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to qatari_riyal_suply
				set_variable = {
					name = qatari_riyal_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qatari_riyal_quantity
							multiply = var:qatari_riyal_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_qatari_riyal_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qatari_riyal_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:qatari_riyal_order = 3
				var:qatari_riyal_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_3 #Player country quantity of qatari_riyal sell
					value  = scope:player_country.var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qatari_riyal_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qatari_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_3 #Player country quantity of qatari_riyal sell
					value  = var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_3
					value = scope:target.var:qatari_riyal_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to qatari_riyal_suply
				set_variable = {
					name = qatari_riyal_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qatari_riyal_quantity
							multiply = var:qatari_riyal_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_qatari_riyal_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qatari_riyal_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:qatari_riyal_order = 4
				var:qatari_riyal_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_4 #Player country quantity of qatari_riyal sell
					value  = scope:player_country.var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qatari_riyal_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qatari_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_4 #Player country quantity of qatari_riyal sell
					value  = var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_4
					value = scope:target.var:qatari_riyal_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to qatari_riyal_suply
				set_variable = {
					name = qatari_riyal_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qatari_riyal_quantity
							multiply = var:qatari_riyal_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_qatari_riyal_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qatari_riyal_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:qatari_riyal_order = 5
				var:qatari_riyal_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_5 #Player country quantity of qatari_riyal sell
					value  = scope:player_country.var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qatari_riyal_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qatari_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qatari_riyal_sell_5 #Player country quantity of qatari_riyal sell
					value  = var:qatari_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = qatari_riyal_to_player_currency_exchange_rate_5
					value = scope:target.var:qatari_riyal_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to qatari_riyal_suply
				set_variable = {
					name = qatari_riyal_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qatari_riyal_quantity
							multiply = var:qatari_riyal_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_qatari_riyal_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qatari_riyal_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:qatari_riyal_order >= 5
			}
			set_variable = {
				name = qatari_riyal_order
				#Player country quantity of qatari_riyal sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_qatari_riyal_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:qatari_riyal_quantity < stockpiling_qatari_riyal_state
		player.central_bank_gold_reserves_state > buy_qatari_riyal_in_gold_market_panel
	}
}
sell_qatari_riyal_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:qatari_riyal_quantity < player.stockpiling_qatari_riyal_state
		central_bank_gold_reserves_state > sell_qatari_riyal_in_gold_market_panel
	}
}
qatari_riyal_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_qatari_riyal_state_1
					add = scope:player_country.var:qatari_riyal_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:qatari_riyal_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_qatari_riyal_state_1
						subtract = owner.var:qatari_riyal_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:qatari_riyal_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
qatari_riyal_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_qatari_riyal_state_1
					subtract = scope:player_country.var:qatari_riyal_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:qatari_riyal_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_qatari_riyal_state_1
						add = owner.var:qatari_riyal_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:qatari_riyal_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#qiran
qiran_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = qiran_quantity
				#var:qiran_quantity < market.owner.stockpiling_qiran_state
				var:qiran_quantity < sell_limit_currency_var_rest
				var:qiran_quantity < 20000000
			}
			change_variable = {
				name = qiran_quantity
				add = 5000000
			}
		}
	}
}
qiran_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = qiran_quantity
				var:qiran_quantity > 5000000
			}
			change_variable = {
				name = qiran_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_qiran_market_panel_enabled = {
	is_valid = {
		stockpiling_qiran_state > player.var:qiran_quantity

		money_supply_verification_qiran < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:qiran_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_qiran_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_qiran_market_panel_enabled = {
	is_valid = {
		stockpiling_qiran_state > player.var:qiran_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_qiran_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_qiran_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_qiran_market_panel_verification_current = 1

	}
}
buy_qiran_market_panel = {
	is_shown = {
		var:qiran_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = qiran_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:qiran_order = 1
				var:qiran_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_1 #Player country quantity of qiran buy
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_buy_1 #Player country quantity of qiran buy
					value  = var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_1
					value = scope:target.var:qiran_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to qiran_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_qiran_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:qiran_order = 2
				var:qiran_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_2 #Player country quantity of qiran buy
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_buy_2 #Player country quantity of qiran buy
					value  = var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_2
					value = scope:target.var:qiran_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to qiran_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_qiran_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:qiran_order = 3
				var:qiran_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_3 #Player country quantity of qiran buy
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_buy_3 #Player country quantity of qiran buy
					value  = var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_3
					value = scope:target.var:qiran_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to qiran_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_qiran_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:qiran_order = 4
				var:qiran_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_4 #Player country quantity of qiran buy
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_buy_4 #Player country quantity of qiran buy
					value  = var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_4
					value = scope:target.var:qiran_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to qiran_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_qiran_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:qiran_order = 5
				var:qiran_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_5 #Player country quantity of qiran buy
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_buy_5 #Player country quantity of qiran buy
					value  = var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_5
					value = scope:target.var:qiran_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to qiran_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_qiran_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:qiran_order >= 5
			}
			set_variable = {
				name = qiran_order
				#Player country quantity of qiran buy
				value  = 0
			}
		}
	}
}
sell_qiran_market_panel = {
	is_shown = {
		var:qiran_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = qiran_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:qiran_order = 1
				var:qiran_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_1 #Player country quantity of qiran sell
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_1 #Player country quantity of qiran sell
					value  = var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_1
					value = scope:target.var:qiran_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to qiran_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_qiran_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:qiran_order = 2
				var:qiran_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_2 #Player country quantity of qiran sell
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_2 #Player country quantity of qiran sell
					value  = var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_2
					value = scope:target.var:qiran_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to qiran_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_qiran_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:qiran_order = 3
				var:qiran_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_3 #Player country quantity of qiran sell
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_3 #Player country quantity of qiran sell
					value  = var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_3
					value = scope:target.var:qiran_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to qiran_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_qiran_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:qiran_order = 4
				var:qiran_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_4 #Player country quantity of qiran sell
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_4 #Player country quantity of qiran sell
					value  = var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_4
					value = scope:target.var:qiran_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to qiran_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_qiran_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:qiran_order = 5
				var:qiran_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_5 #Player country quantity of qiran sell
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_5 #Player country quantity of qiran sell
					value  = var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_5
					value = scope:target.var:qiran_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to qiran_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_qiran_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:qiran_order >= 5
			}
			set_variable = {
				name = qiran_order
				#Player country quantity of qiran sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_qiran_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:qiran_quantity < stockpiling_qiran_state
		player.central_bank_gold_reserves_state > buy_qiran_in_gold_market_panel
	}
}
sell_qiran_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:qiran_quantity < player.stockpiling_qiran_state
		central_bank_gold_reserves_state > sell_qiran_in_gold_market_panel
	}
}
qiran_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_qiran_state_1
					add = scope:player_country.var:qiran_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:qiran_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_qiran_state_1
						subtract = owner.var:qiran_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:qiran_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
qiran_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_qiran_state_1
					subtract = scope:player_country.var:qiran_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:qiran_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_qiran_state_1
						add = owner.var:qiran_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:qiran_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#real
real_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = real_quantity
				#var:real_quantity < market.owner.stockpiling_real_state
				var:real_quantity < sell_limit_currency_var_rest
				var:real_quantity < 20000000
			}
			change_variable = {
				name = real_quantity
				add = 5000000
			}
		}
	}
}
real_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = real_quantity
				var:real_quantity > 5000000
			}
			change_variable = {
				name = real_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_real_market_panel_enabled = {
	is_valid = {
		stockpiling_real_state > player.var:real_quantity

		money_supply_verification_real < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:real_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_real_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_real_market_panel_enabled = {
	is_valid = {
		stockpiling_real_state > player.var:real_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_real_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_real_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_real_market_panel_verification_current = 1

	}
}
buy_real_market_panel = {
	is_shown = {
		var:real_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = real_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:real_order = 1
				var:real_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_1 #Player country quantity of real buy
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_buy_1 #Player country quantity of real buy
					value  = var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_1
					value = scope:target.var:real_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to real_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_real_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:real_order = 2
				var:real_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_2 #Player country quantity of real buy
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_buy_2 #Player country quantity of real buy
					value  = var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_2
					value = scope:target.var:real_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to real_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_real_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:real_order = 3
				var:real_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_3 #Player country quantity of real buy
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_buy_3 #Player country quantity of real buy
					value  = var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_3
					value = scope:target.var:real_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to real_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_real_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:real_order = 4
				var:real_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_4 #Player country quantity of real buy
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_buy_4 #Player country quantity of real buy
					value  = var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_4
					value = scope:target.var:real_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to real_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_real_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:real_order = 5
				var:real_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_5 #Player country quantity of real buy
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_buy_5 #Player country quantity of real buy
					value  = var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_5
					value = scope:target.var:real_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to real_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_real_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:real_order >= 5
			}
			set_variable = {
				name = real_order
				#Player country quantity of real buy
				value  = 0
			}
		}
	}
}
sell_real_market_panel = {
	is_shown = {
		var:real_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = real_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:real_order = 1
				var:real_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_1 #Player country quantity of real sell
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_sell_1 #Player country quantity of real sell
					value  = var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_1
					value = scope:target.var:real_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to real_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_real_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:real_order = 2
				var:real_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_2 #Player country quantity of real sell
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_sell_2 #Player country quantity of real sell
					value  = var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_2
					value = scope:target.var:real_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to real_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_real_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:real_order = 3
				var:real_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_3 #Player country quantity of real sell
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_sell_3 #Player country quantity of real sell
					value  = var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_3
					value = scope:target.var:real_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to real_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_real_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:real_order = 4
				var:real_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_4 #Player country quantity of real sell
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_sell_4 #Player country quantity of real sell
					value  = var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_4
					value = scope:target.var:real_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to real_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_real_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:real_order = 5
				var:real_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_5 #Player country quantity of real sell
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_sell_5 #Player country quantity of real sell
					value  = var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_5
					value = scope:target.var:real_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to real_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_real_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:real_order >= 5
			}
			set_variable = {
				name = real_order
				#Player country quantity of real sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_real_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:real_quantity < stockpiling_real_state
		player.central_bank_gold_reserves_state > buy_real_in_gold_market_panel
	}
}
sell_real_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:real_quantity < player.stockpiling_real_state
		central_bank_gold_reserves_state > sell_real_in_gold_market_panel
	}
}
real_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_real_state_1
					add = scope:player_country.var:real_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:real_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_real_state_1
						subtract = owner.var:real_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:real_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
real_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_real_state_1
					subtract = scope:player_country.var:real_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:real_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_real_state_1
						add = owner.var:real_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:real_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#ruble
ruble_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = ruble_quantity
				#var:ruble_quantity < market.owner.stockpiling_ruble_state
				var:ruble_quantity < sell_limit_currency_var_rest
				var:ruble_quantity < 20000000
			}
			change_variable = {
				name = ruble_quantity
				add = 5000000
			}
		}
	}
}
ruble_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = ruble_quantity
				var:ruble_quantity > 5000000
			}
			change_variable = {
				name = ruble_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_ruble_market_panel_enabled = {
	is_valid = {
		stockpiling_ruble_state > player.var:ruble_quantity

		money_supply_verification_ruble < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:ruble_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_ruble_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_ruble_market_panel_enabled = {
	is_valid = {
		stockpiling_ruble_state > player.var:ruble_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_ruble_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_ruble_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_ruble_market_panel_verification_current = 1

	}
}
buy_ruble_market_panel = {
	is_shown = {
		var:ruble_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ruble_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ruble_order = 1
				var:ruble_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_1 #Player country quantity of ruble buy
					value  = scope:player_country.var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ruble_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ruble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ruble_buy_1 #Player country quantity of ruble buy
					value  = var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_1
					value = scope:target.var:ruble_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ruble_suply
				set_variable = {
					name = ruble_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ruble_quantity
							multiply = var:ruble_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_ruble_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ruble_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ruble_order = 2
				var:ruble_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_2 #Player country quantity of ruble buy
					value  = scope:player_country.var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ruble_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ruble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ruble_buy_2 #Player country quantity of ruble buy
					value  = var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_2
					value = scope:target.var:ruble_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ruble_suply
				set_variable = {
					name = ruble_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ruble_quantity
							multiply = var:ruble_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_ruble_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ruble_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ruble_order = 3
				var:ruble_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_3 #Player country quantity of ruble buy
					value  = scope:player_country.var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ruble_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ruble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ruble_buy_3 #Player country quantity of ruble buy
					value  = var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_3
					value = scope:target.var:ruble_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ruble_suply
				set_variable = {
					name = ruble_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ruble_quantity
							multiply = var:ruble_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_ruble_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ruble_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ruble_order = 4
				var:ruble_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_4 #Player country quantity of ruble buy
					value  = scope:player_country.var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ruble_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ruble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ruble_buy_4 #Player country quantity of ruble buy
					value  = var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_4
					value = scope:target.var:ruble_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ruble_suply
				set_variable = {
					name = ruble_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ruble_quantity
							multiply = var:ruble_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_ruble_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ruble_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ruble_order = 5
				var:ruble_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_5 #Player country quantity of ruble buy
					value  = scope:player_country.var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ruble_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ruble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ruble_buy_5 #Player country quantity of ruble buy
					value  = var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_5
					value = scope:target.var:ruble_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ruble_suply
				set_variable = {
					name = ruble_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ruble_quantity
							multiply = var:ruble_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_ruble_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ruble_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ruble_order >= 5
			}
			set_variable = {
				name = ruble_order
				#Player country quantity of ruble buy
				value  = 0
			}
		}
	}
}
sell_ruble_market_panel = {
	is_shown = {
		var:ruble_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ruble_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ruble_order = 1
				var:ruble_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_1 #Player country quantity of ruble sell
					value  = scope:player_country.var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ruble_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ruble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_1 #Player country quantity of ruble sell
					value  = var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_1
					value = scope:target.var:ruble_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to ruble_suply
				set_variable = {
					name = ruble_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ruble_quantity
							multiply = var:ruble_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_ruble_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ruble_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ruble_order = 2
				var:ruble_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_2 #Player country quantity of ruble sell
					value  = scope:player_country.var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ruble_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ruble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_2 #Player country quantity of ruble sell
					value  = var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_2
					value = scope:target.var:ruble_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to ruble_suply
				set_variable = {
					name = ruble_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ruble_quantity
							multiply = var:ruble_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_ruble_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ruble_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ruble_order = 3
				var:ruble_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_3 #Player country quantity of ruble sell
					value  = scope:player_country.var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ruble_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ruble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_3 #Player country quantity of ruble sell
					value  = var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_3
					value = scope:target.var:ruble_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to ruble_suply
				set_variable = {
					name = ruble_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ruble_quantity
							multiply = var:ruble_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_ruble_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ruble_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ruble_order = 4
				var:ruble_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_4 #Player country quantity of ruble sell
					value  = scope:player_country.var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ruble_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ruble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_4 #Player country quantity of ruble sell
					value  = var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_4
					value = scope:target.var:ruble_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to ruble_suply
				set_variable = {
					name = ruble_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ruble_quantity
							multiply = var:ruble_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_ruble_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ruble_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ruble_order = 5
				var:ruble_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_5 #Player country quantity of ruble sell
					value  = scope:player_country.var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = ruble_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ruble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ruble_sell_5 #Player country quantity of ruble sell
					value  = var:ruble_quantity
				}

				#exchange rate
				set_variable = {
					name = ruble_to_player_currency_exchange_rate_5
					value = scope:target.var:ruble_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to ruble_suply
				set_variable = {
					name = ruble_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ruble_quantity
							multiply = var:ruble_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_ruble_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ruble_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ruble_order >= 5
			}
			set_variable = {
				name = ruble_order
				#Player country quantity of ruble sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_ruble_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ruble_quantity < stockpiling_ruble_state
		player.central_bank_gold_reserves_state > buy_ruble_in_gold_market_panel
	}
}
sell_ruble_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ruble_quantity < player.stockpiling_ruble_state
		central_bank_gold_reserves_state > sell_ruble_in_gold_market_panel
	}
}
ruble_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ruble_state_1
					add = scope:player_country.var:ruble_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:ruble_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ruble_state_1
						subtract = owner.var:ruble_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:ruble_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
ruble_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ruble_state_1
					subtract = scope:player_country.var:ruble_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:ruble_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ruble_state_1
						add = owner.var:ruble_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:ruble_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#saudi_riyal
saudi_riyal_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = saudi_riyal_quantity
				#var:saudi_riyal_quantity < market.owner.stockpiling_saudi_riyal_state
				var:saudi_riyal_quantity < sell_limit_currency_var_rest
				var:saudi_riyal_quantity < 20000000
			}
			change_variable = {
				name = saudi_riyal_quantity
				add = 5000000
			}
		}
	}
}
saudi_riyal_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = saudi_riyal_quantity
				var:saudi_riyal_quantity > 5000000
			}
			change_variable = {
				name = saudi_riyal_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_saudi_riyal_market_panel_enabled = {
	is_valid = {
		stockpiling_saudi_riyal_state > player.var:saudi_riyal_quantity

		money_supply_verification_saudi_riyal < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:saudi_riyal_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_saudi_riyal_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_saudi_riyal_market_panel_enabled = {
	is_valid = {
		stockpiling_saudi_riyal_state > player.var:saudi_riyal_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_saudi_riyal_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_saudi_riyal_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_saudi_riyal_market_panel_verification_current = 1

	}
}
buy_saudi_riyal_market_panel = {
	is_shown = {
		var:saudi_riyal_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = saudi_riyal_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:saudi_riyal_order = 1
				var:saudi_riyal_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_1 #Player country quantity of saudi_riyal buy
					value  = scope:player_country.var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saudi_riyal_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saudi_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_buy_1 #Player country quantity of saudi_riyal buy
					value  = var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_1
					value = scope:target.var:saudi_riyal_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to saudi_riyal_suply
				set_variable = {
					name = saudi_riyal_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saudi_riyal_quantity
							multiply = var:saudi_riyal_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_saudi_riyal_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saudi_riyal_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:saudi_riyal_order = 2
				var:saudi_riyal_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_2 #Player country quantity of saudi_riyal buy
					value  = scope:player_country.var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saudi_riyal_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saudi_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_buy_2 #Player country quantity of saudi_riyal buy
					value  = var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_2
					value = scope:target.var:saudi_riyal_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to saudi_riyal_suply
				set_variable = {
					name = saudi_riyal_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saudi_riyal_quantity
							multiply = var:saudi_riyal_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_saudi_riyal_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saudi_riyal_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:saudi_riyal_order = 3
				var:saudi_riyal_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_3 #Player country quantity of saudi_riyal buy
					value  = scope:player_country.var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saudi_riyal_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saudi_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_buy_3 #Player country quantity of saudi_riyal buy
					value  = var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_3
					value = scope:target.var:saudi_riyal_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to saudi_riyal_suply
				set_variable = {
					name = saudi_riyal_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saudi_riyal_quantity
							multiply = var:saudi_riyal_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_saudi_riyal_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saudi_riyal_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:saudi_riyal_order = 4
				var:saudi_riyal_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_4 #Player country quantity of saudi_riyal buy
					value  = scope:player_country.var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saudi_riyal_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saudi_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_buy_4 #Player country quantity of saudi_riyal buy
					value  = var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_4
					value = scope:target.var:saudi_riyal_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to saudi_riyal_suply
				set_variable = {
					name = saudi_riyal_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saudi_riyal_quantity
							multiply = var:saudi_riyal_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_saudi_riyal_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saudi_riyal_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:saudi_riyal_order = 5
				var:saudi_riyal_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_5 #Player country quantity of saudi_riyal buy
					value  = scope:player_country.var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saudi_riyal_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saudi_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_buy_5 #Player country quantity of saudi_riyal buy
					value  = var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_5
					value = scope:target.var:saudi_riyal_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to saudi_riyal_suply
				set_variable = {
					name = saudi_riyal_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saudi_riyal_quantity
							multiply = var:saudi_riyal_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_saudi_riyal_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saudi_riyal_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:saudi_riyal_order >= 5
			}
			set_variable = {
				name = saudi_riyal_order
				#Player country quantity of saudi_riyal buy
				value  = 0
			}
		}
	}
}
sell_saudi_riyal_market_panel = {
	is_shown = {
		var:saudi_riyal_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = saudi_riyal_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:saudi_riyal_order = 1
				var:saudi_riyal_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_1 #Player country quantity of saudi_riyal sell
					value  = scope:player_country.var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saudi_riyal_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saudi_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_1 #Player country quantity of saudi_riyal sell
					value  = var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_1
					value = scope:target.var:saudi_riyal_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to saudi_riyal_suply
				set_variable = {
					name = saudi_riyal_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saudi_riyal_quantity
							multiply = var:saudi_riyal_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_saudi_riyal_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saudi_riyal_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:saudi_riyal_order = 2
				var:saudi_riyal_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_2 #Player country quantity of saudi_riyal sell
					value  = scope:player_country.var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saudi_riyal_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saudi_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_2 #Player country quantity of saudi_riyal sell
					value  = var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_2
					value = scope:target.var:saudi_riyal_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to saudi_riyal_suply
				set_variable = {
					name = saudi_riyal_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saudi_riyal_quantity
							multiply = var:saudi_riyal_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_saudi_riyal_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saudi_riyal_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:saudi_riyal_order = 3
				var:saudi_riyal_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_3 #Player country quantity of saudi_riyal sell
					value  = scope:player_country.var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saudi_riyal_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saudi_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_3 #Player country quantity of saudi_riyal sell
					value  = var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_3
					value = scope:target.var:saudi_riyal_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to saudi_riyal_suply
				set_variable = {
					name = saudi_riyal_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saudi_riyal_quantity
							multiply = var:saudi_riyal_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_saudi_riyal_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saudi_riyal_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:saudi_riyal_order = 4
				var:saudi_riyal_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_4 #Player country quantity of saudi_riyal sell
					value  = scope:player_country.var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saudi_riyal_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saudi_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_4 #Player country quantity of saudi_riyal sell
					value  = var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_4
					value = scope:target.var:saudi_riyal_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to saudi_riyal_suply
				set_variable = {
					name = saudi_riyal_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saudi_riyal_quantity
							multiply = var:saudi_riyal_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_saudi_riyal_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saudi_riyal_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:saudi_riyal_order = 5
				var:saudi_riyal_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_5 #Player country quantity of saudi_riyal sell
					value  = scope:player_country.var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saudi_riyal_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saudi_riyal_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saudi_riyal_sell_5 #Player country quantity of saudi_riyal sell
					value  = var:saudi_riyal_quantity
				}

				#exchange rate
				set_variable = {
					name = saudi_riyal_to_player_currency_exchange_rate_5
					value = scope:target.var:saudi_riyal_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to saudi_riyal_suply
				set_variable = {
					name = saudi_riyal_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saudi_riyal_quantity
							multiply = var:saudi_riyal_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_saudi_riyal_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saudi_riyal_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:saudi_riyal_order >= 5
			}
			set_variable = {
				name = saudi_riyal_order
				#Player country quantity of saudi_riyal sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_saudi_riyal_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:saudi_riyal_quantity < stockpiling_saudi_riyal_state
		player.central_bank_gold_reserves_state > buy_saudi_riyal_in_gold_market_panel
	}
}
sell_saudi_riyal_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:saudi_riyal_quantity < player.stockpiling_saudi_riyal_state
		central_bank_gold_reserves_state > sell_saudi_riyal_in_gold_market_panel
	}
}
saudi_riyal_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_saudi_riyal_state_1
					add = scope:player_country.var:saudi_riyal_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:saudi_riyal_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_saudi_riyal_state_1
						subtract = owner.var:saudi_riyal_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:saudi_riyal_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
saudi_riyal_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_saudi_riyal_state_1
					subtract = scope:player_country.var:saudi_riyal_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:saudi_riyal_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_saudi_riyal_state_1
						add = owner.var:saudi_riyal_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:saudi_riyal_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#saxon_thaler
saxon_thaler_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = saxon_thaler_quantity
				#var:saxon_thaler_quantity < market.owner.stockpiling_saxon_thaler_state
				var:saxon_thaler_quantity < sell_limit_currency_var_rest
				var:saxon_thaler_quantity < 20000000
			}
			change_variable = {
				name = saxon_thaler_quantity
				add = 5000000
			}
		}
	}
}
saxon_thaler_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = saxon_thaler_quantity
				var:saxon_thaler_quantity > 5000000
			}
			change_variable = {
				name = saxon_thaler_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_saxon_thaler_market_panel_enabled = {
	is_valid = {
		stockpiling_saxon_thaler_state > player.var:saxon_thaler_quantity

		money_supply_verification_saxon_thaler < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:saxon_thaler_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_saxon_thaler_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_saxon_thaler_market_panel_enabled = {
	is_valid = {
		stockpiling_saxon_thaler_state > player.var:saxon_thaler_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_saxon_thaler_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_saxon_thaler_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_saxon_thaler_market_panel_verification_current = 1

	}
}
buy_saxon_thaler_market_panel = {
	is_shown = {
		var:saxon_thaler_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = saxon_thaler_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:saxon_thaler_order = 1
				var:saxon_thaler_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_1 #Player country quantity of saxon_thaler buy
					value  = scope:player_country.var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saxon_thaler_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saxon_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_buy_1 #Player country quantity of saxon_thaler buy
					value  = var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_1
					value = scope:target.var:saxon_thaler_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to saxon_thaler_suply
				set_variable = {
					name = saxon_thaler_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saxon_thaler_quantity
							multiply = var:saxon_thaler_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_saxon_thaler_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saxon_thaler_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:saxon_thaler_order = 2
				var:saxon_thaler_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_2 #Player country quantity of saxon_thaler buy
					value  = scope:player_country.var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saxon_thaler_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saxon_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_buy_2 #Player country quantity of saxon_thaler buy
					value  = var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_2
					value = scope:target.var:saxon_thaler_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to saxon_thaler_suply
				set_variable = {
					name = saxon_thaler_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saxon_thaler_quantity
							multiply = var:saxon_thaler_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_saxon_thaler_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saxon_thaler_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:saxon_thaler_order = 3
				var:saxon_thaler_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_3 #Player country quantity of saxon_thaler buy
					value  = scope:player_country.var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saxon_thaler_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saxon_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_buy_3 #Player country quantity of saxon_thaler buy
					value  = var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_3
					value = scope:target.var:saxon_thaler_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to saxon_thaler_suply
				set_variable = {
					name = saxon_thaler_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saxon_thaler_quantity
							multiply = var:saxon_thaler_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_saxon_thaler_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saxon_thaler_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:saxon_thaler_order = 4
				var:saxon_thaler_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_4 #Player country quantity of saxon_thaler buy
					value  = scope:player_country.var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saxon_thaler_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saxon_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_buy_4 #Player country quantity of saxon_thaler buy
					value  = var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_4
					value = scope:target.var:saxon_thaler_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to saxon_thaler_suply
				set_variable = {
					name = saxon_thaler_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saxon_thaler_quantity
							multiply = var:saxon_thaler_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_saxon_thaler_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saxon_thaler_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:saxon_thaler_order = 5
				var:saxon_thaler_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_5 #Player country quantity of saxon_thaler buy
					value  = scope:player_country.var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saxon_thaler_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saxon_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_buy_5 #Player country quantity of saxon_thaler buy
					value  = var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_5
					value = scope:target.var:saxon_thaler_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to saxon_thaler_suply
				set_variable = {
					name = saxon_thaler_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saxon_thaler_quantity
							multiply = var:saxon_thaler_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_saxon_thaler_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saxon_thaler_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:saxon_thaler_order >= 5
			}
			set_variable = {
				name = saxon_thaler_order
				#Player country quantity of saxon_thaler buy
				value  = 0
			}
		}
	}
}
sell_saxon_thaler_market_panel = {
	is_shown = {
		var:saxon_thaler_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = saxon_thaler_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:saxon_thaler_order = 1
				var:saxon_thaler_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_1 #Player country quantity of saxon_thaler sell
					value  = scope:player_country.var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saxon_thaler_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saxon_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_1 #Player country quantity of saxon_thaler sell
					value  = var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_1
					value = scope:target.var:saxon_thaler_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to saxon_thaler_suply
				set_variable = {
					name = saxon_thaler_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saxon_thaler_quantity
							multiply = var:saxon_thaler_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_saxon_thaler_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saxon_thaler_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:saxon_thaler_order = 2
				var:saxon_thaler_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_2 #Player country quantity of saxon_thaler sell
					value  = scope:player_country.var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saxon_thaler_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saxon_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_2 #Player country quantity of saxon_thaler sell
					value  = var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_2
					value = scope:target.var:saxon_thaler_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to saxon_thaler_suply
				set_variable = {
					name = saxon_thaler_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saxon_thaler_quantity
							multiply = var:saxon_thaler_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_saxon_thaler_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saxon_thaler_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:saxon_thaler_order = 3
				var:saxon_thaler_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_3 #Player country quantity of saxon_thaler sell
					value  = scope:player_country.var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saxon_thaler_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saxon_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_3 #Player country quantity of saxon_thaler sell
					value  = var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_3
					value = scope:target.var:saxon_thaler_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to saxon_thaler_suply
				set_variable = {
					name = saxon_thaler_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saxon_thaler_quantity
							multiply = var:saxon_thaler_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_saxon_thaler_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saxon_thaler_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:saxon_thaler_order = 4
				var:saxon_thaler_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_4 #Player country quantity of saxon_thaler sell
					value  = scope:player_country.var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saxon_thaler_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saxon_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_4 #Player country quantity of saxon_thaler sell
					value  = var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_4
					value = scope:target.var:saxon_thaler_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to saxon_thaler_suply
				set_variable = {
					name = saxon_thaler_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saxon_thaler_quantity
							multiply = var:saxon_thaler_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_saxon_thaler_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saxon_thaler_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:saxon_thaler_order = 5
				var:saxon_thaler_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_5 #Player country quantity of saxon_thaler sell
					value  = scope:player_country.var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = saxon_thaler_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:saxon_thaler_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = saxon_thaler_sell_5 #Player country quantity of saxon_thaler sell
					value  = var:saxon_thaler_quantity
				}

				#exchange rate
				set_variable = {
					name = saxon_thaler_to_player_currency_exchange_rate_5
					value = scope:target.var:saxon_thaler_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to saxon_thaler_suply
				set_variable = {
					name = saxon_thaler_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:saxon_thaler_quantity
							multiply = var:saxon_thaler_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_saxon_thaler_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_saxon_thaler_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:saxon_thaler_order >= 5
			}
			set_variable = {
				name = saxon_thaler_order
				#Player country quantity of saxon_thaler sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_saxon_thaler_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:saxon_thaler_quantity < stockpiling_saxon_thaler_state
		player.central_bank_gold_reserves_state > buy_saxon_thaler_in_gold_market_panel
	}
}
sell_saxon_thaler_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:saxon_thaler_quantity < player.stockpiling_saxon_thaler_state
		central_bank_gold_reserves_state > sell_saxon_thaler_in_gold_market_panel
	}
}
saxon_thaler_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_saxon_thaler_state_1
					add = scope:player_country.var:saxon_thaler_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:saxon_thaler_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_saxon_thaler_state_1
						subtract = owner.var:saxon_thaler_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:saxon_thaler_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
saxon_thaler_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_saxon_thaler_state_1
					subtract = scope:player_country.var:saxon_thaler_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:saxon_thaler_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_saxon_thaler_state_1
						add = owner.var:saxon_thaler_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:saxon_thaler_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#scudo_pontificio
scudo_pontificio_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = scudo_pontificio_quantity
				#var:scudo_pontificio_quantity < market.owner.stockpiling_scudo_pontificio_state
				var:scudo_pontificio_quantity < sell_limit_currency_var_rest
				var:scudo_pontificio_quantity < 20000000
			}
			change_variable = {
				name = scudo_pontificio_quantity
				add = 5000000
			}
		}
	}
}
scudo_pontificio_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = scudo_pontificio_quantity
				var:scudo_pontificio_quantity > 5000000
			}
			change_variable = {
				name = scudo_pontificio_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_scudo_pontificio_market_panel_enabled = {
	is_valid = {
		stockpiling_scudo_pontificio_state > player.var:scudo_pontificio_quantity

		money_supply_verification_scudo_pontificio < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:scudo_pontificio_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_scudo_pontificio_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_scudo_pontificio_market_panel_enabled = {
	is_valid = {
		stockpiling_scudo_pontificio_state > player.var:scudo_pontificio_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_scudo_pontificio_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_scudo_pontificio_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_scudo_pontificio_market_panel_verification_current = 1

	}
}
buy_scudo_pontificio_market_panel = {
	is_shown = {
		var:scudo_pontificio_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = scudo_pontificio_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:scudo_pontificio_order = 1
				var:scudo_pontificio_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_1 #Player country quantity of scudo_pontificio buy
					value  = scope:player_country.var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_pontificio_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_pontificio_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_buy_1 #Player country quantity of scudo_pontificio buy
					value  = var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_1
					value = scope:target.var:scudo_pontificio_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to scudo_pontificio_suply
				set_variable = {
					name = scudo_pontificio_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_pontificio_quantity
							multiply = var:scudo_pontificio_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_scudo_pontificio_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_pontificio_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:scudo_pontificio_order = 2
				var:scudo_pontificio_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_2 #Player country quantity of scudo_pontificio buy
					value  = scope:player_country.var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_pontificio_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_pontificio_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_buy_2 #Player country quantity of scudo_pontificio buy
					value  = var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_2
					value = scope:target.var:scudo_pontificio_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to scudo_pontificio_suply
				set_variable = {
					name = scudo_pontificio_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_pontificio_quantity
							multiply = var:scudo_pontificio_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_scudo_pontificio_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_pontificio_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:scudo_pontificio_order = 3
				var:scudo_pontificio_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_3 #Player country quantity of scudo_pontificio buy
					value  = scope:player_country.var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_pontificio_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_pontificio_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_buy_3 #Player country quantity of scudo_pontificio buy
					value  = var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_3
					value = scope:target.var:scudo_pontificio_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to scudo_pontificio_suply
				set_variable = {
					name = scudo_pontificio_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_pontificio_quantity
							multiply = var:scudo_pontificio_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_scudo_pontificio_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_pontificio_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:scudo_pontificio_order = 4
				var:scudo_pontificio_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_4 #Player country quantity of scudo_pontificio buy
					value  = scope:player_country.var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_pontificio_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_pontificio_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_buy_4 #Player country quantity of scudo_pontificio buy
					value  = var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_4
					value = scope:target.var:scudo_pontificio_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to scudo_pontificio_suply
				set_variable = {
					name = scudo_pontificio_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_pontificio_quantity
							multiply = var:scudo_pontificio_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_scudo_pontificio_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_pontificio_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:scudo_pontificio_order = 5
				var:scudo_pontificio_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_5 #Player country quantity of scudo_pontificio buy
					value  = scope:player_country.var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_pontificio_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_pontificio_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_buy_5 #Player country quantity of scudo_pontificio buy
					value  = var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_5
					value = scope:target.var:scudo_pontificio_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to scudo_pontificio_suply
				set_variable = {
					name = scudo_pontificio_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_pontificio_quantity
							multiply = var:scudo_pontificio_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_scudo_pontificio_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_pontificio_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:scudo_pontificio_order >= 5
			}
			set_variable = {
				name = scudo_pontificio_order
				#Player country quantity of scudo_pontificio buy
				value  = 0
			}
		}
	}
}
sell_scudo_pontificio_market_panel = {
	is_shown = {
		var:scudo_pontificio_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = scudo_pontificio_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:scudo_pontificio_order = 1
				var:scudo_pontificio_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_1 #Player country quantity of scudo_pontificio sell
					value  = scope:player_country.var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_pontificio_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_pontificio_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_1 #Player country quantity of scudo_pontificio sell
					value  = var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_1
					value = scope:target.var:scudo_pontificio_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to scudo_pontificio_suply
				set_variable = {
					name = scudo_pontificio_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_pontificio_quantity
							multiply = var:scudo_pontificio_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_scudo_pontificio_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_pontificio_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:scudo_pontificio_order = 2
				var:scudo_pontificio_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_2 #Player country quantity of scudo_pontificio sell
					value  = scope:player_country.var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_pontificio_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_pontificio_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_2 #Player country quantity of scudo_pontificio sell
					value  = var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_2
					value = scope:target.var:scudo_pontificio_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to scudo_pontificio_suply
				set_variable = {
					name = scudo_pontificio_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_pontificio_quantity
							multiply = var:scudo_pontificio_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_scudo_pontificio_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_pontificio_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:scudo_pontificio_order = 3
				var:scudo_pontificio_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_3 #Player country quantity of scudo_pontificio sell
					value  = scope:player_country.var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_pontificio_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_pontificio_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_3 #Player country quantity of scudo_pontificio sell
					value  = var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_3
					value = scope:target.var:scudo_pontificio_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to scudo_pontificio_suply
				set_variable = {
					name = scudo_pontificio_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_pontificio_quantity
							multiply = var:scudo_pontificio_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_scudo_pontificio_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_pontificio_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:scudo_pontificio_order = 4
				var:scudo_pontificio_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_4 #Player country quantity of scudo_pontificio sell
					value  = scope:player_country.var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_pontificio_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_pontificio_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_4 #Player country quantity of scudo_pontificio sell
					value  = var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_4
					value = scope:target.var:scudo_pontificio_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to scudo_pontificio_suply
				set_variable = {
					name = scudo_pontificio_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_pontificio_quantity
							multiply = var:scudo_pontificio_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_scudo_pontificio_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_pontificio_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:scudo_pontificio_order = 5
				var:scudo_pontificio_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_5 #Player country quantity of scudo_pontificio sell
					value  = scope:player_country.var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_pontificio_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_pontificio_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_pontificio_sell_5 #Player country quantity of scudo_pontificio sell
					value  = var:scudo_pontificio_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_pontificio_to_player_currency_exchange_rate_5
					value = scope:target.var:scudo_pontificio_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to scudo_pontificio_suply
				set_variable = {
					name = scudo_pontificio_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_pontificio_quantity
							multiply = var:scudo_pontificio_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_scudo_pontificio_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_pontificio_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:scudo_pontificio_order >= 5
			}
			set_variable = {
				name = scudo_pontificio_order
				#Player country quantity of scudo_pontificio sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_scudo_pontificio_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:scudo_pontificio_quantity < stockpiling_scudo_pontificio_state
		player.central_bank_gold_reserves_state > buy_scudo_pontificio_in_gold_market_panel
	}
}
sell_scudo_pontificio_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:scudo_pontificio_quantity < player.stockpiling_scudo_pontificio_state
		central_bank_gold_reserves_state > sell_scudo_pontificio_in_gold_market_panel
	}
}
scudo_pontificio_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_scudo_pontificio_state_1
					add = scope:player_country.var:scudo_pontificio_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:scudo_pontificio_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_scudo_pontificio_state_1
						subtract = owner.var:scudo_pontificio_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:scudo_pontificio_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
scudo_pontificio_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_scudo_pontificio_state_1
					subtract = scope:player_country.var:scudo_pontificio_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:scudo_pontificio_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_scudo_pontificio_state_1
						add = owner.var:scudo_pontificio_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:scudo_pontificio_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#scudo_sardo
scudo_sardo_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = scudo_sardo_quantity
				#var:scudo_sardo_quantity < market.owner.stockpiling_scudo_sardo_state
				var:scudo_sardo_quantity < sell_limit_currency_var_rest
				var:scudo_sardo_quantity < 20000000
			}
			change_variable = {
				name = scudo_sardo_quantity
				add = 5000000
			}
		}
	}
}
scudo_sardo_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = scudo_sardo_quantity
				var:scudo_sardo_quantity > 5000000
			}
			change_variable = {
				name = scudo_sardo_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_scudo_sardo_market_panel_enabled = {
	is_valid = {
		stockpiling_scudo_sardo_state > player.var:scudo_sardo_quantity

		money_supply_verification_scudo_sardo < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:scudo_sardo_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_scudo_sardo_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_scudo_sardo_market_panel_enabled = {
	is_valid = {
		stockpiling_scudo_sardo_state > player.var:scudo_sardo_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_scudo_sardo_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_scudo_sardo_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_scudo_sardo_market_panel_verification_current = 1

	}
}
buy_scudo_sardo_market_panel = {
	is_shown = {
		var:scudo_sardo_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = scudo_sardo_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:scudo_sardo_order = 1
				var:scudo_sardo_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_1 #Player country quantity of scudo_sardo buy
					value  = scope:player_country.var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_sardo_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_sardo_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_buy_1 #Player country quantity of scudo_sardo buy
					value  = var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_1
					value = scope:target.var:scudo_sardo_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to scudo_sardo_suply
				set_variable = {
					name = scudo_sardo_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_sardo_quantity
							multiply = var:scudo_sardo_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_scudo_sardo_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_sardo_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:scudo_sardo_order = 2
				var:scudo_sardo_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_2 #Player country quantity of scudo_sardo buy
					value  = scope:player_country.var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_sardo_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_sardo_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_buy_2 #Player country quantity of scudo_sardo buy
					value  = var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_2
					value = scope:target.var:scudo_sardo_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to scudo_sardo_suply
				set_variable = {
					name = scudo_sardo_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_sardo_quantity
							multiply = var:scudo_sardo_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_scudo_sardo_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_sardo_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:scudo_sardo_order = 3
				var:scudo_sardo_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_3 #Player country quantity of scudo_sardo buy
					value  = scope:player_country.var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_sardo_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_sardo_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_buy_3 #Player country quantity of scudo_sardo buy
					value  = var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_3
					value = scope:target.var:scudo_sardo_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to scudo_sardo_suply
				set_variable = {
					name = scudo_sardo_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_sardo_quantity
							multiply = var:scudo_sardo_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_scudo_sardo_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_sardo_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:scudo_sardo_order = 4
				var:scudo_sardo_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_4 #Player country quantity of scudo_sardo buy
					value  = scope:player_country.var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_sardo_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_sardo_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_buy_4 #Player country quantity of scudo_sardo buy
					value  = var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_4
					value = scope:target.var:scudo_sardo_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to scudo_sardo_suply
				set_variable = {
					name = scudo_sardo_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_sardo_quantity
							multiply = var:scudo_sardo_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_scudo_sardo_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_sardo_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:scudo_sardo_order = 5
				var:scudo_sardo_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_5 #Player country quantity of scudo_sardo buy
					value  = scope:player_country.var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_sardo_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_sardo_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_buy_5 #Player country quantity of scudo_sardo buy
					value  = var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_5
					value = scope:target.var:scudo_sardo_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to scudo_sardo_suply
				set_variable = {
					name = scudo_sardo_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_sardo_quantity
							multiply = var:scudo_sardo_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_scudo_sardo_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_sardo_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:scudo_sardo_order >= 5
			}
			set_variable = {
				name = scudo_sardo_order
				#Player country quantity of scudo_sardo buy
				value  = 0
			}
		}
	}
}
sell_scudo_sardo_market_panel = {
	is_shown = {
		var:scudo_sardo_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = scudo_sardo_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:scudo_sardo_order = 1
				var:scudo_sardo_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_1 #Player country quantity of scudo_sardo sell
					value  = scope:player_country.var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_sardo_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_sardo_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_1 #Player country quantity of scudo_sardo sell
					value  = var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_1
					value = scope:target.var:scudo_sardo_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to scudo_sardo_suply
				set_variable = {
					name = scudo_sardo_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_sardo_quantity
							multiply = var:scudo_sardo_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_scudo_sardo_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_sardo_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:scudo_sardo_order = 2
				var:scudo_sardo_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_2 #Player country quantity of scudo_sardo sell
					value  = scope:player_country.var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_sardo_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_sardo_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_2 #Player country quantity of scudo_sardo sell
					value  = var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_2
					value = scope:target.var:scudo_sardo_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to scudo_sardo_suply
				set_variable = {
					name = scudo_sardo_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_sardo_quantity
							multiply = var:scudo_sardo_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_scudo_sardo_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_sardo_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:scudo_sardo_order = 3
				var:scudo_sardo_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_3 #Player country quantity of scudo_sardo sell
					value  = scope:player_country.var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_sardo_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_sardo_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_3 #Player country quantity of scudo_sardo sell
					value  = var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_3
					value = scope:target.var:scudo_sardo_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to scudo_sardo_suply
				set_variable = {
					name = scudo_sardo_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_sardo_quantity
							multiply = var:scudo_sardo_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_scudo_sardo_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_sardo_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:scudo_sardo_order = 4
				var:scudo_sardo_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_4 #Player country quantity of scudo_sardo sell
					value  = scope:player_country.var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_sardo_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_sardo_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_4 #Player country quantity of scudo_sardo sell
					value  = var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_4
					value = scope:target.var:scudo_sardo_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to scudo_sardo_suply
				set_variable = {
					name = scudo_sardo_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_sardo_quantity
							multiply = var:scudo_sardo_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_scudo_sardo_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_sardo_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:scudo_sardo_order = 5
				var:scudo_sardo_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_5 #Player country quantity of scudo_sardo sell
					value  = scope:player_country.var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = scudo_sardo_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:scudo_sardo_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = scudo_sardo_sell_5 #Player country quantity of scudo_sardo sell
					value  = var:scudo_sardo_quantity
				}

				#exchange rate
				set_variable = {
					name = scudo_sardo_to_player_currency_exchange_rate_5
					value = scope:target.var:scudo_sardo_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to scudo_sardo_suply
				set_variable = {
					name = scudo_sardo_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:scudo_sardo_quantity
							multiply = var:scudo_sardo_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_scudo_sardo_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_scudo_sardo_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:scudo_sardo_order >= 5
			}
			set_variable = {
				name = scudo_sardo_order
				#Player country quantity of scudo_sardo sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_scudo_sardo_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:scudo_sardo_quantity < stockpiling_scudo_sardo_state
		player.central_bank_gold_reserves_state > buy_scudo_sardo_in_gold_market_panel
	}
}
sell_scudo_sardo_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:scudo_sardo_quantity < player.stockpiling_scudo_sardo_state
		central_bank_gold_reserves_state > sell_scudo_sardo_in_gold_market_panel
	}
}
scudo_sardo_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_scudo_sardo_state_1
					add = scope:player_country.var:scudo_sardo_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:scudo_sardo_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_scudo_sardo_state_1
						subtract = owner.var:scudo_sardo_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:scudo_sardo_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
scudo_sardo_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_scudo_sardo_state_1
					subtract = scope:player_country.var:scudo_sardo_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:scudo_sardo_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_scudo_sardo_state_1
						add = owner.var:scudo_sardo_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:scudo_sardo_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#serbian_dinar
serbian_dinar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = serbian_dinar_quantity
				#var:serbian_dinar_quantity < market.owner.stockpiling_serbian_dinar_state
				var:serbian_dinar_quantity < sell_limit_currency_var_rest
				var:serbian_dinar_quantity < 20000000
			}
			change_variable = {
				name = serbian_dinar_quantity
				add = 5000000
			}
		}
	}
}
serbian_dinar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = serbian_dinar_quantity
				var:serbian_dinar_quantity > 5000000
			}
			change_variable = {
				name = serbian_dinar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_serbian_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_serbian_dinar_state > player.var:serbian_dinar_quantity

		money_supply_verification_serbian_dinar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:serbian_dinar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_serbian_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_serbian_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_serbian_dinar_state > player.var:serbian_dinar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_serbian_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_serbian_dinar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_serbian_dinar_market_panel_verification_current = 1

	}
}
buy_serbian_dinar_market_panel = {
	is_shown = {
		var:serbian_dinar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = serbian_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:serbian_dinar_order = 1
				var:serbian_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_1 #Player country quantity of serbian_dinar buy
					value  = scope:player_country.var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = serbian_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:serbian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_buy_1 #Player country quantity of serbian_dinar buy
					value  = var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:serbian_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to serbian_dinar_suply
				set_variable = {
					name = serbian_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:serbian_dinar_quantity
							multiply = var:serbian_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_serbian_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_serbian_dinar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:serbian_dinar_order = 2
				var:serbian_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_2 #Player country quantity of serbian_dinar buy
					value  = scope:player_country.var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = serbian_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:serbian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_buy_2 #Player country quantity of serbian_dinar buy
					value  = var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:serbian_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to serbian_dinar_suply
				set_variable = {
					name = serbian_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:serbian_dinar_quantity
							multiply = var:serbian_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_serbian_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_serbian_dinar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:serbian_dinar_order = 3
				var:serbian_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_3 #Player country quantity of serbian_dinar buy
					value  = scope:player_country.var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = serbian_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:serbian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_buy_3 #Player country quantity of serbian_dinar buy
					value  = var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:serbian_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to serbian_dinar_suply
				set_variable = {
					name = serbian_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:serbian_dinar_quantity
							multiply = var:serbian_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_serbian_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_serbian_dinar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:serbian_dinar_order = 4
				var:serbian_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_4 #Player country quantity of serbian_dinar buy
					value  = scope:player_country.var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = serbian_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:serbian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_buy_4 #Player country quantity of serbian_dinar buy
					value  = var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:serbian_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to serbian_dinar_suply
				set_variable = {
					name = serbian_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:serbian_dinar_quantity
							multiply = var:serbian_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_serbian_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_serbian_dinar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:serbian_dinar_order = 5
				var:serbian_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_5 #Player country quantity of serbian_dinar buy
					value  = scope:player_country.var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = serbian_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:serbian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_buy_5 #Player country quantity of serbian_dinar buy
					value  = var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:serbian_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to serbian_dinar_suply
				set_variable = {
					name = serbian_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:serbian_dinar_quantity
							multiply = var:serbian_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_serbian_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_serbian_dinar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:serbian_dinar_order >= 5
			}
			set_variable = {
				name = serbian_dinar_order
				#Player country quantity of serbian_dinar buy
				value  = 0
			}
		}
	}
}
sell_serbian_dinar_market_panel = {
	is_shown = {
		var:serbian_dinar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = serbian_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:serbian_dinar_order = 1
				var:serbian_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_1 #Player country quantity of serbian_dinar sell
					value  = scope:player_country.var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = serbian_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:serbian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_1 #Player country quantity of serbian_dinar sell
					value  = var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:serbian_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to serbian_dinar_suply
				set_variable = {
					name = serbian_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:serbian_dinar_quantity
							multiply = var:serbian_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_serbian_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_serbian_dinar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:serbian_dinar_order = 2
				var:serbian_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_2 #Player country quantity of serbian_dinar sell
					value  = scope:player_country.var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = serbian_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:serbian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_2 #Player country quantity of serbian_dinar sell
					value  = var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:serbian_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to serbian_dinar_suply
				set_variable = {
					name = serbian_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:serbian_dinar_quantity
							multiply = var:serbian_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_serbian_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_serbian_dinar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:serbian_dinar_order = 3
				var:serbian_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_3 #Player country quantity of serbian_dinar sell
					value  = scope:player_country.var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = serbian_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:serbian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_3 #Player country quantity of serbian_dinar sell
					value  = var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:serbian_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to serbian_dinar_suply
				set_variable = {
					name = serbian_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:serbian_dinar_quantity
							multiply = var:serbian_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_serbian_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_serbian_dinar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:serbian_dinar_order = 4
				var:serbian_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_4 #Player country quantity of serbian_dinar sell
					value  = scope:player_country.var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = serbian_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:serbian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_4 #Player country quantity of serbian_dinar sell
					value  = var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:serbian_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to serbian_dinar_suply
				set_variable = {
					name = serbian_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:serbian_dinar_quantity
							multiply = var:serbian_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_serbian_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_serbian_dinar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:serbian_dinar_order = 5
				var:serbian_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_5 #Player country quantity of serbian_dinar sell
					value  = scope:player_country.var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = serbian_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:serbian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = serbian_dinar_sell_5 #Player country quantity of serbian_dinar sell
					value  = var:serbian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = serbian_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:serbian_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to serbian_dinar_suply
				set_variable = {
					name = serbian_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:serbian_dinar_quantity
							multiply = var:serbian_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_serbian_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_serbian_dinar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:serbian_dinar_order >= 5
			}
			set_variable = {
				name = serbian_dinar_order
				#Player country quantity of serbian_dinar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_serbian_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:serbian_dinar_quantity < stockpiling_serbian_dinar_state
		player.central_bank_gold_reserves_state > buy_serbian_dinar_in_gold_market_panel
	}
}
sell_serbian_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:serbian_dinar_quantity < player.stockpiling_serbian_dinar_state
		central_bank_gold_reserves_state > sell_serbian_dinar_in_gold_market_panel
	}
}
serbian_dinar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_serbian_dinar_state_1
					add = scope:player_country.var:serbian_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:serbian_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_serbian_dinar_state_1
						subtract = owner.var:serbian_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:serbian_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
serbian_dinar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_serbian_dinar_state_1
					subtract = scope:player_country.var:serbian_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:serbian_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_serbian_dinar_state_1
						add = owner.var:serbian_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:serbian_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#south_german_gulden
south_german_gulden_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = south_german_gulden_quantity
				#var:south_german_gulden_quantity < market.owner.stockpiling_south_german_gulden_state
				var:south_german_gulden_quantity < sell_limit_currency_var_rest
				var:south_german_gulden_quantity < 20000000
			}
			change_variable = {
				name = south_german_gulden_quantity
				add = 5000000
			}
		}
	}
}
south_german_gulden_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = south_german_gulden_quantity
				var:south_german_gulden_quantity > 5000000
			}
			change_variable = {
				name = south_german_gulden_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_south_german_gulden_market_panel_enabled = {
	is_valid = {
		stockpiling_south_german_gulden_state > player.var:south_german_gulden_quantity

		money_supply_verification_south_german_gulden < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:south_german_gulden_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_south_german_gulden_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_south_german_gulden_market_panel_enabled = {
	is_valid = {
		stockpiling_south_german_gulden_state > player.var:south_german_gulden_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_south_german_gulden_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_south_german_gulden_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_south_german_gulden_market_panel_verification_current = 1

	}
}
buy_south_german_gulden_market_panel = {
	is_shown = {
		var:south_german_gulden_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = south_german_gulden_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:south_german_gulden_order = 1
				var:south_german_gulden_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_1 #Player country quantity of south_german_gulden buy
					value  = scope:player_country.var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_german_gulden_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_german_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_buy_1 #Player country quantity of south_german_gulden buy
					value  = var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_1
					value = scope:target.var:south_german_gulden_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to south_german_gulden_suply
				set_variable = {
					name = south_german_gulden_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_german_gulden_quantity
							multiply = var:south_german_gulden_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_south_german_gulden_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_german_gulden_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:south_german_gulden_order = 2
				var:south_german_gulden_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_2 #Player country quantity of south_german_gulden buy
					value  = scope:player_country.var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_german_gulden_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_german_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_buy_2 #Player country quantity of south_german_gulden buy
					value  = var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_2
					value = scope:target.var:south_german_gulden_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to south_german_gulden_suply
				set_variable = {
					name = south_german_gulden_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_german_gulden_quantity
							multiply = var:south_german_gulden_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_south_german_gulden_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_german_gulden_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:south_german_gulden_order = 3
				var:south_german_gulden_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_3 #Player country quantity of south_german_gulden buy
					value  = scope:player_country.var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_german_gulden_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_german_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_buy_3 #Player country quantity of south_german_gulden buy
					value  = var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_3
					value = scope:target.var:south_german_gulden_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to south_german_gulden_suply
				set_variable = {
					name = south_german_gulden_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_german_gulden_quantity
							multiply = var:south_german_gulden_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_south_german_gulden_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_german_gulden_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:south_german_gulden_order = 4
				var:south_german_gulden_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_4 #Player country quantity of south_german_gulden buy
					value  = scope:player_country.var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_german_gulden_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_german_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_buy_4 #Player country quantity of south_german_gulden buy
					value  = var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_4
					value = scope:target.var:south_german_gulden_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to south_german_gulden_suply
				set_variable = {
					name = south_german_gulden_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_german_gulden_quantity
							multiply = var:south_german_gulden_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_south_german_gulden_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_german_gulden_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:south_german_gulden_order = 5
				var:south_german_gulden_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_5 #Player country quantity of south_german_gulden buy
					value  = scope:player_country.var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_german_gulden_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_german_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_buy_5 #Player country quantity of south_german_gulden buy
					value  = var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_5
					value = scope:target.var:south_german_gulden_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to south_german_gulden_suply
				set_variable = {
					name = south_german_gulden_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_german_gulden_quantity
							multiply = var:south_german_gulden_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_south_german_gulden_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_german_gulden_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:south_german_gulden_order >= 5
			}
			set_variable = {
				name = south_german_gulden_order
				#Player country quantity of south_german_gulden buy
				value  = 0
			}
		}
	}
}
sell_south_german_gulden_market_panel = {
	is_shown = {
		var:south_german_gulden_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = south_german_gulden_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:south_german_gulden_order = 1
				var:south_german_gulden_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_1 #Player country quantity of south_german_gulden sell
					value  = scope:player_country.var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_german_gulden_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_german_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_1 #Player country quantity of south_german_gulden sell
					value  = var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_1
					value = scope:target.var:south_german_gulden_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to south_german_gulden_suply
				set_variable = {
					name = south_german_gulden_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_german_gulden_quantity
							multiply = var:south_german_gulden_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_south_german_gulden_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_german_gulden_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:south_german_gulden_order = 2
				var:south_german_gulden_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_2 #Player country quantity of south_german_gulden sell
					value  = scope:player_country.var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_german_gulden_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_german_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_2 #Player country quantity of south_german_gulden sell
					value  = var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_2
					value = scope:target.var:south_german_gulden_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to south_german_gulden_suply
				set_variable = {
					name = south_german_gulden_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_german_gulden_quantity
							multiply = var:south_german_gulden_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_south_german_gulden_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_german_gulden_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:south_german_gulden_order = 3
				var:south_german_gulden_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_3 #Player country quantity of south_german_gulden sell
					value  = scope:player_country.var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_german_gulden_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_german_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_3 #Player country quantity of south_german_gulden sell
					value  = var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_3
					value = scope:target.var:south_german_gulden_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to south_german_gulden_suply
				set_variable = {
					name = south_german_gulden_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_german_gulden_quantity
							multiply = var:south_german_gulden_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_south_german_gulden_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_german_gulden_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:south_german_gulden_order = 4
				var:south_german_gulden_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_4 #Player country quantity of south_german_gulden sell
					value  = scope:player_country.var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_german_gulden_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_german_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_4 #Player country quantity of south_german_gulden sell
					value  = var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_4
					value = scope:target.var:south_german_gulden_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to south_german_gulden_suply
				set_variable = {
					name = south_german_gulden_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_german_gulden_quantity
							multiply = var:south_german_gulden_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_south_german_gulden_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_german_gulden_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:south_german_gulden_order = 5
				var:south_german_gulden_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_5 #Player country quantity of south_german_gulden sell
					value  = scope:player_country.var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_german_gulden_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_german_gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_german_gulden_sell_5 #Player country quantity of south_german_gulden sell
					value  = var:south_german_gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = south_german_gulden_to_player_currency_exchange_rate_5
					value = scope:target.var:south_german_gulden_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to south_german_gulden_suply
				set_variable = {
					name = south_german_gulden_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_german_gulden_quantity
							multiply = var:south_german_gulden_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_south_german_gulden_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_german_gulden_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:south_german_gulden_order >= 5
			}
			set_variable = {
				name = south_german_gulden_order
				#Player country quantity of south_german_gulden sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_south_german_gulden_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:south_german_gulden_quantity < stockpiling_south_german_gulden_state
		player.central_bank_gold_reserves_state > buy_south_german_gulden_in_gold_market_panel
	}
}
sell_south_german_gulden_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:south_german_gulden_quantity < player.stockpiling_south_german_gulden_state
		central_bank_gold_reserves_state > sell_south_german_gulden_in_gold_market_panel
	}
}
south_german_gulden_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_south_german_gulden_state_1
					add = scope:player_country.var:south_german_gulden_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:south_german_gulden_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_south_german_gulden_state_1
						subtract = owner.var:south_german_gulden_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:south_german_gulden_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
south_german_gulden_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_south_german_gulden_state_1
					subtract = scope:player_country.var:south_german_gulden_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:south_german_gulden_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_south_german_gulden_state_1
						add = owner.var:south_german_gulden_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:south_german_gulden_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#singapore_dollar
singapore_dollar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = singapore_dollar_quantity
				#var:singapore_dollar_quantity < market.owner.stockpiling_singapore_dollar_state
				var:singapore_dollar_quantity < sell_limit_currency_var_rest
				var:singapore_dollar_quantity < 20000000
			}
			change_variable = {
				name = singapore_dollar_quantity
				add = 5000000
			}
		}
	}
}
singapore_dollar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = singapore_dollar_quantity
				var:singapore_dollar_quantity > 5000000
			}
			change_variable = {
				name = singapore_dollar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_singapore_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_singapore_dollar_state > player.var:singapore_dollar_quantity

		money_supply_verification_singapore_dollar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:singapore_dollar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_singapore_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_singapore_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_singapore_dollar_state > player.var:singapore_dollar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_singapore_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_singapore_dollar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_singapore_dollar_market_panel_verification_current = 1

	}
}
buy_singapore_dollar_market_panel = {
	is_shown = {
		var:singapore_dollar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = singapore_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:singapore_dollar_order = 1
				var:singapore_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_1 #Player country quantity of singapore_dollar buy
					value  = scope:player_country.var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = singapore_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:singapore_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_buy_1 #Player country quantity of singapore_dollar buy
					value  = var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:singapore_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to singapore_dollar_suply
				set_variable = {
					name = singapore_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:singapore_dollar_quantity
							multiply = var:singapore_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_singapore_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_singapore_dollar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:singapore_dollar_order = 2
				var:singapore_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_2 #Player country quantity of singapore_dollar buy
					value  = scope:player_country.var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = singapore_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:singapore_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_buy_2 #Player country quantity of singapore_dollar buy
					value  = var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:singapore_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to singapore_dollar_suply
				set_variable = {
					name = singapore_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:singapore_dollar_quantity
							multiply = var:singapore_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_singapore_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_singapore_dollar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:singapore_dollar_order = 3
				var:singapore_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_3 #Player country quantity of singapore_dollar buy
					value  = scope:player_country.var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = singapore_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:singapore_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_buy_3 #Player country quantity of singapore_dollar buy
					value  = var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:singapore_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to singapore_dollar_suply
				set_variable = {
					name = singapore_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:singapore_dollar_quantity
							multiply = var:singapore_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_singapore_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_singapore_dollar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:singapore_dollar_order = 4
				var:singapore_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_4 #Player country quantity of singapore_dollar buy
					value  = scope:player_country.var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = singapore_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:singapore_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_buy_4 #Player country quantity of singapore_dollar buy
					value  = var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:singapore_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to singapore_dollar_suply
				set_variable = {
					name = singapore_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:singapore_dollar_quantity
							multiply = var:singapore_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_singapore_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_singapore_dollar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:singapore_dollar_order = 5
				var:singapore_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_5 #Player country quantity of singapore_dollar buy
					value  = scope:player_country.var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = singapore_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:singapore_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_buy_5 #Player country quantity of singapore_dollar buy
					value  = var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:singapore_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to singapore_dollar_suply
				set_variable = {
					name = singapore_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:singapore_dollar_quantity
							multiply = var:singapore_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_singapore_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_singapore_dollar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:singapore_dollar_order >= 5
			}
			set_variable = {
				name = singapore_dollar_order
				#Player country quantity of singapore_dollar buy
				value  = 0
			}
		}
	}
}
sell_singapore_dollar_market_panel = {
	is_shown = {
		var:singapore_dollar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = singapore_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:singapore_dollar_order = 1
				var:singapore_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_1 #Player country quantity of singapore_dollar sell
					value  = scope:player_country.var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = singapore_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:singapore_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_1 #Player country quantity of singapore_dollar sell
					value  = var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:singapore_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to singapore_dollar_suply
				set_variable = {
					name = singapore_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:singapore_dollar_quantity
							multiply = var:singapore_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_singapore_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_singapore_dollar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:singapore_dollar_order = 2
				var:singapore_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_2 #Player country quantity of singapore_dollar sell
					value  = scope:player_country.var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = singapore_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:singapore_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_2 #Player country quantity of singapore_dollar sell
					value  = var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:singapore_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to singapore_dollar_suply
				set_variable = {
					name = singapore_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:singapore_dollar_quantity
							multiply = var:singapore_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_singapore_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_singapore_dollar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:singapore_dollar_order = 3
				var:singapore_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_3 #Player country quantity of singapore_dollar sell
					value  = scope:player_country.var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = singapore_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:singapore_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_3 #Player country quantity of singapore_dollar sell
					value  = var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:singapore_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to singapore_dollar_suply
				set_variable = {
					name = singapore_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:singapore_dollar_quantity
							multiply = var:singapore_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_singapore_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_singapore_dollar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:singapore_dollar_order = 4
				var:singapore_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_4 #Player country quantity of singapore_dollar sell
					value  = scope:player_country.var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = singapore_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:singapore_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_4 #Player country quantity of singapore_dollar sell
					value  = var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:singapore_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to singapore_dollar_suply
				set_variable = {
					name = singapore_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:singapore_dollar_quantity
							multiply = var:singapore_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_singapore_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_singapore_dollar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:singapore_dollar_order = 5
				var:singapore_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_5 #Player country quantity of singapore_dollar sell
					value  = scope:player_country.var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = singapore_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:singapore_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = singapore_dollar_sell_5 #Player country quantity of singapore_dollar sell
					value  = var:singapore_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = singapore_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:singapore_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to singapore_dollar_suply
				set_variable = {
					name = singapore_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:singapore_dollar_quantity
							multiply = var:singapore_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_singapore_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_singapore_dollar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:singapore_dollar_order >= 5
			}
			set_variable = {
				name = singapore_dollar_order
				#Player country quantity of singapore_dollar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_singapore_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:singapore_dollar_quantity < stockpiling_singapore_dollar_state
		player.central_bank_gold_reserves_state > buy_singapore_dollar_in_gold_market_panel
	}
}
sell_singapore_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:singapore_dollar_quantity < player.stockpiling_singapore_dollar_state
		central_bank_gold_reserves_state > sell_singapore_dollar_in_gold_market_panel
	}
}
singapore_dollar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_singapore_dollar_state_1
					add = scope:player_country.var:singapore_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:singapore_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_singapore_dollar_state_1
						subtract = owner.var:singapore_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:singapore_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
singapore_dollar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_singapore_dollar_state_1
					subtract = scope:player_country.var:singapore_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:singapore_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_singapore_dollar_state_1
						add = owner.var:singapore_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:singapore_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#slovak_koruna
slovak_koruna_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = slovak_koruna_quantity
				#var:slovak_koruna_quantity < market.owner.stockpiling_slovak_koruna_state
				var:slovak_koruna_quantity < sell_limit_currency_var_rest
				var:slovak_koruna_quantity < 20000000
			}
			change_variable = {
				name = slovak_koruna_quantity
				add = 5000000
			}
		}
	}
}
slovak_koruna_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = slovak_koruna_quantity
				var:slovak_koruna_quantity > 5000000
			}
			change_variable = {
				name = slovak_koruna_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_slovak_koruna_market_panel_enabled = {
	is_valid = {
		stockpiling_slovak_koruna_state > player.var:slovak_koruna_quantity

		money_supply_verification_slovak_koruna < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:slovak_koruna_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_slovak_koruna_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_slovak_koruna_market_panel_enabled = {
	is_valid = {
		stockpiling_slovak_koruna_state > player.var:slovak_koruna_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_slovak_koruna_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_slovak_koruna_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_slovak_koruna_market_panel_verification_current = 1

	}
}
buy_slovak_koruna_market_panel = {
	is_shown = {
		var:slovak_koruna_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = slovak_koruna_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:slovak_koruna_order = 1
				var:slovak_koruna_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_1 #Player country quantity of slovak_koruna buy
					value  = scope:player_country.var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = slovak_koruna_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:slovak_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_buy_1 #Player country quantity of slovak_koruna buy
					value  = var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_1
					value = scope:target.var:slovak_koruna_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to slovak_koruna_suply
				set_variable = {
					name = slovak_koruna_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:slovak_koruna_quantity
							multiply = var:slovak_koruna_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_slovak_koruna_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_slovak_koruna_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:slovak_koruna_order = 2
				var:slovak_koruna_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_2 #Player country quantity of slovak_koruna buy
					value  = scope:player_country.var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = slovak_koruna_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:slovak_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_buy_2 #Player country quantity of slovak_koruna buy
					value  = var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_2
					value = scope:target.var:slovak_koruna_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to slovak_koruna_suply
				set_variable = {
					name = slovak_koruna_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:slovak_koruna_quantity
							multiply = var:slovak_koruna_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_slovak_koruna_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_slovak_koruna_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:slovak_koruna_order = 3
				var:slovak_koruna_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_3 #Player country quantity of slovak_koruna buy
					value  = scope:player_country.var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = slovak_koruna_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:slovak_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_buy_3 #Player country quantity of slovak_koruna buy
					value  = var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_3
					value = scope:target.var:slovak_koruna_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to slovak_koruna_suply
				set_variable = {
					name = slovak_koruna_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:slovak_koruna_quantity
							multiply = var:slovak_koruna_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_slovak_koruna_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_slovak_koruna_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:slovak_koruna_order = 4
				var:slovak_koruna_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_4 #Player country quantity of slovak_koruna buy
					value  = scope:player_country.var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = slovak_koruna_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:slovak_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_buy_4 #Player country quantity of slovak_koruna buy
					value  = var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_4
					value = scope:target.var:slovak_koruna_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to slovak_koruna_suply
				set_variable = {
					name = slovak_koruna_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:slovak_koruna_quantity
							multiply = var:slovak_koruna_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_slovak_koruna_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_slovak_koruna_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:slovak_koruna_order = 5
				var:slovak_koruna_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_5 #Player country quantity of slovak_koruna buy
					value  = scope:player_country.var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = slovak_koruna_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:slovak_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_buy_5 #Player country quantity of slovak_koruna buy
					value  = var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_5
					value = scope:target.var:slovak_koruna_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to slovak_koruna_suply
				set_variable = {
					name = slovak_koruna_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:slovak_koruna_quantity
							multiply = var:slovak_koruna_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_slovak_koruna_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_slovak_koruna_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:slovak_koruna_order >= 5
			}
			set_variable = {
				name = slovak_koruna_order
				#Player country quantity of slovak_koruna buy
				value  = 0
			}
		}
	}
}
sell_slovak_koruna_market_panel = {
	is_shown = {
		var:slovak_koruna_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = slovak_koruna_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:slovak_koruna_order = 1
				var:slovak_koruna_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_1 #Player country quantity of slovak_koruna sell
					value  = scope:player_country.var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = slovak_koruna_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:slovak_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_1 #Player country quantity of slovak_koruna sell
					value  = var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_1
					value = scope:target.var:slovak_koruna_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to slovak_koruna_suply
				set_variable = {
					name = slovak_koruna_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:slovak_koruna_quantity
							multiply = var:slovak_koruna_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_slovak_koruna_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_slovak_koruna_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:slovak_koruna_order = 2
				var:slovak_koruna_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_2 #Player country quantity of slovak_koruna sell
					value  = scope:player_country.var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = slovak_koruna_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:slovak_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_2 #Player country quantity of slovak_koruna sell
					value  = var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_2
					value = scope:target.var:slovak_koruna_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to slovak_koruna_suply
				set_variable = {
					name = slovak_koruna_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:slovak_koruna_quantity
							multiply = var:slovak_koruna_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_slovak_koruna_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_slovak_koruna_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:slovak_koruna_order = 3
				var:slovak_koruna_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_3 #Player country quantity of slovak_koruna sell
					value  = scope:player_country.var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = slovak_koruna_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:slovak_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_3 #Player country quantity of slovak_koruna sell
					value  = var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_3
					value = scope:target.var:slovak_koruna_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to slovak_koruna_suply
				set_variable = {
					name = slovak_koruna_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:slovak_koruna_quantity
							multiply = var:slovak_koruna_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_slovak_koruna_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_slovak_koruna_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:slovak_koruna_order = 4
				var:slovak_koruna_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_4 #Player country quantity of slovak_koruna sell
					value  = scope:player_country.var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = slovak_koruna_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:slovak_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_4 #Player country quantity of slovak_koruna sell
					value  = var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_4
					value = scope:target.var:slovak_koruna_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to slovak_koruna_suply
				set_variable = {
					name = slovak_koruna_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:slovak_koruna_quantity
							multiply = var:slovak_koruna_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_slovak_koruna_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_slovak_koruna_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:slovak_koruna_order = 5
				var:slovak_koruna_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_5 #Player country quantity of slovak_koruna sell
					value  = scope:player_country.var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = slovak_koruna_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:slovak_koruna_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = slovak_koruna_sell_5 #Player country quantity of slovak_koruna sell
					value  = var:slovak_koruna_quantity
				}

				#exchange rate
				set_variable = {
					name = slovak_koruna_to_player_currency_exchange_rate_5
					value = scope:target.var:slovak_koruna_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to slovak_koruna_suply
				set_variable = {
					name = slovak_koruna_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:slovak_koruna_quantity
							multiply = var:slovak_koruna_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_slovak_koruna_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_slovak_koruna_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:slovak_koruna_order >= 5
			}
			set_variable = {
				name = slovak_koruna_order
				#Player country quantity of slovak_koruna sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_slovak_koruna_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:slovak_koruna_quantity < stockpiling_slovak_koruna_state
		player.central_bank_gold_reserves_state > buy_slovak_koruna_in_gold_market_panel
	}
}
sell_slovak_koruna_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:slovak_koruna_quantity < player.stockpiling_slovak_koruna_state
		central_bank_gold_reserves_state > sell_slovak_koruna_in_gold_market_panel
	}
}
slovak_koruna_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_slovak_koruna_state_1
					add = scope:player_country.var:slovak_koruna_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:slovak_koruna_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_slovak_koruna_state_1
						subtract = owner.var:slovak_koruna_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:slovak_koruna_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
slovak_koruna_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_slovak_koruna_state_1
					subtract = scope:player_country.var:slovak_koruna_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:slovak_koruna_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_slovak_koruna_state_1
						add = owner.var:slovak_koruna_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:slovak_koruna_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#sol_de_oro
sol_de_oro_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = sol_de_oro_quantity
				#var:sol_de_oro_quantity < market.owner.stockpiling_sol_de_oro_state
				var:sol_de_oro_quantity < sell_limit_currency_var_rest
				var:sol_de_oro_quantity < 20000000
			}
			change_variable = {
				name = sol_de_oro_quantity
				add = 5000000
			}
		}
	}
}
sol_de_oro_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = sol_de_oro_quantity
				var:sol_de_oro_quantity > 5000000
			}
			change_variable = {
				name = sol_de_oro_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_sol_de_oro_market_panel_enabled = {
	is_valid = {
		stockpiling_sol_de_oro_state > player.var:sol_de_oro_quantity

		money_supply_verification_sol_de_oro < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:sol_de_oro_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_sol_de_oro_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_sol_de_oro_market_panel_enabled = {
	is_valid = {
		stockpiling_sol_de_oro_state > player.var:sol_de_oro_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_sol_de_oro_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_sol_de_oro_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_sol_de_oro_market_panel_verification_current = 1

	}
}
buy_sol_de_oro_market_panel = {
	is_shown = {
		var:sol_de_oro_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = sol_de_oro_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:sol_de_oro_order = 1
				var:sol_de_oro_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_1 #Player country quantity of sol_de_oro buy
					value  = scope:player_country.var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = sol_de_oro_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sol_de_oro_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_buy_1 #Player country quantity of sol_de_oro buy
					value  = var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_1
					value = scope:target.var:sol_de_oro_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to sol_de_oro_suply
				set_variable = {
					name = sol_de_oro_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sol_de_oro_quantity
							multiply = var:sol_de_oro_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_sol_de_oro_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sol_de_oro_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:sol_de_oro_order = 2
				var:sol_de_oro_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_2 #Player country quantity of sol_de_oro buy
					value  = scope:player_country.var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = sol_de_oro_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sol_de_oro_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_buy_2 #Player country quantity of sol_de_oro buy
					value  = var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_2
					value = scope:target.var:sol_de_oro_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to sol_de_oro_suply
				set_variable = {
					name = sol_de_oro_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sol_de_oro_quantity
							multiply = var:sol_de_oro_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_sol_de_oro_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sol_de_oro_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:sol_de_oro_order = 3
				var:sol_de_oro_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_3 #Player country quantity of sol_de_oro buy
					value  = scope:player_country.var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = sol_de_oro_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sol_de_oro_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_buy_3 #Player country quantity of sol_de_oro buy
					value  = var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_3
					value = scope:target.var:sol_de_oro_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to sol_de_oro_suply
				set_variable = {
					name = sol_de_oro_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sol_de_oro_quantity
							multiply = var:sol_de_oro_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_sol_de_oro_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sol_de_oro_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:sol_de_oro_order = 4
				var:sol_de_oro_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_4 #Player country quantity of sol_de_oro buy
					value  = scope:player_country.var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = sol_de_oro_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sol_de_oro_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_buy_4 #Player country quantity of sol_de_oro buy
					value  = var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_4
					value = scope:target.var:sol_de_oro_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to sol_de_oro_suply
				set_variable = {
					name = sol_de_oro_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sol_de_oro_quantity
							multiply = var:sol_de_oro_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_sol_de_oro_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sol_de_oro_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:sol_de_oro_order = 5
				var:sol_de_oro_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_5 #Player country quantity of sol_de_oro buy
					value  = scope:player_country.var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = sol_de_oro_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sol_de_oro_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_buy_5 #Player country quantity of sol_de_oro buy
					value  = var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_5
					value = scope:target.var:sol_de_oro_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to sol_de_oro_suply
				set_variable = {
					name = sol_de_oro_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sol_de_oro_quantity
							multiply = var:sol_de_oro_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_sol_de_oro_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sol_de_oro_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:sol_de_oro_order >= 5
			}
			set_variable = {
				name = sol_de_oro_order
				#Player country quantity of sol_de_oro buy
				value  = 0
			}
		}
	}
}
sell_sol_de_oro_market_panel = {
	is_shown = {
		var:sol_de_oro_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = sol_de_oro_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:sol_de_oro_order = 1
				var:sol_de_oro_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_1 #Player country quantity of sol_de_oro sell
					value  = scope:player_country.var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = sol_de_oro_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sol_de_oro_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_1 #Player country quantity of sol_de_oro sell
					value  = var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_1
					value = scope:target.var:sol_de_oro_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to sol_de_oro_suply
				set_variable = {
					name = sol_de_oro_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sol_de_oro_quantity
							multiply = var:sol_de_oro_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_sol_de_oro_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sol_de_oro_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:sol_de_oro_order = 2
				var:sol_de_oro_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_2 #Player country quantity of sol_de_oro sell
					value  = scope:player_country.var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = sol_de_oro_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sol_de_oro_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_2 #Player country quantity of sol_de_oro sell
					value  = var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_2
					value = scope:target.var:sol_de_oro_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to sol_de_oro_suply
				set_variable = {
					name = sol_de_oro_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sol_de_oro_quantity
							multiply = var:sol_de_oro_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_sol_de_oro_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sol_de_oro_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:sol_de_oro_order = 3
				var:sol_de_oro_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_3 #Player country quantity of sol_de_oro sell
					value  = scope:player_country.var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = sol_de_oro_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sol_de_oro_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_3 #Player country quantity of sol_de_oro sell
					value  = var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_3
					value = scope:target.var:sol_de_oro_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to sol_de_oro_suply
				set_variable = {
					name = sol_de_oro_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sol_de_oro_quantity
							multiply = var:sol_de_oro_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_sol_de_oro_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sol_de_oro_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:sol_de_oro_order = 4
				var:sol_de_oro_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_4 #Player country quantity of sol_de_oro sell
					value  = scope:player_country.var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = sol_de_oro_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sol_de_oro_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_4 #Player country quantity of sol_de_oro sell
					value  = var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_4
					value = scope:target.var:sol_de_oro_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to sol_de_oro_suply
				set_variable = {
					name = sol_de_oro_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sol_de_oro_quantity
							multiply = var:sol_de_oro_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_sol_de_oro_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sol_de_oro_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:sol_de_oro_order = 5
				var:sol_de_oro_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_5 #Player country quantity of sol_de_oro sell
					value  = scope:player_country.var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = sol_de_oro_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sol_de_oro_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sol_de_oro_sell_5 #Player country quantity of sol_de_oro sell
					value  = var:sol_de_oro_quantity
				}

				#exchange rate
				set_variable = {
					name = sol_de_oro_to_player_currency_exchange_rate_5
					value = scope:target.var:sol_de_oro_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to sol_de_oro_suply
				set_variable = {
					name = sol_de_oro_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sol_de_oro_quantity
							multiply = var:sol_de_oro_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_sol_de_oro_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sol_de_oro_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:sol_de_oro_order >= 5
			}
			set_variable = {
				name = sol_de_oro_order
				#Player country quantity of sol_de_oro sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_sol_de_oro_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:sol_de_oro_quantity < stockpiling_sol_de_oro_state
		player.central_bank_gold_reserves_state > buy_sol_de_oro_in_gold_market_panel
	}
}
sell_sol_de_oro_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:sol_de_oro_quantity < player.stockpiling_sol_de_oro_state
		central_bank_gold_reserves_state > sell_sol_de_oro_in_gold_market_panel
	}
}
sol_de_oro_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_sol_de_oro_state_1
					add = scope:player_country.var:sol_de_oro_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:sol_de_oro_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_sol_de_oro_state_1
						subtract = owner.var:sol_de_oro_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:sol_de_oro_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
sol_de_oro_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_sol_de_oro_state_1
					subtract = scope:player_country.var:sol_de_oro_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:sol_de_oro_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_sol_de_oro_state_1
						add = owner.var:sol_de_oro_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:sol_de_oro_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#south_african_rand
south_african_rand_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = south_african_rand_quantity
				#var:south_african_rand_quantity < market.owner.stockpiling_south_african_rand_state
				var:south_african_rand_quantity < sell_limit_currency_var_rest
				var:south_african_rand_quantity < 20000000
			}
			change_variable = {
				name = south_african_rand_quantity
				add = 5000000
			}
		}
	}
}
south_african_rand_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = south_african_rand_quantity
				var:south_african_rand_quantity > 5000000
			}
			change_variable = {
				name = south_african_rand_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_south_african_rand_market_panel_enabled = {
	is_valid = {
		stockpiling_south_african_rand_state > player.var:south_african_rand_quantity

		money_supply_verification_south_african_rand < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:south_african_rand_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_south_african_rand_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_south_african_rand_market_panel_enabled = {
	is_valid = {
		stockpiling_south_african_rand_state > player.var:south_african_rand_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_south_african_rand_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_south_african_rand_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_south_african_rand_market_panel_verification_current = 1

	}
}
buy_south_african_rand_market_panel = {
	is_shown = {
		var:south_african_rand_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = south_african_rand_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:south_african_rand_order = 1
				var:south_african_rand_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_1 #Player country quantity of south_african_rand buy
					value  = scope:player_country.var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_african_rand_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_african_rand_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_buy_1 #Player country quantity of south_african_rand buy
					value  = var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_1
					value = scope:target.var:south_african_rand_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to south_african_rand_suply
				set_variable = {
					name = south_african_rand_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_african_rand_quantity
							multiply = var:south_african_rand_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_south_african_rand_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_african_rand_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:south_african_rand_order = 2
				var:south_african_rand_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_2 #Player country quantity of south_african_rand buy
					value  = scope:player_country.var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_african_rand_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_african_rand_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_buy_2 #Player country quantity of south_african_rand buy
					value  = var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_2
					value = scope:target.var:south_african_rand_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to south_african_rand_suply
				set_variable = {
					name = south_african_rand_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_african_rand_quantity
							multiply = var:south_african_rand_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_south_african_rand_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_african_rand_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:south_african_rand_order = 3
				var:south_african_rand_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_3 #Player country quantity of south_african_rand buy
					value  = scope:player_country.var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_african_rand_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_african_rand_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_buy_3 #Player country quantity of south_african_rand buy
					value  = var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_3
					value = scope:target.var:south_african_rand_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to south_african_rand_suply
				set_variable = {
					name = south_african_rand_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_african_rand_quantity
							multiply = var:south_african_rand_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_south_african_rand_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_african_rand_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:south_african_rand_order = 4
				var:south_african_rand_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_4 #Player country quantity of south_african_rand buy
					value  = scope:player_country.var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_african_rand_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_african_rand_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_buy_4 #Player country quantity of south_african_rand buy
					value  = var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_4
					value = scope:target.var:south_african_rand_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to south_african_rand_suply
				set_variable = {
					name = south_african_rand_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_african_rand_quantity
							multiply = var:south_african_rand_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_south_african_rand_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_african_rand_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:south_african_rand_order = 5
				var:south_african_rand_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_5 #Player country quantity of south_african_rand buy
					value  = scope:player_country.var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_african_rand_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_african_rand_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_buy_5 #Player country quantity of south_african_rand buy
					value  = var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_5
					value = scope:target.var:south_african_rand_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to south_african_rand_suply
				set_variable = {
					name = south_african_rand_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_african_rand_quantity
							multiply = var:south_african_rand_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_south_african_rand_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_african_rand_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:south_african_rand_order >= 5
			}
			set_variable = {
				name = south_african_rand_order
				#Player country quantity of south_african_rand buy
				value  = 0
			}
		}
	}
}
sell_south_african_rand_market_panel = {
	is_shown = {
		var:south_african_rand_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = south_african_rand_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:south_african_rand_order = 1
				var:south_african_rand_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_1 #Player country quantity of south_african_rand sell
					value  = scope:player_country.var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_african_rand_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_african_rand_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_1 #Player country quantity of south_african_rand sell
					value  = var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_1
					value = scope:target.var:south_african_rand_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to south_african_rand_suply
				set_variable = {
					name = south_african_rand_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_african_rand_quantity
							multiply = var:south_african_rand_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_south_african_rand_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_african_rand_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:south_african_rand_order = 2
				var:south_african_rand_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_2 #Player country quantity of south_african_rand sell
					value  = scope:player_country.var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_african_rand_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_african_rand_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_2 #Player country quantity of south_african_rand sell
					value  = var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_2
					value = scope:target.var:south_african_rand_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to south_african_rand_suply
				set_variable = {
					name = south_african_rand_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_african_rand_quantity
							multiply = var:south_african_rand_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_south_african_rand_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_african_rand_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:south_african_rand_order = 3
				var:south_african_rand_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_3 #Player country quantity of south_african_rand sell
					value  = scope:player_country.var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_african_rand_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_african_rand_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_3 #Player country quantity of south_african_rand sell
					value  = var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_3
					value = scope:target.var:south_african_rand_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to south_african_rand_suply
				set_variable = {
					name = south_african_rand_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_african_rand_quantity
							multiply = var:south_african_rand_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_south_african_rand_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_african_rand_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:south_african_rand_order = 4
				var:south_african_rand_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_4 #Player country quantity of south_african_rand sell
					value  = scope:player_country.var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_african_rand_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_african_rand_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_4 #Player country quantity of south_african_rand sell
					value  = var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_4
					value = scope:target.var:south_african_rand_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to south_african_rand_suply
				set_variable = {
					name = south_african_rand_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_african_rand_quantity
							multiply = var:south_african_rand_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_south_african_rand_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_african_rand_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:south_african_rand_order = 5
				var:south_african_rand_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_5 #Player country quantity of south_african_rand sell
					value  = scope:player_country.var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = south_african_rand_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:south_african_rand_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = south_african_rand_sell_5 #Player country quantity of south_african_rand sell
					value  = var:south_african_rand_quantity
				}

				#exchange rate
				set_variable = {
					name = south_african_rand_to_player_currency_exchange_rate_5
					value = scope:target.var:south_african_rand_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to south_african_rand_suply
				set_variable = {
					name = south_african_rand_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:south_african_rand_quantity
							multiply = var:south_african_rand_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_south_african_rand_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_south_african_rand_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:south_african_rand_order >= 5
			}
			set_variable = {
				name = south_african_rand_order
				#Player country quantity of south_african_rand sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_south_african_rand_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:south_african_rand_quantity < stockpiling_south_african_rand_state
		player.central_bank_gold_reserves_state > buy_south_african_rand_in_gold_market_panel
	}
}
sell_south_african_rand_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:south_african_rand_quantity < player.stockpiling_south_african_rand_state
		central_bank_gold_reserves_state > sell_south_african_rand_in_gold_market_panel
	}
}
south_african_rand_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_south_african_rand_state_1
					add = scope:player_country.var:south_african_rand_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:south_african_rand_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_south_african_rand_state_1
						subtract = owner.var:south_african_rand_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:south_african_rand_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
south_african_rand_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_south_african_rand_state_1
					subtract = scope:player_country.var:south_african_rand_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:south_african_rand_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_south_african_rand_state_1
						add = owner.var:south_african_rand_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:south_african_rand_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#swedish_krona
swedish_krona_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = swedish_krona_quantity
				#var:swedish_krona_quantity < market.owner.stockpiling_swedish_krona_state
				var:swedish_krona_quantity < sell_limit_currency_var_rest
				var:swedish_krona_quantity < 20000000
			}
			change_variable = {
				name = swedish_krona_quantity
				add = 5000000
			}
		}
	}
}
swedish_krona_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = swedish_krona_quantity
				var:swedish_krona_quantity > 5000000
			}
			change_variable = {
				name = swedish_krona_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_swedish_krona_market_panel_enabled = {
	is_valid = {
		stockpiling_swedish_krona_state > player.var:swedish_krona_quantity

		money_supply_verification_swedish_krona < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:swedish_krona_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_swedish_krona_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_swedish_krona_market_panel_enabled = {
	is_valid = {
		stockpiling_swedish_krona_state > player.var:swedish_krona_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_swedish_krona_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_swedish_krona_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_swedish_krona_market_panel_verification_current = 1

	}
}
buy_swedish_krona_market_panel = {
	is_shown = {
		var:swedish_krona_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = swedish_krona_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:swedish_krona_order = 1
				var:swedish_krona_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_1 #Player country quantity of swedish_krona buy
					value  = scope:player_country.var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swedish_krona_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swedish_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_buy_1 #Player country quantity of swedish_krona buy
					value  = var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_1
					value = scope:target.var:swedish_krona_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to swedish_krona_suply
				set_variable = {
					name = swedish_krona_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swedish_krona_quantity
							multiply = var:swedish_krona_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_swedish_krona_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swedish_krona_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:swedish_krona_order = 2
				var:swedish_krona_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_2 #Player country quantity of swedish_krona buy
					value  = scope:player_country.var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swedish_krona_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swedish_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_buy_2 #Player country quantity of swedish_krona buy
					value  = var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_2
					value = scope:target.var:swedish_krona_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to swedish_krona_suply
				set_variable = {
					name = swedish_krona_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swedish_krona_quantity
							multiply = var:swedish_krona_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_swedish_krona_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swedish_krona_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:swedish_krona_order = 3
				var:swedish_krona_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_3 #Player country quantity of swedish_krona buy
					value  = scope:player_country.var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swedish_krona_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swedish_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_buy_3 #Player country quantity of swedish_krona buy
					value  = var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_3
					value = scope:target.var:swedish_krona_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to swedish_krona_suply
				set_variable = {
					name = swedish_krona_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swedish_krona_quantity
							multiply = var:swedish_krona_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_swedish_krona_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swedish_krona_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:swedish_krona_order = 4
				var:swedish_krona_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_4 #Player country quantity of swedish_krona buy
					value  = scope:player_country.var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swedish_krona_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swedish_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_buy_4 #Player country quantity of swedish_krona buy
					value  = var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_4
					value = scope:target.var:swedish_krona_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to swedish_krona_suply
				set_variable = {
					name = swedish_krona_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swedish_krona_quantity
							multiply = var:swedish_krona_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_swedish_krona_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swedish_krona_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:swedish_krona_order = 5
				var:swedish_krona_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_5 #Player country quantity of swedish_krona buy
					value  = scope:player_country.var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swedish_krona_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swedish_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_buy_5 #Player country quantity of swedish_krona buy
					value  = var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_5
					value = scope:target.var:swedish_krona_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to swedish_krona_suply
				set_variable = {
					name = swedish_krona_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swedish_krona_quantity
							multiply = var:swedish_krona_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_swedish_krona_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swedish_krona_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:swedish_krona_order >= 5
			}
			set_variable = {
				name = swedish_krona_order
				#Player country quantity of swedish_krona buy
				value  = 0
			}
		}
	}
}
sell_swedish_krona_market_panel = {
	is_shown = {
		var:swedish_krona_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = swedish_krona_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:swedish_krona_order = 1
				var:swedish_krona_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_1 #Player country quantity of swedish_krona sell
					value  = scope:player_country.var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swedish_krona_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swedish_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_1 #Player country quantity of swedish_krona sell
					value  = var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_1
					value = scope:target.var:swedish_krona_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to swedish_krona_suply
				set_variable = {
					name = swedish_krona_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swedish_krona_quantity
							multiply = var:swedish_krona_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_swedish_krona_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swedish_krona_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:swedish_krona_order = 2
				var:swedish_krona_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_2 #Player country quantity of swedish_krona sell
					value  = scope:player_country.var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swedish_krona_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swedish_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_2 #Player country quantity of swedish_krona sell
					value  = var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_2
					value = scope:target.var:swedish_krona_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to swedish_krona_suply
				set_variable = {
					name = swedish_krona_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swedish_krona_quantity
							multiply = var:swedish_krona_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_swedish_krona_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swedish_krona_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:swedish_krona_order = 3
				var:swedish_krona_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_3 #Player country quantity of swedish_krona sell
					value  = scope:player_country.var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swedish_krona_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swedish_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_3 #Player country quantity of swedish_krona sell
					value  = var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_3
					value = scope:target.var:swedish_krona_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to swedish_krona_suply
				set_variable = {
					name = swedish_krona_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swedish_krona_quantity
							multiply = var:swedish_krona_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_swedish_krona_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swedish_krona_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:swedish_krona_order = 4
				var:swedish_krona_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_4 #Player country quantity of swedish_krona sell
					value  = scope:player_country.var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swedish_krona_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swedish_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_4 #Player country quantity of swedish_krona sell
					value  = var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_4
					value = scope:target.var:swedish_krona_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to swedish_krona_suply
				set_variable = {
					name = swedish_krona_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swedish_krona_quantity
							multiply = var:swedish_krona_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_swedish_krona_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swedish_krona_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:swedish_krona_order = 5
				var:swedish_krona_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_5 #Player country quantity of swedish_krona sell
					value  = scope:player_country.var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swedish_krona_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swedish_krona_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swedish_krona_sell_5 #Player country quantity of swedish_krona sell
					value  = var:swedish_krona_quantity
				}

				#exchange rate
				set_variable = {
					name = swedish_krona_to_player_currency_exchange_rate_5
					value = scope:target.var:swedish_krona_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to swedish_krona_suply
				set_variable = {
					name = swedish_krona_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swedish_krona_quantity
							multiply = var:swedish_krona_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_swedish_krona_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swedish_krona_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:swedish_krona_order >= 5
			}
			set_variable = {
				name = swedish_krona_order
				#Player country quantity of swedish_krona sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_swedish_krona_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:swedish_krona_quantity < stockpiling_swedish_krona_state
		player.central_bank_gold_reserves_state > buy_swedish_krona_in_gold_market_panel
	}
}
sell_swedish_krona_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:swedish_krona_quantity < player.stockpiling_swedish_krona_state
		central_bank_gold_reserves_state > sell_swedish_krona_in_gold_market_panel
	}
}
swedish_krona_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_swedish_krona_state_1
					add = scope:player_country.var:swedish_krona_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:swedish_krona_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_swedish_krona_state_1
						subtract = owner.var:swedish_krona_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:swedish_krona_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
swedish_krona_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_swedish_krona_state_1
					subtract = scope:player_country.var:swedish_krona_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:swedish_krona_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_swedish_krona_state_1
						add = owner.var:swedish_krona_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:swedish_krona_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#swiss_franc
swiss_franc_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = swiss_franc_quantity
				#var:swiss_franc_quantity < market.owner.stockpiling_swiss_franc_state
				var:swiss_franc_quantity < sell_limit_currency_var_rest
				var:swiss_franc_quantity < 20000000
			}
			change_variable = {
				name = swiss_franc_quantity
				add = 5000000
			}
		}
	}
}
swiss_franc_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = swiss_franc_quantity
				var:swiss_franc_quantity > 5000000
			}
			change_variable = {
				name = swiss_franc_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_swiss_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_swiss_franc_state > player.var:swiss_franc_quantity

		money_supply_verification_swiss_franc < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:swiss_franc_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_swiss_franc_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_swiss_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_swiss_franc_state > player.var:swiss_franc_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_swiss_franc_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_swiss_franc_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_swiss_franc_market_panel_verification_current = 1

	}
}
buy_swiss_franc_market_panel = {
	is_shown = {
		var:swiss_franc_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = swiss_franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:swiss_franc_order = 1
				var:swiss_franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_1 #Player country quantity of swiss_franc buy
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_buy_1 #Player country quantity of swiss_franc buy
					value  = var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_1
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to swiss_franc_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_swiss_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:swiss_franc_order = 2
				var:swiss_franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_2 #Player country quantity of swiss_franc buy
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_buy_2 #Player country quantity of swiss_franc buy
					value  = var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_2
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to swiss_franc_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_swiss_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:swiss_franc_order = 3
				var:swiss_franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_3 #Player country quantity of swiss_franc buy
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_buy_3 #Player country quantity of swiss_franc buy
					value  = var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_3
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to swiss_franc_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_swiss_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:swiss_franc_order = 4
				var:swiss_franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_4 #Player country quantity of swiss_franc buy
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_buy_4 #Player country quantity of swiss_franc buy
					value  = var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_4
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to swiss_franc_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_swiss_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:swiss_franc_order = 5
				var:swiss_franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_5 #Player country quantity of swiss_franc buy
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_buy_5 #Player country quantity of swiss_franc buy
					value  = var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_5
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to swiss_franc_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_swiss_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:swiss_franc_order >= 5
			}
			set_variable = {
				name = swiss_franc_order
				#Player country quantity of swiss_franc buy
				value  = 0
			}
		}
	}
}
sell_swiss_franc_market_panel = {
	is_shown = {
		var:swiss_franc_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = swiss_franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:swiss_franc_order = 1
				var:swiss_franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_1 #Player country quantity of swiss_franc sell
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_1 #Player country quantity of swiss_franc sell
					value  = var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_1
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to swiss_franc_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_swiss_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:swiss_franc_order = 2
				var:swiss_franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_2 #Player country quantity of swiss_franc sell
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_2 #Player country quantity of swiss_franc sell
					value  = var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_2
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to swiss_franc_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_swiss_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:swiss_franc_order = 3
				var:swiss_franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_3 #Player country quantity of swiss_franc sell
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_3 #Player country quantity of swiss_franc sell
					value  = var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_3
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to swiss_franc_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_swiss_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:swiss_franc_order = 4
				var:swiss_franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_4 #Player country quantity of swiss_franc sell
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_4 #Player country quantity of swiss_franc sell
					value  = var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_4
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to swiss_franc_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_swiss_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:swiss_franc_order = 5
				var:swiss_franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_5 #Player country quantity of swiss_franc sell
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_5 #Player country quantity of swiss_franc sell
					value  = var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_5
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to swiss_franc_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_swiss_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:swiss_franc_order >= 5
			}
			set_variable = {
				name = swiss_franc_order
				#Player country quantity of swiss_franc sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_swiss_franc_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:swiss_franc_quantity < stockpiling_swiss_franc_state
		player.central_bank_gold_reserves_state > buy_swiss_franc_in_gold_market_panel
	}
}
sell_swiss_franc_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:swiss_franc_quantity < player.stockpiling_swiss_franc_state
		central_bank_gold_reserves_state > sell_swiss_franc_in_gold_market_panel
	}
}
swiss_franc_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_swiss_franc_state_1
					add = scope:player_country.var:swiss_franc_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:swiss_franc_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_swiss_franc_state_1
						subtract = owner.var:swiss_franc_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:swiss_franc_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
swiss_franc_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_swiss_franc_state_1
					subtract = scope:player_country.var:swiss_franc_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:swiss_franc_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_swiss_franc_state_1
						add = owner.var:swiss_franc_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:swiss_franc_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#tical
tical_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = tical_quantity
				#var:tical_quantity < market.owner.stockpiling_tical_state
				var:tical_quantity < sell_limit_currency_var_rest
				var:tical_quantity < 20000000
			}
			change_variable = {
				name = tical_quantity
				add = 5000000
			}
		}
	}
}
tical_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = tical_quantity
				var:tical_quantity > 5000000
			}
			change_variable = {
				name = tical_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_tical_market_panel_enabled = {
	is_valid = {
		stockpiling_tical_state > player.var:tical_quantity

		money_supply_verification_tical < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:tical_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_tical_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_tical_market_panel_enabled = {
	is_valid = {
		stockpiling_tical_state > player.var:tical_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_tical_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_tical_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_tical_market_panel_verification_current = 1

	}
}
buy_tical_market_panel = {
	is_shown = {
		var:tical_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = tical_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:tical_order = 1
				var:tical_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_1 #Player country quantity of tical buy
					value  = scope:player_country.var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tical_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tical_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tical_buy_1 #Player country quantity of tical buy
					value  = var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_1
					value = scope:target.var:tical_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to tical_suply
				set_variable = {
					name = tical_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tical_quantity
							multiply = var:tical_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_tical_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tical_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:tical_order = 2
				var:tical_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_2 #Player country quantity of tical buy
					value  = scope:player_country.var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tical_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tical_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tical_buy_2 #Player country quantity of tical buy
					value  = var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_2
					value = scope:target.var:tical_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to tical_suply
				set_variable = {
					name = tical_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tical_quantity
							multiply = var:tical_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_tical_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tical_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:tical_order = 3
				var:tical_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_3 #Player country quantity of tical buy
					value  = scope:player_country.var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tical_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tical_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tical_buy_3 #Player country quantity of tical buy
					value  = var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_3
					value = scope:target.var:tical_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to tical_suply
				set_variable = {
					name = tical_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tical_quantity
							multiply = var:tical_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_tical_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tical_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:tical_order = 4
				var:tical_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_4 #Player country quantity of tical buy
					value  = scope:player_country.var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tical_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tical_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tical_buy_4 #Player country quantity of tical buy
					value  = var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_4
					value = scope:target.var:tical_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to tical_suply
				set_variable = {
					name = tical_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tical_quantity
							multiply = var:tical_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_tical_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tical_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:tical_order = 5
				var:tical_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_5 #Player country quantity of tical buy
					value  = scope:player_country.var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tical_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tical_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tical_buy_5 #Player country quantity of tical buy
					value  = var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_5
					value = scope:target.var:tical_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to tical_suply
				set_variable = {
					name = tical_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tical_quantity
							multiply = var:tical_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_tical_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tical_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:tical_order >= 5
			}
			set_variable = {
				name = tical_order
				#Player country quantity of tical buy
				value  = 0
			}
		}
	}
}
sell_tical_market_panel = {
	is_shown = {
		var:tical_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = tical_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:tical_order = 1
				var:tical_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_1 #Player country quantity of tical sell
					value  = scope:player_country.var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tical_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tical_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_1 #Player country quantity of tical sell
					value  = var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_1
					value = scope:target.var:tical_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to tical_suply
				set_variable = {
					name = tical_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tical_quantity
							multiply = var:tical_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_tical_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tical_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:tical_order = 2
				var:tical_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_2 #Player country quantity of tical sell
					value  = scope:player_country.var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tical_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tical_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_2 #Player country quantity of tical sell
					value  = var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_2
					value = scope:target.var:tical_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to tical_suply
				set_variable = {
					name = tical_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tical_quantity
							multiply = var:tical_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_tical_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tical_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:tical_order = 3
				var:tical_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_3 #Player country quantity of tical sell
					value  = scope:player_country.var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tical_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tical_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_3 #Player country quantity of tical sell
					value  = var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_3
					value = scope:target.var:tical_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to tical_suply
				set_variable = {
					name = tical_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tical_quantity
							multiply = var:tical_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_tical_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tical_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:tical_order = 4
				var:tical_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_4 #Player country quantity of tical sell
					value  = scope:player_country.var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tical_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tical_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_4 #Player country quantity of tical sell
					value  = var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_4
					value = scope:target.var:tical_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to tical_suply
				set_variable = {
					name = tical_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tical_quantity
							multiply = var:tical_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_tical_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tical_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:tical_order = 5
				var:tical_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_5 #Player country quantity of tical sell
					value  = scope:player_country.var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tical_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tical_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tical_sell_5 #Player country quantity of tical sell
					value  = var:tical_quantity
				}

				#exchange rate
				set_variable = {
					name = tical_to_player_currency_exchange_rate_5
					value = scope:target.var:tical_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to tical_suply
				set_variable = {
					name = tical_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tical_quantity
							multiply = var:tical_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_tical_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tical_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:tical_order >= 5
			}
			set_variable = {
				name = tical_order
				#Player country quantity of tical sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_tical_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:tical_quantity < stockpiling_tical_state
		player.central_bank_gold_reserves_state > buy_tical_in_gold_market_panel
	}
}
sell_tical_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:tical_quantity < player.stockpiling_tical_state
		central_bank_gold_reserves_state > sell_tical_in_gold_market_panel
	}
}
tical_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_tical_state_1
					add = scope:player_country.var:tical_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:tical_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_tical_state_1
						subtract = owner.var:tical_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:tical_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
tical_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_tical_state_1
					subtract = scope:player_country.var:tical_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:tical_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_tical_state_1
						add = owner.var:tical_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:tical_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#toscane_lira
toscane_lira_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = toscane_lira_quantity
				#var:toscane_lira_quantity < market.owner.stockpiling_toscane_lira_state
				var:toscane_lira_quantity < sell_limit_currency_var_rest
				var:toscane_lira_quantity < 20000000
			}
			change_variable = {
				name = toscane_lira_quantity
				add = 5000000
			}
		}
	}
}
toscane_lira_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = toscane_lira_quantity
				var:toscane_lira_quantity > 5000000
			}
			change_variable = {
				name = toscane_lira_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_toscane_lira_market_panel_enabled = {
	is_valid = {
		stockpiling_toscane_lira_state > player.var:toscane_lira_quantity

		money_supply_verification_toscane_lira < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:toscane_lira_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_toscane_lira_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_toscane_lira_market_panel_enabled = {
	is_valid = {
		stockpiling_toscane_lira_state > player.var:toscane_lira_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_toscane_lira_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_toscane_lira_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_toscane_lira_market_panel_verification_current = 1

	}
}
buy_toscane_lira_market_panel = {
	is_shown = {
		var:toscane_lira_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = toscane_lira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:toscane_lira_order = 1
				var:toscane_lira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_1 #Player country quantity of toscane_lira buy
					value  = scope:player_country.var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = toscane_lira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:toscane_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_buy_1 #Player country quantity of toscane_lira buy
					value  = var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_1
					value = scope:target.var:toscane_lira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to toscane_lira_suply
				set_variable = {
					name = toscane_lira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:toscane_lira_quantity
							multiply = var:toscane_lira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_toscane_lira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_toscane_lira_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:toscane_lira_order = 2
				var:toscane_lira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_2 #Player country quantity of toscane_lira buy
					value  = scope:player_country.var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = toscane_lira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:toscane_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_buy_2 #Player country quantity of toscane_lira buy
					value  = var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_2
					value = scope:target.var:toscane_lira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to toscane_lira_suply
				set_variable = {
					name = toscane_lira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:toscane_lira_quantity
							multiply = var:toscane_lira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_toscane_lira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_toscane_lira_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:toscane_lira_order = 3
				var:toscane_lira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_3 #Player country quantity of toscane_lira buy
					value  = scope:player_country.var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = toscane_lira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:toscane_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_buy_3 #Player country quantity of toscane_lira buy
					value  = var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_3
					value = scope:target.var:toscane_lira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to toscane_lira_suply
				set_variable = {
					name = toscane_lira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:toscane_lira_quantity
							multiply = var:toscane_lira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_toscane_lira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_toscane_lira_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:toscane_lira_order = 4
				var:toscane_lira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_4 #Player country quantity of toscane_lira buy
					value  = scope:player_country.var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = toscane_lira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:toscane_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_buy_4 #Player country quantity of toscane_lira buy
					value  = var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_4
					value = scope:target.var:toscane_lira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to toscane_lira_suply
				set_variable = {
					name = toscane_lira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:toscane_lira_quantity
							multiply = var:toscane_lira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_toscane_lira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_toscane_lira_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:toscane_lira_order = 5
				var:toscane_lira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_5 #Player country quantity of toscane_lira buy
					value  = scope:player_country.var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = toscane_lira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:toscane_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_buy_5 #Player country quantity of toscane_lira buy
					value  = var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_5
					value = scope:target.var:toscane_lira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to toscane_lira_suply
				set_variable = {
					name = toscane_lira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:toscane_lira_quantity
							multiply = var:toscane_lira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_toscane_lira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_toscane_lira_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:toscane_lira_order >= 5
			}
			set_variable = {
				name = toscane_lira_order
				#Player country quantity of toscane_lira buy
				value  = 0
			}
		}
	}
}
sell_toscane_lira_market_panel = {
	is_shown = {
		var:toscane_lira_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = toscane_lira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:toscane_lira_order = 1
				var:toscane_lira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_1 #Player country quantity of toscane_lira sell
					value  = scope:player_country.var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = toscane_lira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:toscane_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_1 #Player country quantity of toscane_lira sell
					value  = var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_1
					value = scope:target.var:toscane_lira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to toscane_lira_suply
				set_variable = {
					name = toscane_lira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:toscane_lira_quantity
							multiply = var:toscane_lira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_toscane_lira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_toscane_lira_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:toscane_lira_order = 2
				var:toscane_lira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_2 #Player country quantity of toscane_lira sell
					value  = scope:player_country.var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = toscane_lira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:toscane_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_2 #Player country quantity of toscane_lira sell
					value  = var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_2
					value = scope:target.var:toscane_lira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to toscane_lira_suply
				set_variable = {
					name = toscane_lira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:toscane_lira_quantity
							multiply = var:toscane_lira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_toscane_lira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_toscane_lira_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:toscane_lira_order = 3
				var:toscane_lira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_3 #Player country quantity of toscane_lira sell
					value  = scope:player_country.var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = toscane_lira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:toscane_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_3 #Player country quantity of toscane_lira sell
					value  = var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_3
					value = scope:target.var:toscane_lira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to toscane_lira_suply
				set_variable = {
					name = toscane_lira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:toscane_lira_quantity
							multiply = var:toscane_lira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_toscane_lira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_toscane_lira_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:toscane_lira_order = 4
				var:toscane_lira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_4 #Player country quantity of toscane_lira sell
					value  = scope:player_country.var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = toscane_lira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:toscane_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_4 #Player country quantity of toscane_lira sell
					value  = var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_4
					value = scope:target.var:toscane_lira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to toscane_lira_suply
				set_variable = {
					name = toscane_lira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:toscane_lira_quantity
							multiply = var:toscane_lira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_toscane_lira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_toscane_lira_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:toscane_lira_order = 5
				var:toscane_lira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_5 #Player country quantity of toscane_lira sell
					value  = scope:player_country.var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = toscane_lira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:toscane_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = toscane_lira_sell_5 #Player country quantity of toscane_lira sell
					value  = var:toscane_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = toscane_lira_to_player_currency_exchange_rate_5
					value = scope:target.var:toscane_lira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to toscane_lira_suply
				set_variable = {
					name = toscane_lira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:toscane_lira_quantity
							multiply = var:toscane_lira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_toscane_lira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_toscane_lira_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:toscane_lira_order >= 5
			}
			set_variable = {
				name = toscane_lira_order
				#Player country quantity of toscane_lira sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_toscane_lira_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:toscane_lira_quantity < stockpiling_toscane_lira_state
		player.central_bank_gold_reserves_state > buy_toscane_lira_in_gold_market_panel
	}
}
sell_toscane_lira_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:toscane_lira_quantity < player.stockpiling_toscane_lira_state
		central_bank_gold_reserves_state > sell_toscane_lira_in_gold_market_panel
	}
}
toscane_lira_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_toscane_lira_state_1
					add = scope:player_country.var:toscane_lira_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:toscane_lira_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_toscane_lira_state_1
						subtract = owner.var:toscane_lira_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:toscane_lira_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
toscane_lira_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_toscane_lira_state_1
					subtract = scope:player_country.var:toscane_lira_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:toscane_lira_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_toscane_lira_state_1
						add = owner.var:toscane_lira_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:toscane_lira_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#tunisian_dinar
tunisian_dinar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = tunisian_dinar_quantity
				#var:tunisian_dinar_quantity < market.owner.stockpiling_tunisian_dinar_state
				var:tunisian_dinar_quantity < sell_limit_currency_var_rest
				var:tunisian_dinar_quantity < 20000000
			}
			change_variable = {
				name = tunisian_dinar_quantity
				add = 5000000
			}
		}
	}
}
tunisian_dinar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = tunisian_dinar_quantity
				var:tunisian_dinar_quantity > 5000000
			}
			change_variable = {
				name = tunisian_dinar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_tunisian_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_tunisian_dinar_state > player.var:tunisian_dinar_quantity

		money_supply_verification_tunisian_dinar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:tunisian_dinar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_tunisian_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_tunisian_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_tunisian_dinar_state > player.var:tunisian_dinar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_tunisian_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_tunisian_dinar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_tunisian_dinar_market_panel_verification_current = 1

	}
}
buy_tunisian_dinar_market_panel = {
	is_shown = {
		var:tunisian_dinar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = tunisian_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:tunisian_dinar_order = 1
				var:tunisian_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_1 #Player country quantity of tunisian_dinar buy
					value  = scope:player_country.var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tunisian_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tunisian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_buy_1 #Player country quantity of tunisian_dinar buy
					value  = var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:tunisian_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to tunisian_dinar_suply
				set_variable = {
					name = tunisian_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tunisian_dinar_quantity
							multiply = var:tunisian_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_tunisian_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tunisian_dinar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:tunisian_dinar_order = 2
				var:tunisian_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_2 #Player country quantity of tunisian_dinar buy
					value  = scope:player_country.var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tunisian_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tunisian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_buy_2 #Player country quantity of tunisian_dinar buy
					value  = var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:tunisian_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to tunisian_dinar_suply
				set_variable = {
					name = tunisian_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tunisian_dinar_quantity
							multiply = var:tunisian_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_tunisian_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tunisian_dinar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:tunisian_dinar_order = 3
				var:tunisian_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_3 #Player country quantity of tunisian_dinar buy
					value  = scope:player_country.var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tunisian_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tunisian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_buy_3 #Player country quantity of tunisian_dinar buy
					value  = var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:tunisian_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to tunisian_dinar_suply
				set_variable = {
					name = tunisian_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tunisian_dinar_quantity
							multiply = var:tunisian_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_tunisian_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tunisian_dinar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:tunisian_dinar_order = 4
				var:tunisian_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_4 #Player country quantity of tunisian_dinar buy
					value  = scope:player_country.var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tunisian_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tunisian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_buy_4 #Player country quantity of tunisian_dinar buy
					value  = var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:tunisian_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to tunisian_dinar_suply
				set_variable = {
					name = tunisian_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tunisian_dinar_quantity
							multiply = var:tunisian_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_tunisian_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tunisian_dinar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:tunisian_dinar_order = 5
				var:tunisian_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_5 #Player country quantity of tunisian_dinar buy
					value  = scope:player_country.var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tunisian_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tunisian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_buy_5 #Player country quantity of tunisian_dinar buy
					value  = var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:tunisian_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to tunisian_dinar_suply
				set_variable = {
					name = tunisian_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tunisian_dinar_quantity
							multiply = var:tunisian_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_tunisian_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tunisian_dinar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:tunisian_dinar_order >= 5
			}
			set_variable = {
				name = tunisian_dinar_order
				#Player country quantity of tunisian_dinar buy
				value  = 0
			}
		}
	}
}
sell_tunisian_dinar_market_panel = {
	is_shown = {
		var:tunisian_dinar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = tunisian_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:tunisian_dinar_order = 1
				var:tunisian_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_1 #Player country quantity of tunisian_dinar sell
					value  = scope:player_country.var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tunisian_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tunisian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_1 #Player country quantity of tunisian_dinar sell
					value  = var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:tunisian_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to tunisian_dinar_suply
				set_variable = {
					name = tunisian_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tunisian_dinar_quantity
							multiply = var:tunisian_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_tunisian_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tunisian_dinar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:tunisian_dinar_order = 2
				var:tunisian_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_2 #Player country quantity of tunisian_dinar sell
					value  = scope:player_country.var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tunisian_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tunisian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_2 #Player country quantity of tunisian_dinar sell
					value  = var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:tunisian_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to tunisian_dinar_suply
				set_variable = {
					name = tunisian_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tunisian_dinar_quantity
							multiply = var:tunisian_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_tunisian_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tunisian_dinar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:tunisian_dinar_order = 3
				var:tunisian_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_3 #Player country quantity of tunisian_dinar sell
					value  = scope:player_country.var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tunisian_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tunisian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_3 #Player country quantity of tunisian_dinar sell
					value  = var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:tunisian_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to tunisian_dinar_suply
				set_variable = {
					name = tunisian_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tunisian_dinar_quantity
							multiply = var:tunisian_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_tunisian_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tunisian_dinar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:tunisian_dinar_order = 4
				var:tunisian_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_4 #Player country quantity of tunisian_dinar sell
					value  = scope:player_country.var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tunisian_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tunisian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_4 #Player country quantity of tunisian_dinar sell
					value  = var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:tunisian_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to tunisian_dinar_suply
				set_variable = {
					name = tunisian_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tunisian_dinar_quantity
							multiply = var:tunisian_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_tunisian_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tunisian_dinar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:tunisian_dinar_order = 5
				var:tunisian_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_5 #Player country quantity of tunisian_dinar sell
					value  = scope:player_country.var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tunisian_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tunisian_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tunisian_dinar_sell_5 #Player country quantity of tunisian_dinar sell
					value  = var:tunisian_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = tunisian_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:tunisian_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to tunisian_dinar_suply
				set_variable = {
					name = tunisian_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tunisian_dinar_quantity
							multiply = var:tunisian_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_tunisian_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tunisian_dinar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:tunisian_dinar_order >= 5
			}
			set_variable = {
				name = tunisian_dinar_order
				#Player country quantity of tunisian_dinar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_tunisian_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:tunisian_dinar_quantity < stockpiling_tunisian_dinar_state
		player.central_bank_gold_reserves_state > buy_tunisian_dinar_in_gold_market_panel
	}
}
sell_tunisian_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:tunisian_dinar_quantity < player.stockpiling_tunisian_dinar_state
		central_bank_gold_reserves_state > sell_tunisian_dinar_in_gold_market_panel
	}
}
tunisian_dinar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_tunisian_dinar_state_1
					add = scope:player_country.var:tunisian_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:tunisian_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_tunisian_dinar_state_1
						subtract = owner.var:tunisian_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:tunisian_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
tunisian_dinar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_tunisian_dinar_state_1
					subtract = scope:player_country.var:tunisian_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:tunisian_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_tunisian_dinar_state_1
						add = owner.var:tunisian_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:tunisian_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#tuareg_ouguiya
tuareg_ouguiya_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = tuareg_ouguiya_quantity
				#var:tuareg_ouguiya_quantity < market.owner.stockpiling_tuareg_ouguiya_state
				var:tuareg_ouguiya_quantity < sell_limit_currency_var_rest
				var:tuareg_ouguiya_quantity < 20000000
			}
			change_variable = {
				name = tuareg_ouguiya_quantity
				add = 5000000
			}
		}
	}
}
tuareg_ouguiya_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = tuareg_ouguiya_quantity
				var:tuareg_ouguiya_quantity > 5000000
			}
			change_variable = {
				name = tuareg_ouguiya_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_tuareg_ouguiya_market_panel_enabled = {
	is_valid = {
		stockpiling_tuareg_ouguiya_state > player.var:tuareg_ouguiya_quantity

		money_supply_verification_tuareg_ouguiya < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:tuareg_ouguiya_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_tuareg_ouguiya_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_tuareg_ouguiya_market_panel_enabled = {
	is_valid = {
		stockpiling_tuareg_ouguiya_state > player.var:tuareg_ouguiya_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_tuareg_ouguiya_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_tuareg_ouguiya_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_tuareg_ouguiya_market_panel_verification_current = 1

	}
}
buy_tuareg_ouguiya_market_panel = {
	is_shown = {
		var:tuareg_ouguiya_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = tuareg_ouguiya_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:tuareg_ouguiya_order = 1
				var:tuareg_ouguiya_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_1 #Player country quantity of tuareg_ouguiya buy
					value  = scope:player_country.var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tuareg_ouguiya_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tuareg_ouguiya_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_buy_1 #Player country quantity of tuareg_ouguiya buy
					value  = var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_1
					value = scope:target.var:tuareg_ouguiya_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to tuareg_ouguiya_suply
				set_variable = {
					name = tuareg_ouguiya_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tuareg_ouguiya_quantity
							multiply = var:tuareg_ouguiya_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_tuareg_ouguiya_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tuareg_ouguiya_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:tuareg_ouguiya_order = 2
				var:tuareg_ouguiya_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_2 #Player country quantity of tuareg_ouguiya buy
					value  = scope:player_country.var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tuareg_ouguiya_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tuareg_ouguiya_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_buy_2 #Player country quantity of tuareg_ouguiya buy
					value  = var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_2
					value = scope:target.var:tuareg_ouguiya_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to tuareg_ouguiya_suply
				set_variable = {
					name = tuareg_ouguiya_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tuareg_ouguiya_quantity
							multiply = var:tuareg_ouguiya_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_tuareg_ouguiya_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tuareg_ouguiya_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:tuareg_ouguiya_order = 3
				var:tuareg_ouguiya_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_3 #Player country quantity of tuareg_ouguiya buy
					value  = scope:player_country.var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tuareg_ouguiya_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tuareg_ouguiya_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_buy_3 #Player country quantity of tuareg_ouguiya buy
					value  = var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_3
					value = scope:target.var:tuareg_ouguiya_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to tuareg_ouguiya_suply
				set_variable = {
					name = tuareg_ouguiya_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tuareg_ouguiya_quantity
							multiply = var:tuareg_ouguiya_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_tuareg_ouguiya_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tuareg_ouguiya_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:tuareg_ouguiya_order = 4
				var:tuareg_ouguiya_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_4 #Player country quantity of tuareg_ouguiya buy
					value  = scope:player_country.var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tuareg_ouguiya_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tuareg_ouguiya_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_buy_4 #Player country quantity of tuareg_ouguiya buy
					value  = var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_4
					value = scope:target.var:tuareg_ouguiya_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to tuareg_ouguiya_suply
				set_variable = {
					name = tuareg_ouguiya_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tuareg_ouguiya_quantity
							multiply = var:tuareg_ouguiya_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_tuareg_ouguiya_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tuareg_ouguiya_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:tuareg_ouguiya_order = 5
				var:tuareg_ouguiya_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_5 #Player country quantity of tuareg_ouguiya buy
					value  = scope:player_country.var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tuareg_ouguiya_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tuareg_ouguiya_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_buy_5 #Player country quantity of tuareg_ouguiya buy
					value  = var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_5
					value = scope:target.var:tuareg_ouguiya_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to tuareg_ouguiya_suply
				set_variable = {
					name = tuareg_ouguiya_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tuareg_ouguiya_quantity
							multiply = var:tuareg_ouguiya_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_tuareg_ouguiya_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tuareg_ouguiya_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:tuareg_ouguiya_order >= 5
			}
			set_variable = {
				name = tuareg_ouguiya_order
				#Player country quantity of tuareg_ouguiya buy
				value  = 0
			}
		}
	}
}
sell_tuareg_ouguiya_market_panel = {
	is_shown = {
		var:tuareg_ouguiya_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = tuareg_ouguiya_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:tuareg_ouguiya_order = 1
				var:tuareg_ouguiya_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_1 #Player country quantity of tuareg_ouguiya sell
					value  = scope:player_country.var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tuareg_ouguiya_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tuareg_ouguiya_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_1 #Player country quantity of tuareg_ouguiya sell
					value  = var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_1
					value = scope:target.var:tuareg_ouguiya_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to tuareg_ouguiya_suply
				set_variable = {
					name = tuareg_ouguiya_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tuareg_ouguiya_quantity
							multiply = var:tuareg_ouguiya_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_tuareg_ouguiya_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tuareg_ouguiya_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:tuareg_ouguiya_order = 2
				var:tuareg_ouguiya_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_2 #Player country quantity of tuareg_ouguiya sell
					value  = scope:player_country.var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tuareg_ouguiya_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tuareg_ouguiya_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_2 #Player country quantity of tuareg_ouguiya sell
					value  = var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_2
					value = scope:target.var:tuareg_ouguiya_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to tuareg_ouguiya_suply
				set_variable = {
					name = tuareg_ouguiya_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tuareg_ouguiya_quantity
							multiply = var:tuareg_ouguiya_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_tuareg_ouguiya_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tuareg_ouguiya_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:tuareg_ouguiya_order = 3
				var:tuareg_ouguiya_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_3 #Player country quantity of tuareg_ouguiya sell
					value  = scope:player_country.var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tuareg_ouguiya_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tuareg_ouguiya_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_3 #Player country quantity of tuareg_ouguiya sell
					value  = var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_3
					value = scope:target.var:tuareg_ouguiya_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to tuareg_ouguiya_suply
				set_variable = {
					name = tuareg_ouguiya_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tuareg_ouguiya_quantity
							multiply = var:tuareg_ouguiya_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_tuareg_ouguiya_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tuareg_ouguiya_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:tuareg_ouguiya_order = 4
				var:tuareg_ouguiya_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_4 #Player country quantity of tuareg_ouguiya sell
					value  = scope:player_country.var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tuareg_ouguiya_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tuareg_ouguiya_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_4 #Player country quantity of tuareg_ouguiya sell
					value  = var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_4
					value = scope:target.var:tuareg_ouguiya_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to tuareg_ouguiya_suply
				set_variable = {
					name = tuareg_ouguiya_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tuareg_ouguiya_quantity
							multiply = var:tuareg_ouguiya_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_tuareg_ouguiya_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tuareg_ouguiya_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:tuareg_ouguiya_order = 5
				var:tuareg_ouguiya_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_5 #Player country quantity of tuareg_ouguiya sell
					value  = scope:player_country.var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = tuareg_ouguiya_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:tuareg_ouguiya_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = tuareg_ouguiya_sell_5 #Player country quantity of tuareg_ouguiya sell
					value  = var:tuareg_ouguiya_quantity
				}

				#exchange rate
				set_variable = {
					name = tuareg_ouguiya_to_player_currency_exchange_rate_5
					value = scope:target.var:tuareg_ouguiya_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to tuareg_ouguiya_suply
				set_variable = {
					name = tuareg_ouguiya_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:tuareg_ouguiya_quantity
							multiply = var:tuareg_ouguiya_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_tuareg_ouguiya_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_tuareg_ouguiya_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:tuareg_ouguiya_order >= 5
			}
			set_variable = {
				name = tuareg_ouguiya_order
				#Player country quantity of tuareg_ouguiya sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_tuareg_ouguiya_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:tuareg_ouguiya_quantity < stockpiling_tuareg_ouguiya_state
		player.central_bank_gold_reserves_state > buy_tuareg_ouguiya_in_gold_market_panel
	}
}
sell_tuareg_ouguiya_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:tuareg_ouguiya_quantity < player.stockpiling_tuareg_ouguiya_state
		central_bank_gold_reserves_state > sell_tuareg_ouguiya_in_gold_market_panel
	}
}
tuareg_ouguiya_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_tuareg_ouguiya_state_1
					add = scope:player_country.var:tuareg_ouguiya_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:tuareg_ouguiya_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_tuareg_ouguiya_state_1
						subtract = owner.var:tuareg_ouguiya_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:tuareg_ouguiya_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
tuareg_ouguiya_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_tuareg_ouguiya_state_1
					subtract = scope:player_country.var:tuareg_ouguiya_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:tuareg_ouguiya_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_tuareg_ouguiya_state_1
						add = owner.var:tuareg_ouguiya_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:tuareg_ouguiya_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#uni
uni_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = uni_quantity
				#var:uni_quantity < market.owner.stockpiling_uni_state
				var:uni_quantity < sell_limit_currency_var_rest
				var:uni_quantity < 20000000
			}
			change_variable = {
				name = uni_quantity
				add = 5000000
			}
		}
	}
}
uni_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = uni_quantity
				var:uni_quantity > 5000000
			}
			change_variable = {
				name = uni_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_uni_market_panel_enabled = {
	is_valid = {
		stockpiling_uni_state > player.var:uni_quantity

		money_supply_verification_uni < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:uni_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_uni_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_uni_market_panel_enabled = {
	is_valid = {
		stockpiling_uni_state > player.var:uni_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_uni_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_uni_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_uni_market_panel_verification_current = 1

	}
}
buy_uni_market_panel = {
	is_shown = {
		var:uni_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = uni_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:uni_order = 1
				var:uni_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_1 #Player country quantity of uni buy
					value  = scope:player_country.var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = uni_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:uni_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = uni_buy_1 #Player country quantity of uni buy
					value  = var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_1
					value = scope:target.var:uni_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to uni_suply
				set_variable = {
					name = uni_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:uni_quantity
							multiply = var:uni_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_uni_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_uni_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:uni_order = 2
				var:uni_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_2 #Player country quantity of uni buy
					value  = scope:player_country.var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = uni_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:uni_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = uni_buy_2 #Player country quantity of uni buy
					value  = var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_2
					value = scope:target.var:uni_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to uni_suply
				set_variable = {
					name = uni_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:uni_quantity
							multiply = var:uni_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_uni_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_uni_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:uni_order = 3
				var:uni_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_3 #Player country quantity of uni buy
					value  = scope:player_country.var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = uni_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:uni_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = uni_buy_3 #Player country quantity of uni buy
					value  = var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_3
					value = scope:target.var:uni_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to uni_suply
				set_variable = {
					name = uni_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:uni_quantity
							multiply = var:uni_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_uni_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_uni_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:uni_order = 4
				var:uni_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_4 #Player country quantity of uni buy
					value  = scope:player_country.var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = uni_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:uni_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = uni_buy_4 #Player country quantity of uni buy
					value  = var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_4
					value = scope:target.var:uni_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to uni_suply
				set_variable = {
					name = uni_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:uni_quantity
							multiply = var:uni_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_uni_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_uni_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:uni_order = 5
				var:uni_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_5 #Player country quantity of uni buy
					value  = scope:player_country.var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = uni_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:uni_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = uni_buy_5 #Player country quantity of uni buy
					value  = var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_5
					value = scope:target.var:uni_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to uni_suply
				set_variable = {
					name = uni_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:uni_quantity
							multiply = var:uni_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_uni_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_uni_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:uni_order >= 5
			}
			set_variable = {
				name = uni_order
				#Player country quantity of uni buy
				value  = 0
			}
		}
	}
}
sell_uni_market_panel = {
	is_shown = {
		var:uni_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = uni_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:uni_order = 1
				var:uni_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_1 #Player country quantity of uni sell
					value  = scope:player_country.var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = uni_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:uni_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_1 #Player country quantity of uni sell
					value  = var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_1
					value = scope:target.var:uni_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to uni_suply
				set_variable = {
					name = uni_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:uni_quantity
							multiply = var:uni_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_uni_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_uni_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:uni_order = 2
				var:uni_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_2 #Player country quantity of uni sell
					value  = scope:player_country.var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = uni_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:uni_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_2 #Player country quantity of uni sell
					value  = var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_2
					value = scope:target.var:uni_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to uni_suply
				set_variable = {
					name = uni_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:uni_quantity
							multiply = var:uni_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_uni_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_uni_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:uni_order = 3
				var:uni_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_3 #Player country quantity of uni sell
					value  = scope:player_country.var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = uni_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:uni_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_3 #Player country quantity of uni sell
					value  = var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_3
					value = scope:target.var:uni_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to uni_suply
				set_variable = {
					name = uni_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:uni_quantity
							multiply = var:uni_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_uni_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_uni_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:uni_order = 4
				var:uni_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_4 #Player country quantity of uni sell
					value  = scope:player_country.var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = uni_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:uni_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_4 #Player country quantity of uni sell
					value  = var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_4
					value = scope:target.var:uni_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to uni_suply
				set_variable = {
					name = uni_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:uni_quantity
							multiply = var:uni_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_uni_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_uni_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:uni_order = 5
				var:uni_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_5 #Player country quantity of uni sell
					value  = scope:player_country.var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = uni_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:uni_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = uni_sell_5 #Player country quantity of uni sell
					value  = var:uni_quantity
				}

				#exchange rate
				set_variable = {
					name = uni_to_player_currency_exchange_rate_5
					value = scope:target.var:uni_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to uni_suply
				set_variable = {
					name = uni_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:uni_quantity
							multiply = var:uni_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_uni_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_uni_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:uni_order >= 5
			}
			set_variable = {
				name = uni_order
				#Player country quantity of uni sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_uni_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:uni_quantity < stockpiling_uni_state
		player.central_bank_gold_reserves_state > buy_uni_in_gold_market_panel
	}
}
sell_uni_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:uni_quantity < player.stockpiling_uni_state
		central_bank_gold_reserves_state > sell_uni_in_gold_market_panel
	}
}
uni_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_uni_state_1
					add = scope:player_country.var:uni_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:uni_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_uni_state_1
						subtract = owner.var:uni_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:uni_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
uni_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_uni_state_1
					subtract = scope:player_country.var:uni_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:uni_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_uni_state_1
						add = owner.var:uni_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:uni_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#united_states_dollar
united_states_dollar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = united_states_dollar_quantity
				#var:united_states_dollar_quantity < market.owner.stockpiling_united_states_dollar_state
				var:united_states_dollar_quantity < sell_limit_currency_var_rest
				var:united_states_dollar_quantity < 20000000
			}
			change_variable = {
				name = united_states_dollar_quantity
				add = 5000000
			}
		}
	}
}
united_states_dollar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = united_states_dollar_quantity
				var:united_states_dollar_quantity > 5000000
			}
			change_variable = {
				name = united_states_dollar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_united_states_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_united_states_dollar_state > player.var:united_states_dollar_quantity

		money_supply_verification_united_states_dollar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:united_states_dollar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_united_states_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_united_states_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_united_states_dollar_state > player.var:united_states_dollar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_united_states_dollar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_united_states_dollar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_united_states_dollar_market_panel_verification_current = 1

	}
}
buy_united_states_dollar_market_panel = {
	is_shown = {
		var:united_states_dollar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = united_states_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:united_states_dollar_order = 1
				var:united_states_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_1 #Player country quantity of united_states_dollar buy
					value  = scope:player_country.var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = united_states_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:united_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_buy_1 #Player country quantity of united_states_dollar buy
					value  = var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:united_states_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to united_states_dollar_suply
				set_variable = {
					name = united_states_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:united_states_dollar_quantity
							multiply = var:united_states_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_united_states_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_united_states_dollar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:united_states_dollar_order = 2
				var:united_states_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_2 #Player country quantity of united_states_dollar buy
					value  = scope:player_country.var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = united_states_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:united_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_buy_2 #Player country quantity of united_states_dollar buy
					value  = var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:united_states_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to united_states_dollar_suply
				set_variable = {
					name = united_states_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:united_states_dollar_quantity
							multiply = var:united_states_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_united_states_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_united_states_dollar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:united_states_dollar_order = 3
				var:united_states_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_3 #Player country quantity of united_states_dollar buy
					value  = scope:player_country.var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = united_states_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:united_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_buy_3 #Player country quantity of united_states_dollar buy
					value  = var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:united_states_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to united_states_dollar_suply
				set_variable = {
					name = united_states_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:united_states_dollar_quantity
							multiply = var:united_states_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_united_states_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_united_states_dollar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:united_states_dollar_order = 4
				var:united_states_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_4 #Player country quantity of united_states_dollar buy
					value  = scope:player_country.var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = united_states_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:united_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_buy_4 #Player country quantity of united_states_dollar buy
					value  = var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:united_states_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to united_states_dollar_suply
				set_variable = {
					name = united_states_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:united_states_dollar_quantity
							multiply = var:united_states_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_united_states_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_united_states_dollar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:united_states_dollar_order = 5
				var:united_states_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_5 #Player country quantity of united_states_dollar buy
					value  = scope:player_country.var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = united_states_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:united_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_buy_5 #Player country quantity of united_states_dollar buy
					value  = var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:united_states_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to united_states_dollar_suply
				set_variable = {
					name = united_states_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:united_states_dollar_quantity
							multiply = var:united_states_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_united_states_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_united_states_dollar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:united_states_dollar_order >= 5
			}
			set_variable = {
				name = united_states_dollar_order
				#Player country quantity of united_states_dollar buy
				value  = 0
			}
		}
	}
}
sell_united_states_dollar_market_panel = {
	is_shown = {
		var:united_states_dollar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = united_states_dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:united_states_dollar_order = 1
				var:united_states_dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_1 #Player country quantity of united_states_dollar sell
					value  = scope:player_country.var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = united_states_dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:united_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_1 #Player country quantity of united_states_dollar sell
					value  = var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:united_states_dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to united_states_dollar_suply
				set_variable = {
					name = united_states_dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:united_states_dollar_quantity
							multiply = var:united_states_dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_united_states_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_united_states_dollar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:united_states_dollar_order = 2
				var:united_states_dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_2 #Player country quantity of united_states_dollar sell
					value  = scope:player_country.var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = united_states_dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:united_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_2 #Player country quantity of united_states_dollar sell
					value  = var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:united_states_dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to united_states_dollar_suply
				set_variable = {
					name = united_states_dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:united_states_dollar_quantity
							multiply = var:united_states_dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_united_states_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_united_states_dollar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:united_states_dollar_order = 3
				var:united_states_dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_3 #Player country quantity of united_states_dollar sell
					value  = scope:player_country.var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = united_states_dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:united_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_3 #Player country quantity of united_states_dollar sell
					value  = var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:united_states_dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to united_states_dollar_suply
				set_variable = {
					name = united_states_dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:united_states_dollar_quantity
							multiply = var:united_states_dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_united_states_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_united_states_dollar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:united_states_dollar_order = 4
				var:united_states_dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_4 #Player country quantity of united_states_dollar sell
					value  = scope:player_country.var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = united_states_dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:united_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_4 #Player country quantity of united_states_dollar sell
					value  = var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:united_states_dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to united_states_dollar_suply
				set_variable = {
					name = united_states_dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:united_states_dollar_quantity
							multiply = var:united_states_dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_united_states_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_united_states_dollar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:united_states_dollar_order = 5
				var:united_states_dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_5 #Player country quantity of united_states_dollar sell
					value  = scope:player_country.var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = united_states_dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:united_states_dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = united_states_dollar_sell_5 #Player country quantity of united_states_dollar sell
					value  = var:united_states_dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = united_states_dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:united_states_dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to united_states_dollar_suply
				set_variable = {
					name = united_states_dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:united_states_dollar_quantity
							multiply = var:united_states_dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_united_states_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_united_states_dollar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:united_states_dollar_order >= 5
			}
			set_variable = {
				name = united_states_dollar_order
				#Player country quantity of united_states_dollar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_united_states_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:united_states_dollar_quantity < stockpiling_united_states_dollar_state
		player.central_bank_gold_reserves_state > buy_united_states_dollar_in_gold_market_panel
	}
}
sell_united_states_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:united_states_dollar_quantity < player.stockpiling_united_states_dollar_state
		central_bank_gold_reserves_state > sell_united_states_dollar_in_gold_market_panel
	}
}
united_states_dollar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_united_states_dollar_state_1
					add = scope:player_country.var:united_states_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:united_states_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_united_states_dollar_state_1
						subtract = owner.var:united_states_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:united_states_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
united_states_dollar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_united_states_dollar_state_1
					subtract = scope:player_country.var:united_states_dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:united_states_dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_united_states_dollar_state_1
						add = owner.var:united_states_dollar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:united_states_dollar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#venezuelan_peso
venezuelan_peso_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = venezuelan_peso_quantity
				#var:venezuelan_peso_quantity < market.owner.stockpiling_venezuelan_peso_state
				var:venezuelan_peso_quantity < sell_limit_currency_var_rest
				var:venezuelan_peso_quantity < 20000000
			}
			change_variable = {
				name = venezuelan_peso_quantity
				add = 5000000
			}
		}
	}
}
venezuelan_peso_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = venezuelan_peso_quantity
				var:venezuelan_peso_quantity > 5000000
			}
			change_variable = {
				name = venezuelan_peso_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_venezuelan_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_venezuelan_peso_state > player.var:venezuelan_peso_quantity

		money_supply_verification_venezuelan_peso < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:venezuelan_peso_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_venezuelan_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_venezuelan_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_venezuelan_peso_state > player.var:venezuelan_peso_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_venezuelan_peso_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_venezuelan_peso_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_venezuelan_peso_market_panel_verification_current = 1

	}
}
buy_venezuelan_peso_market_panel = {
	is_shown = {
		var:venezuelan_peso_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = venezuelan_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:venezuelan_peso_order = 1
				var:venezuelan_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_1 #Player country quantity of venezuelan_peso buy
					value  = scope:player_country.var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = venezuelan_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:venezuelan_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_buy_1 #Player country quantity of venezuelan_peso buy
					value  = var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:venezuelan_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to venezuelan_peso_suply
				set_variable = {
					name = venezuelan_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:venezuelan_peso_quantity
							multiply = var:venezuelan_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_venezuelan_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_venezuelan_peso_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:venezuelan_peso_order = 2
				var:venezuelan_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_2 #Player country quantity of venezuelan_peso buy
					value  = scope:player_country.var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = venezuelan_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:venezuelan_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_buy_2 #Player country quantity of venezuelan_peso buy
					value  = var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:venezuelan_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to venezuelan_peso_suply
				set_variable = {
					name = venezuelan_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:venezuelan_peso_quantity
							multiply = var:venezuelan_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_venezuelan_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_venezuelan_peso_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:venezuelan_peso_order = 3
				var:venezuelan_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_3 #Player country quantity of venezuelan_peso buy
					value  = scope:player_country.var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = venezuelan_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:venezuelan_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_buy_3 #Player country quantity of venezuelan_peso buy
					value  = var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:venezuelan_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to venezuelan_peso_suply
				set_variable = {
					name = venezuelan_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:venezuelan_peso_quantity
							multiply = var:venezuelan_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_venezuelan_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_venezuelan_peso_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:venezuelan_peso_order = 4
				var:venezuelan_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_4 #Player country quantity of venezuelan_peso buy
					value  = scope:player_country.var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = venezuelan_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:venezuelan_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_buy_4 #Player country quantity of venezuelan_peso buy
					value  = var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:venezuelan_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to venezuelan_peso_suply
				set_variable = {
					name = venezuelan_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:venezuelan_peso_quantity
							multiply = var:venezuelan_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_venezuelan_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_venezuelan_peso_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:venezuelan_peso_order = 5
				var:venezuelan_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_5 #Player country quantity of venezuelan_peso buy
					value  = scope:player_country.var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = venezuelan_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:venezuelan_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_buy_5 #Player country quantity of venezuelan_peso buy
					value  = var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:venezuelan_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to venezuelan_peso_suply
				set_variable = {
					name = venezuelan_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:venezuelan_peso_quantity
							multiply = var:venezuelan_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_venezuelan_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_venezuelan_peso_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:venezuelan_peso_order >= 5
			}
			set_variable = {
				name = venezuelan_peso_order
				#Player country quantity of venezuelan_peso buy
				value  = 0
			}
		}
	}
}
sell_venezuelan_peso_market_panel = {
	is_shown = {
		var:venezuelan_peso_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = venezuelan_peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:venezuelan_peso_order = 1
				var:venezuelan_peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_1 #Player country quantity of venezuelan_peso sell
					value  = scope:player_country.var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = venezuelan_peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:venezuelan_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_1 #Player country quantity of venezuelan_peso sell
					value  = var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_1
					value = scope:target.var:venezuelan_peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to venezuelan_peso_suply
				set_variable = {
					name = venezuelan_peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:venezuelan_peso_quantity
							multiply = var:venezuelan_peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_venezuelan_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_venezuelan_peso_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:venezuelan_peso_order = 2
				var:venezuelan_peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_2 #Player country quantity of venezuelan_peso sell
					value  = scope:player_country.var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = venezuelan_peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:venezuelan_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_2 #Player country quantity of venezuelan_peso sell
					value  = var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_2
					value = scope:target.var:venezuelan_peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to venezuelan_peso_suply
				set_variable = {
					name = venezuelan_peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:venezuelan_peso_quantity
							multiply = var:venezuelan_peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_venezuelan_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_venezuelan_peso_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:venezuelan_peso_order = 3
				var:venezuelan_peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_3 #Player country quantity of venezuelan_peso sell
					value  = scope:player_country.var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = venezuelan_peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:venezuelan_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_3 #Player country quantity of venezuelan_peso sell
					value  = var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_3
					value = scope:target.var:venezuelan_peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to venezuelan_peso_suply
				set_variable = {
					name = venezuelan_peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:venezuelan_peso_quantity
							multiply = var:venezuelan_peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_venezuelan_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_venezuelan_peso_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:venezuelan_peso_order = 4
				var:venezuelan_peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_4 #Player country quantity of venezuelan_peso sell
					value  = scope:player_country.var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = venezuelan_peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:venezuelan_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_4 #Player country quantity of venezuelan_peso sell
					value  = var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_4
					value = scope:target.var:venezuelan_peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to venezuelan_peso_suply
				set_variable = {
					name = venezuelan_peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:venezuelan_peso_quantity
							multiply = var:venezuelan_peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_venezuelan_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_venezuelan_peso_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:venezuelan_peso_order = 5
				var:venezuelan_peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_5 #Player country quantity of venezuelan_peso sell
					value  = scope:player_country.var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = venezuelan_peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:venezuelan_peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = venezuelan_peso_sell_5 #Player country quantity of venezuelan_peso sell
					value  = var:venezuelan_peso_quantity
				}

				#exchange rate
				set_variable = {
					name = venezuelan_peso_to_player_currency_exchange_rate_5
					value = scope:target.var:venezuelan_peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to venezuelan_peso_suply
				set_variable = {
					name = venezuelan_peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:venezuelan_peso_quantity
							multiply = var:venezuelan_peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_venezuelan_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_venezuelan_peso_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:venezuelan_peso_order >= 5
			}
			set_variable = {
				name = venezuelan_peso_order
				#Player country quantity of venezuelan_peso sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_venezuelan_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:venezuelan_peso_quantity < stockpiling_venezuelan_peso_state
		player.central_bank_gold_reserves_state > buy_venezuelan_peso_in_gold_market_panel
	}
}
sell_venezuelan_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:venezuelan_peso_quantity < player.stockpiling_venezuelan_peso_state
		central_bank_gold_reserves_state > sell_venezuelan_peso_in_gold_market_panel
	}
}
venezuelan_peso_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_venezuelan_peso_state_1
					add = scope:player_country.var:venezuelan_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:venezuelan_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_venezuelan_peso_state_1
						subtract = owner.var:venezuelan_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:venezuelan_peso_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
venezuelan_peso_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_venezuelan_peso_state_1
					subtract = scope:player_country.var:venezuelan_peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:venezuelan_peso_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_venezuelan_peso_state_1
						add = owner.var:venezuelan_peso_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:venezuelan_peso_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#west_african_eco
west_african_eco_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = west_african_eco_quantity
				#var:west_african_eco_quantity < market.owner.stockpiling_west_african_eco_state
				var:west_african_eco_quantity < sell_limit_currency_var_rest
				var:west_african_eco_quantity < 20000000
			}
			change_variable = {
				name = west_african_eco_quantity
				add = 5000000
			}
		}
	}
}
west_african_eco_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = west_african_eco_quantity
				var:west_african_eco_quantity > 5000000
			}
			change_variable = {
				name = west_african_eco_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_west_african_eco_market_panel_enabled = {
	is_valid = {
		stockpiling_west_african_eco_state > player.var:west_african_eco_quantity

		money_supply_verification_west_african_eco < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:west_african_eco_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_west_african_eco_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_west_african_eco_market_panel_enabled = {
	is_valid = {
		stockpiling_west_african_eco_state > player.var:west_african_eco_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_west_african_eco_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_west_african_eco_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_west_african_eco_market_panel_verification_current = 1

	}
}
buy_west_african_eco_market_panel = {
	is_shown = {
		var:west_african_eco_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = west_african_eco_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:west_african_eco_order = 1
				var:west_african_eco_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_1 #Player country quantity of west_african_eco buy
					value  = scope:player_country.var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = west_african_eco_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:west_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_buy_1 #Player country quantity of west_african_eco buy
					value  = var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_1
					value = scope:target.var:west_african_eco_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to west_african_eco_suply
				set_variable = {
					name = west_african_eco_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:west_african_eco_quantity
							multiply = var:west_african_eco_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_west_african_eco_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_west_african_eco_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:west_african_eco_order = 2
				var:west_african_eco_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_2 #Player country quantity of west_african_eco buy
					value  = scope:player_country.var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = west_african_eco_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:west_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_buy_2 #Player country quantity of west_african_eco buy
					value  = var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_2
					value = scope:target.var:west_african_eco_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to west_african_eco_suply
				set_variable = {
					name = west_african_eco_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:west_african_eco_quantity
							multiply = var:west_african_eco_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_west_african_eco_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_west_african_eco_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:west_african_eco_order = 3
				var:west_african_eco_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_3 #Player country quantity of west_african_eco buy
					value  = scope:player_country.var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = west_african_eco_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:west_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_buy_3 #Player country quantity of west_african_eco buy
					value  = var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_3
					value = scope:target.var:west_african_eco_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to west_african_eco_suply
				set_variable = {
					name = west_african_eco_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:west_african_eco_quantity
							multiply = var:west_african_eco_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_west_african_eco_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_west_african_eco_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:west_african_eco_order = 4
				var:west_african_eco_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_4 #Player country quantity of west_african_eco buy
					value  = scope:player_country.var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = west_african_eco_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:west_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_buy_4 #Player country quantity of west_african_eco buy
					value  = var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_4
					value = scope:target.var:west_african_eco_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to west_african_eco_suply
				set_variable = {
					name = west_african_eco_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:west_african_eco_quantity
							multiply = var:west_african_eco_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_west_african_eco_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_west_african_eco_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:west_african_eco_order = 5
				var:west_african_eco_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_5 #Player country quantity of west_african_eco buy
					value  = scope:player_country.var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = west_african_eco_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:west_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_buy_5 #Player country quantity of west_african_eco buy
					value  = var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_5
					value = scope:target.var:west_african_eco_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to west_african_eco_suply
				set_variable = {
					name = west_african_eco_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:west_african_eco_quantity
							multiply = var:west_african_eco_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_west_african_eco_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_west_african_eco_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:west_african_eco_order >= 5
			}
			set_variable = {
				name = west_african_eco_order
				#Player country quantity of west_african_eco buy
				value  = 0
			}
		}
	}
}
sell_west_african_eco_market_panel = {
	is_shown = {
		var:west_african_eco_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = west_african_eco_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:west_african_eco_order = 1
				var:west_african_eco_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_1 #Player country quantity of west_african_eco sell
					value  = scope:player_country.var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = west_african_eco_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:west_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_1 #Player country quantity of west_african_eco sell
					value  = var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_1
					value = scope:target.var:west_african_eco_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to west_african_eco_suply
				set_variable = {
					name = west_african_eco_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:west_african_eco_quantity
							multiply = var:west_african_eco_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_west_african_eco_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_west_african_eco_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:west_african_eco_order = 2
				var:west_african_eco_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_2 #Player country quantity of west_african_eco sell
					value  = scope:player_country.var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = west_african_eco_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:west_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_2 #Player country quantity of west_african_eco sell
					value  = var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_2
					value = scope:target.var:west_african_eco_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to west_african_eco_suply
				set_variable = {
					name = west_african_eco_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:west_african_eco_quantity
							multiply = var:west_african_eco_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_west_african_eco_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_west_african_eco_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:west_african_eco_order = 3
				var:west_african_eco_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_3 #Player country quantity of west_african_eco sell
					value  = scope:player_country.var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = west_african_eco_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:west_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_3 #Player country quantity of west_african_eco sell
					value  = var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_3
					value = scope:target.var:west_african_eco_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to west_african_eco_suply
				set_variable = {
					name = west_african_eco_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:west_african_eco_quantity
							multiply = var:west_african_eco_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_west_african_eco_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_west_african_eco_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:west_african_eco_order = 4
				var:west_african_eco_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_4 #Player country quantity of west_african_eco sell
					value  = scope:player_country.var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = west_african_eco_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:west_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_4 #Player country quantity of west_african_eco sell
					value  = var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_4
					value = scope:target.var:west_african_eco_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to west_african_eco_suply
				set_variable = {
					name = west_african_eco_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:west_african_eco_quantity
							multiply = var:west_african_eco_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_west_african_eco_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_west_african_eco_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:west_african_eco_order = 5
				var:west_african_eco_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_5 #Player country quantity of west_african_eco sell
					value  = scope:player_country.var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = west_african_eco_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:west_african_eco_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = west_african_eco_sell_5 #Player country quantity of west_african_eco sell
					value  = var:west_african_eco_quantity
				}

				#exchange rate
				set_variable = {
					name = west_african_eco_to_player_currency_exchange_rate_5
					value = scope:target.var:west_african_eco_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to west_african_eco_suply
				set_variable = {
					name = west_african_eco_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:west_african_eco_quantity
							multiply = var:west_african_eco_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_west_african_eco_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_west_african_eco_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:west_african_eco_order >= 5
			}
			set_variable = {
				name = west_african_eco_order
				#Player country quantity of west_african_eco sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_west_african_eco_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:west_african_eco_quantity < stockpiling_west_african_eco_state
		player.central_bank_gold_reserves_state > buy_west_african_eco_in_gold_market_panel
	}
}
sell_west_african_eco_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:west_african_eco_quantity < player.stockpiling_west_african_eco_state
		central_bank_gold_reserves_state > sell_west_african_eco_in_gold_market_panel
	}
}
west_african_eco_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_west_african_eco_state_1
					add = scope:player_country.var:west_african_eco_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:west_african_eco_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_west_african_eco_state_1
						subtract = owner.var:west_african_eco_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:west_african_eco_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
west_african_eco_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_west_african_eco_state_1
					subtract = scope:player_country.var:west_african_eco_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:west_african_eco_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_west_african_eco_state_1
						add = owner.var:west_african_eco_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:west_african_eco_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#yen
yen_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = yen_quantity
				#var:yen_quantity < market.owner.stockpiling_yen_state
				var:yen_quantity < sell_limit_currency_var_rest
				var:yen_quantity < 20000000
			}
			change_variable = {
				name = yen_quantity
				add = 5000000
			}
		}
	}
}
yen_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = yen_quantity
				var:yen_quantity > 5000000
			}
			change_variable = {
				name = yen_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_yen_market_panel_enabled = {
	is_valid = {
		stockpiling_yen_state > player.var:yen_quantity

		money_supply_verification_yen < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:yen_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_yen_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_yen_market_panel_enabled = {
	is_valid = {
		stockpiling_yen_state > player.var:yen_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_yen_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_yen_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_yen_market_panel_verification_current = 1

	}
}
buy_yen_market_panel = {
	is_shown = {
		var:yen_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = yen_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:yen_order = 1
				var:yen_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_1 #Player country quantity of yen buy
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_buy_1 #Player country quantity of yen buy
					value  = var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_1
					value = scope:target.var:yen_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to yen_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_yen_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:yen_order = 2
				var:yen_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_2 #Player country quantity of yen buy
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_buy_2 #Player country quantity of yen buy
					value  = var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_2
					value = scope:target.var:yen_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to yen_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_yen_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:yen_order = 3
				var:yen_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_3 #Player country quantity of yen buy
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_buy_3 #Player country quantity of yen buy
					value  = var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_3
					value = scope:target.var:yen_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to yen_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_yen_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:yen_order = 4
				var:yen_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_4 #Player country quantity of yen buy
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_buy_4 #Player country quantity of yen buy
					value  = var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_4
					value = scope:target.var:yen_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to yen_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_yen_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:yen_order = 5
				var:yen_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_5 #Player country quantity of yen buy
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_buy_5 #Player country quantity of yen buy
					value  = var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_5
					value = scope:target.var:yen_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to yen_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_yen_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:yen_order >= 5
			}
			set_variable = {
				name = yen_order
				#Player country quantity of yen buy
				value  = 0
			}
		}
	}
}
sell_yen_market_panel = {
	is_shown = {
		var:yen_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = yen_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:yen_order = 1
				var:yen_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_1 #Player country quantity of yen sell
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_1 #Player country quantity of yen sell
					value  = var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_1
					value = scope:target.var:yen_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to yen_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_yen_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:yen_order = 2
				var:yen_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_2 #Player country quantity of yen sell
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_2 #Player country quantity of yen sell
					value  = var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_2
					value = scope:target.var:yen_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to yen_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_yen_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:yen_order = 3
				var:yen_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_3 #Player country quantity of yen sell
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_3 #Player country quantity of yen sell
					value  = var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_3
					value = scope:target.var:yen_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to yen_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_yen_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:yen_order = 4
				var:yen_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_4 #Player country quantity of yen sell
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_4 #Player country quantity of yen sell
					value  = var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_4
					value = scope:target.var:yen_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to yen_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_yen_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:yen_order = 5
				var:yen_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_5 #Player country quantity of yen sell
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_5 #Player country quantity of yen sell
					value  = var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_5
					value = scope:target.var:yen_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to yen_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_yen_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:yen_order >= 5
			}
			set_variable = {
				name = yen_order
				#Player country quantity of yen sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_yen_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:yen_quantity < stockpiling_yen_state
		player.central_bank_gold_reserves_state > buy_yen_in_gold_market_panel
	}
}
sell_yen_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:yen_quantity < player.stockpiling_yen_state
		central_bank_gold_reserves_state > sell_yen_in_gold_market_panel
	}
}
yen_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_yen_state_1
					add = scope:player_country.var:yen_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:yen_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_yen_state_1
						subtract = owner.var:yen_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:yen_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
yen_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_yen_state_1
					subtract = scope:player_country.var:yen_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:yen_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_yen_state_1
						add = owner.var:yen_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:yen_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#yuan
yuan_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = yuan_quantity
				#var:yuan_quantity < market.owner.stockpiling_yuan_state
				var:yuan_quantity < sell_limit_currency_var_rest
				var:yuan_quantity < 20000000
			}
			change_variable = {
				name = yuan_quantity
				add = 5000000
			}
		}
	}
}
yuan_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = yuan_quantity
				var:yuan_quantity > 5000000
			}
			change_variable = {
				name = yuan_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_yuan_market_panel_enabled = {
	is_valid = {
		stockpiling_yuan_state > player.var:yuan_quantity

		money_supply_verification_yuan < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:yuan_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_yuan_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_yuan_market_panel_enabled = {
	is_valid = {
		stockpiling_yuan_state > player.var:yuan_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_yuan_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_yuan_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_yuan_market_panel_verification_current = 1

	}
}
buy_yuan_market_panel = {
	is_shown = {
		var:yuan_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = yuan_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:yuan_order = 1
				var:yuan_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_1 #Player country quantity of yuan buy
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_buy_1 #Player country quantity of yuan buy
					value  = var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_1
					value = scope:target.var:yuan_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to yuan_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_yuan_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:yuan_order = 2
				var:yuan_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_2 #Player country quantity of yuan buy
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_buy_2 #Player country quantity of yuan buy
					value  = var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_2
					value = scope:target.var:yuan_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to yuan_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_yuan_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:yuan_order = 3
				var:yuan_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_3 #Player country quantity of yuan buy
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_buy_3 #Player country quantity of yuan buy
					value  = var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_3
					value = scope:target.var:yuan_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to yuan_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_yuan_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:yuan_order = 4
				var:yuan_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_4 #Player country quantity of yuan buy
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_buy_4 #Player country quantity of yuan buy
					value  = var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_4
					value = scope:target.var:yuan_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to yuan_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_yuan_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:yuan_order = 5
				var:yuan_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_5 #Player country quantity of yuan buy
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_buy_5 #Player country quantity of yuan buy
					value  = var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_5
					value = scope:target.var:yuan_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to yuan_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_yuan_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:yuan_order >= 5
			}
			set_variable = {
				name = yuan_order
				#Player country quantity of yuan buy
				value  = 0
			}
		}
	}
}
sell_yuan_market_panel = {
	is_shown = {
		var:yuan_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = yuan_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:yuan_order = 1
				var:yuan_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_1 #Player country quantity of yuan sell
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_1 #Player country quantity of yuan sell
					value  = var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_1
					value = scope:target.var:yuan_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to yuan_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_yuan_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:yuan_order = 2
				var:yuan_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_2 #Player country quantity of yuan sell
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_2 #Player country quantity of yuan sell
					value  = var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_2
					value = scope:target.var:yuan_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to yuan_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_yuan_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:yuan_order = 3
				var:yuan_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_3 #Player country quantity of yuan sell
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_3 #Player country quantity of yuan sell
					value  = var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_3
					value = scope:target.var:yuan_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to yuan_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_yuan_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:yuan_order = 4
				var:yuan_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_4 #Player country quantity of yuan sell
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_4 #Player country quantity of yuan sell
					value  = var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_4
					value = scope:target.var:yuan_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to yuan_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_yuan_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:yuan_order = 5
				var:yuan_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_5 #Player country quantity of yuan sell
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_5 #Player country quantity of yuan sell
					value  = var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_5
					value = scope:target.var:yuan_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to yuan_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_yuan_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:yuan_order >= 5
			}
			set_variable = {
				name = yuan_order
				#Player country quantity of yuan sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_yuan_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:yuan_quantity < stockpiling_yuan_state
		player.central_bank_gold_reserves_state > buy_yuan_in_gold_market_panel
	}
}
sell_yuan_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:yuan_quantity < player.stockpiling_yuan_state
		central_bank_gold_reserves_state > sell_yuan_in_gold_market_panel
	}
}
yuan_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_yuan_state_1
					add = scope:player_country.var:yuan_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:yuan_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_yuan_state_1
						subtract = owner.var:yuan_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:yuan_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
yuan_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_yuan_state_1
					subtract = scope:player_country.var:yuan_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:yuan_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_yuan_state_1
						add = owner.var:yuan_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:yuan_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#yugoslav_dinar
yugoslav_dinar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = yugoslav_dinar_quantity
				#var:yugoslav_dinar_quantity < market.owner.stockpiling_yugoslav_dinar_state
				var:yugoslav_dinar_quantity < sell_limit_currency_var_rest
				var:yugoslav_dinar_quantity < 20000000
			}
			change_variable = {
				name = yugoslav_dinar_quantity
				add = 5000000
			}
		}
	}
}
yugoslav_dinar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = yugoslav_dinar_quantity
				var:yugoslav_dinar_quantity > 5000000
			}
			change_variable = {
				name = yugoslav_dinar_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_yugoslav_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_yugoslav_dinar_state > player.var:yugoslav_dinar_quantity

		money_supply_verification_yugoslav_dinar < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:yugoslav_dinar_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_yugoslav_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_yugoslav_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_yugoslav_dinar_state > player.var:yugoslav_dinar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_yugoslav_dinar_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_yugoslav_dinar_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_yugoslav_dinar_market_panel_verification_current = 1

	}
}
buy_yugoslav_dinar_market_panel = {
	is_shown = {
		var:yugoslav_dinar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = yugoslav_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:yugoslav_dinar_order = 1
				var:yugoslav_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_1 #Player country quantity of yugoslav_dinar buy
					value  = scope:player_country.var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yugoslav_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yugoslav_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_buy_1 #Player country quantity of yugoslav_dinar buy
					value  = var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:yugoslav_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to yugoslav_dinar_suply
				set_variable = {
					name = yugoslav_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yugoslav_dinar_quantity
							multiply = var:yugoslav_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_yugoslav_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yugoslav_dinar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:yugoslav_dinar_order = 2
				var:yugoslav_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_2 #Player country quantity of yugoslav_dinar buy
					value  = scope:player_country.var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yugoslav_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yugoslav_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_buy_2 #Player country quantity of yugoslav_dinar buy
					value  = var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:yugoslav_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to yugoslav_dinar_suply
				set_variable = {
					name = yugoslav_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yugoslav_dinar_quantity
							multiply = var:yugoslav_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_yugoslav_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yugoslav_dinar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:yugoslav_dinar_order = 3
				var:yugoslav_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_3 #Player country quantity of yugoslav_dinar buy
					value  = scope:player_country.var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yugoslav_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yugoslav_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_buy_3 #Player country quantity of yugoslav_dinar buy
					value  = var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:yugoslav_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to yugoslav_dinar_suply
				set_variable = {
					name = yugoslav_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yugoslav_dinar_quantity
							multiply = var:yugoslav_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_yugoslav_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yugoslav_dinar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:yugoslav_dinar_order = 4
				var:yugoslav_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_4 #Player country quantity of yugoslav_dinar buy
					value  = scope:player_country.var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yugoslav_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yugoslav_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_buy_4 #Player country quantity of yugoslav_dinar buy
					value  = var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:yugoslav_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to yugoslav_dinar_suply
				set_variable = {
					name = yugoslav_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yugoslav_dinar_quantity
							multiply = var:yugoslav_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_yugoslav_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yugoslav_dinar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:yugoslav_dinar_order = 5
				var:yugoslav_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_5 #Player country quantity of yugoslav_dinar buy
					value  = scope:player_country.var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yugoslav_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yugoslav_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_buy_5 #Player country quantity of yugoslav_dinar buy
					value  = var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:yugoslav_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to yugoslav_dinar_suply
				set_variable = {
					name = yugoslav_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yugoslav_dinar_quantity
							multiply = var:yugoslav_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_yugoslav_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yugoslav_dinar_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:yugoslav_dinar_order >= 5
			}
			set_variable = {
				name = yugoslav_dinar_order
				#Player country quantity of yugoslav_dinar buy
				value  = 0
			}
		}
	}
}
sell_yugoslav_dinar_market_panel = {
	is_shown = {
		var:yugoslav_dinar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = yugoslav_dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:yugoslav_dinar_order = 1
				var:yugoslav_dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_1 #Player country quantity of yugoslav_dinar sell
					value  = scope:player_country.var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yugoslav_dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yugoslav_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_1 #Player country quantity of yugoslav_dinar sell
					value  = var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:yugoslav_dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to yugoslav_dinar_suply
				set_variable = {
					name = yugoslav_dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yugoslav_dinar_quantity
							multiply = var:yugoslav_dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_yugoslav_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yugoslav_dinar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:yugoslav_dinar_order = 2
				var:yugoslav_dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_2 #Player country quantity of yugoslav_dinar sell
					value  = scope:player_country.var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yugoslav_dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yugoslav_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_2 #Player country quantity of yugoslav_dinar sell
					value  = var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:yugoslav_dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to yugoslav_dinar_suply
				set_variable = {
					name = yugoslav_dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yugoslav_dinar_quantity
							multiply = var:yugoslav_dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_yugoslav_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yugoslav_dinar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:yugoslav_dinar_order = 3
				var:yugoslav_dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_3 #Player country quantity of yugoslav_dinar sell
					value  = scope:player_country.var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yugoslav_dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yugoslav_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_3 #Player country quantity of yugoslav_dinar sell
					value  = var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:yugoslav_dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to yugoslav_dinar_suply
				set_variable = {
					name = yugoslav_dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yugoslav_dinar_quantity
							multiply = var:yugoslav_dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_yugoslav_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yugoslav_dinar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:yugoslav_dinar_order = 4
				var:yugoslav_dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_4 #Player country quantity of yugoslav_dinar sell
					value  = scope:player_country.var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yugoslav_dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yugoslav_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_4 #Player country quantity of yugoslav_dinar sell
					value  = var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:yugoslav_dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to yugoslav_dinar_suply
				set_variable = {
					name = yugoslav_dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yugoslav_dinar_quantity
							multiply = var:yugoslav_dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_yugoslav_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yugoslav_dinar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:yugoslav_dinar_order = 5
				var:yugoslav_dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_5 #Player country quantity of yugoslav_dinar sell
					value  = scope:player_country.var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = yugoslav_dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yugoslav_dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yugoslav_dinar_sell_5 #Player country quantity of yugoslav_dinar sell
					value  = var:yugoslav_dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = yugoslav_dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:yugoslav_dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to yugoslav_dinar_suply
				set_variable = {
					name = yugoslav_dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yugoslav_dinar_quantity
							multiply = var:yugoslav_dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_yugoslav_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yugoslav_dinar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:yugoslav_dinar_order >= 5
			}
			set_variable = {
				name = yugoslav_dinar_order
				#Player country quantity of yugoslav_dinar sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_yugoslav_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:yugoslav_dinar_quantity < stockpiling_yugoslav_dinar_state
		player.central_bank_gold_reserves_state > buy_yugoslav_dinar_in_gold_market_panel
	}
}
sell_yugoslav_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:yugoslav_dinar_quantity < player.stockpiling_yugoslav_dinar_state
		central_bank_gold_reserves_state > sell_yugoslav_dinar_in_gold_market_panel
	}
}
yugoslav_dinar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_yugoslav_dinar_state_1
					add = scope:player_country.var:yugoslav_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:yugoslav_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_yugoslav_dinar_state_1
						subtract = owner.var:yugoslav_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:yugoslav_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
yugoslav_dinar_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_yugoslav_dinar_state_1
					subtract = scope:player_country.var:yugoslav_dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:yugoslav_dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_yugoslav_dinar_state_1
						add = owner.var:yugoslav_dinar_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:yugoslav_dinar_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
############################################################################################################################################################
#zloti
zloti_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = zloti_quantity
				#var:zloti_quantity < market.owner.stockpiling_zloti_state
				var:zloti_quantity < sell_limit_currency_var_rest
				var:zloti_quantity < 20000000
			}
			change_variable = {
				name = zloti_quantity
				add = 5000000
			}
		}
	}
}
zloti_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = zloti_quantity
				var:zloti_quantity > 5000000
			}
			change_variable = {
				name = zloti_quantity
				subtract = 5000000
			}
		}
	}
}

#in_currency
buy_zloti_market_panel_enabled = {
	is_valid = {
		stockpiling_zloti_state > player.var:zloti_quantity

		money_supply_verification_zloti < player.money_supply_state #verifi avec les odre en cour + la quantité actuel désirée que la reserve actuel du joueur soit suffisante
		player.var:zloti_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0 #verifit si la limite fixe est inferieur à la quantité demander de devise etrangère
		sell_limit_currency_var_current < player.sell_limit_currency_var_0 #verification de si le total de devise etrangère demander est inferieur à la limite de par exemple 100M
		not = {
			player.buy_zloti_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
	}
}
sell_zloti_market_panel_enabled = {
	is_valid = {
		stockpiling_zloti_state > player.var:zloti_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_zloti_order_valid = 0
			# player = {
			# 	has_modifier = foreign_exchange_controls
			# }
		}
		sell_zloti_market_panel_verification = 1 #cella verifit la quantité de currency du joueur détenue par le pays ciblé mais uniquement une fois que l'odre est passé
		sell_zloti_market_panel_verification_current = 1

	}
}
buy_zloti_market_panel = {
	is_shown = {
		var:zloti_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = zloti_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:zloti_order = 1
				var:zloti_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_1 #Player country quantity of zloti buy
					value  = scope:player_country.var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = zloti_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:zloti_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = zloti_buy_1 #Player country quantity of zloti buy
					value  = var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_1
					value = scope:target.var:zloti_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to zloti_suply
				set_variable = {
					name = zloti_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:zloti_quantity
							multiply = var:zloti_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_zloti_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_zloti_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:zloti_order = 2
				var:zloti_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_2 #Player country quantity of zloti buy
					value  = scope:player_country.var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = zloti_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:zloti_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = zloti_buy_2 #Player country quantity of zloti buy
					value  = var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_2
					value = scope:target.var:zloti_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to zloti_suply
				set_variable = {
					name = zloti_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:zloti_quantity
							multiply = var:zloti_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_zloti_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_zloti_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:zloti_order = 3
				var:zloti_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_3 #Player country quantity of zloti buy
					value  = scope:player_country.var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = zloti_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:zloti_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = zloti_buy_3 #Player country quantity of zloti buy
					value  = var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_3
					value = scope:target.var:zloti_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to zloti_suply
				set_variable = {
					name = zloti_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:zloti_quantity
							multiply = var:zloti_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_zloti_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_zloti_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:zloti_order = 4
				var:zloti_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_4 #Player country quantity of zloti buy
					value  = scope:player_country.var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = zloti_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:zloti_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = zloti_buy_4 #Player country quantity of zloti buy
					value  = var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_4
					value = scope:target.var:zloti_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to zloti_suply
				set_variable = {
					name = zloti_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:zloti_quantity
							multiply = var:zloti_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_zloti_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_zloti_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:zloti_order = 5
				var:zloti_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_5 #Player country quantity of zloti buy
					value  = scope:player_country.var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = zloti_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:zloti_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = zloti_buy_5 #Player country quantity of zloti buy
					value  = var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_5
					value = scope:target.var:zloti_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to zloti_suply
				set_variable = {
					name = zloti_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:zloti_quantity
							multiply = var:zloti_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_zloti_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_zloti_buy_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:zloti_order >= 5
			}
			set_variable = {
				name = zloti_order
				#Player country quantity of zloti buy
				value  = 0
			}
		}
	}
}
sell_zloti_market_panel = {
	is_shown = {
		var:zloti_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = zloti_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:zloti_order = 1
				var:zloti_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_1 #Player country quantity of zloti sell
					value  = scope:player_country.var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = zloti_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:zloti_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_1 #Player country quantity of zloti sell
					value  = var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_1
					value = scope:target.var:zloti_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to zloti_suply
				set_variable = {
					name = zloti_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:zloti_quantity
							multiply = var:zloti_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_zloti_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_zloti_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:zloti_order = 2
				var:zloti_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_2 #Player country quantity of zloti sell
					value  = scope:player_country.var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = zloti_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:zloti_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_2 #Player country quantity of zloti sell
					value  = var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_2
					value = scope:target.var:zloti_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to zloti_suply
				set_variable = {
					name = zloti_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:zloti_quantity
							multiply = var:zloti_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_zloti_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_zloti_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:zloti_order = 3
				var:zloti_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_3 #Player country quantity of zloti sell
					value  = scope:player_country.var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = zloti_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:zloti_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_3 #Player country quantity of zloti sell
					value  = var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_3
					value = scope:target.var:zloti_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to zloti_suply
				set_variable = {
					name = zloti_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:zloti_quantity
							multiply = var:zloti_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_zloti_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_zloti_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:zloti_order = 4
				var:zloti_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_4 #Player country quantity of zloti sell
					value  = scope:player_country.var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = zloti_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:zloti_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_4 #Player country quantity of zloti sell
					value  = var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_4
					value = scope:target.var:zloti_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to zloti_suply
				set_variable = {
					name = zloti_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:zloti_quantity
							multiply = var:zloti_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_zloti_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_zloti_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:zloti_order = 5
				var:zloti_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_5 #Player country quantity of zloti sell
					value  = scope:player_country.var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation
					}
				}

				set_variable = {
					name = zloti_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:zloti_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = zloti_sell_5 #Player country quantity of zloti sell
					value  = var:zloti_quantity
				}

				#exchange rate
				set_variable = {
					name = zloti_to_player_currency_exchange_rate_5
					value = scope:target.var:zloti_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to zloti_suply
				set_variable = {
					name = zloti_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:zloti_quantity
							multiply = var:zloti_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_zloti_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_zloti_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:zloti_order >= 5
			}
			set_variable = {
				name = zloti_order
				#Player country quantity of zloti sell
				value  = 0
			}
		}
	}
}

#in_gold
buy_zloti_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:zloti_quantity < stockpiling_zloti_state
		player.central_bank_gold_reserves_state > buy_zloti_in_gold_market_panel
	}
}
sell_zloti_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:zloti_quantity < player.stockpiling_zloti_state
		central_bank_gold_reserves_state > sell_zloti_in_gold_market_panel
	}
}
zloti_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_zloti_state_1
					add = scope:player_country.var:zloti_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:zloti_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_zloti_state_1
						subtract = owner.var:zloti_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						add = {
							value = scope:player_country.var:zloti_quantity
							multiply = scope:target.money_value_rapported_inflation
						}

					}
				}
			}
		}
	}
}
zloti_buy_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_zloti_state_1
					subtract = scope:player_country.var:zloti_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = { #subtract
						value = scope:player_country.var:zloti_quantity
						multiply = owner.money_value_rapported_inflation
					}
				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_zloti_state_1
						add = owner.var:zloti_quantity
					}
					change_variable = {
						name = central_bank_gold_reserves_state_1
						subtract = { #subtract
							value = scope:player_country.var:zloti_quantity
							multiply = scope:target.money_value_rapported_inflation

						}
					}
				}
			}
		}
	}
}
############################################################################################################################################################
#end_tag_9
