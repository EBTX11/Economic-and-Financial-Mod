##########################################################################################################################
##########################################################################################################################
##########################################################################################################################
#############################################OPEN GENERAL TEST############################################################

Open_Test_Decision = {
	is_shown = {
		NOT = { has_variable = openTestDecision_variable }
	}
	possible = {
	}

	ai_chance = {
		base = 0
    }
	when_taken = {
		set_variable = openTestDecision_variable
	}
}
Close_Test_Decison = {
	is_shown = {
		has_variable = openTestDecision_variable
	}

	possible = {

	}

	ai_chance = {
		base = 0
    }
	when_taken = {
		remove_variable = openTestDecision_variable
	}
}

##########################################################################################################################
##########################################################################################################################
##########################################################################################################################
#############################################TEST CHOISE#################################################################

Test_event_1 = {
	is_shown = {
		has_variable = openTestDecision_variable
		
	}

	possible = {
	}

	ai_chance = {
		base = 0
    }

	when_taken = {	 
			remove_modifier = speculative_bubble_modifier
			add_modifier = {
				name = speculative_bubble_modifier 
			}
			remove_modifier = speculative_bubble_character_modifier
			add_modifier = {
				name = speculative_bubble_character_modifier 
			}
			remove_modifier = overbuilt_economy_modifier
			add_modifier = {
				name = overbuilt_economy_modifier 
			}


 
			remove_modifier = speculative_share_modifier_1
			add_modifier = {
				name = speculative_share_modifier_1 
			}
			remove_modifier = speculative_share_modifier_2
			add_modifier = {
				name = speculative_share_modifier_2 
			}
			remove_modifier = speculative_share_modifier_3
			add_modifier = {
				name = speculative_share_modifier_3 
			}
			remove_modifier = speculative_share_modifier_4
			add_modifier = {
				name = speculative_share_modifier_4 
			}
			remove_modifier = speculative_share_modifier_5
			add_modifier = {
				name = speculative_share_modifier_5 
			}
			remove_modifier = speculative_share_modifier_6
			add_modifier = {
				name = speculative_share_modifier_6 
			}  
	}
}

Test_event_2 = {
	is_shown = {
		has_variable = openTestDecision_variable
		
	}

	possible = {
	}

	ai_chance = {
		base = 0
    }

	when_taken = {
		
        random_list = {
			1 = { 
				random_scope_state = {
					limit = {	
						is_coastal = yes
				 		is_incorporated = yes
						not = {
							has_building = building_naval_fort
						} 
					} 
					create_building = {
						building = building_naval_fort
						level = 1
					}
				}
			}
			1 = { 
				random_scope_state = {
					limit ={
						any_scope_building = {
							is_building_type = building_naval_fort
							level = 1
						} 
						is_coastal = yes
				 		is_incorporated = yes
					}
					create_building = {
						building = building_naval_fort
						level = 2
					}
				}
			}
			1 = { 
				random_scope_state = {
					limit ={
						any_scope_building = {
							is_building_type = building_naval_fort
							level = 2
						} 
						is_coastal = yes
				 		is_incorporated = yes
					}
					create_building = {
						building = building_naval_fort
						level = 3
					}
				}
			}
			1 = { 
				random_scope_state = {
					limit ={
						any_scope_building = {
							is_building_type = building_naval_fort
							level = 3
						} 
						is_coastal = yes
				 		is_incorporated = yes
					}
					if = {
						building = building_naval_fort
						level = 4
					}
				}
			}
			1 = { 
				random_scope_state = {
					limit ={
						any_scope_building = {
							is_building_type = building_naval_fort
							level = 4
						} 
						is_coastal = yes
				 		is_incorporated = yes
					}
					create_building = {
						building = building_naval_fort
						level = 5
					}
				}
			}
		}
	}
}

Test_event_3 = {
	is_shown = {
		has_variable = openTestDecision_variable
		
	}

	possible = {
	}

	ai_chance = {
		base = 0
    }

	when_taken = {
		
		set_variable = {
			name = central_bank_bankruptcy
			value = 0
		}
	}
}

Test_event_4 = {
	is_shown = {
		has_variable = openTestDecision_variable
		
	}

	possible = {
	}

	ai_chance = {
		base = 0
    }

	when_taken = {
		trigger_event = {
			id = test_2.4
			days = 0
			popup = no
		}
	}
}

Test_event_5 = {
	is_shown = {
		has_variable = openTestDecision_variable
		
	}

	possible = {
	}

	ai_chance = {
		base = 0
    }

	when_taken = {
		every_country = {
			trigger_event = {
				id = ef_new_var_in_game.1
				days = 0
				popup = no
			}
		}
	}
}