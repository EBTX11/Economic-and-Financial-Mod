stockpiling_central_bank_gold_reserves_state_transfert = {
	effect = {
		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				save_scope_as = central_bank_site_capital
			}
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = no
				}
				save_scope_as = central_bank_site_no_capital
			}

			#actual Capital
			scope:central_bank_site_capital = {

				#gold
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:central_bank_gold_reserves_state_1
						}
					}
				}

				#Financial product
				change_variable = {
					name = stockpiling_bond_var_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_bond_var_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_company_stock_var_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_company_stock_var_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_mining_stock_var_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_mining_stock_var_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_railroad_stock_var_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_railroad_stock_var_state_1
						}
					}
				}

				#Goods
				change_variable = {
					name = stockpiling_grain_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_grain_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_wood_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_wood_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_coal_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_coal_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_iron_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_iron_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_sulfur_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_sulfur_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_lead_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_lead_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_oil_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_oil_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_dye_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_dye_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_silk_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_silk_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_rubber_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_rubber_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_ammunition_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_ammunition_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_small_arms_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_small_arms_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_artillery_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_artillery_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_tanks_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_tanks_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_aeroplanes_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_aeroplanes_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_manowars_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_manowars_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_ironclads_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_ironclads_state_1
						}
					}
				}

				#Currency
				change_variable = {
					name = stockpiling_money_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_money_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_franc_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_franc_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_dollar_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_dollar_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_mark_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_mark_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_sterling_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_sterling_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_real_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_real_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_gulden_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_gulden_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_yuan_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_yuan_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_rupee_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_rupee_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_yen_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_yen_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_peseta_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_peseta_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_ottoman_lira_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_ottoman_lira_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_lira_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_lira_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_peso_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_peso_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_rouble_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_rouble_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_swiss_franc_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_swiss_franc_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_belgian_franc_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_belgian_franc_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_florin_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_florin_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_brazilian_real_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_brazilian_real_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_dinar_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_dinar_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_krone_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_krone_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_leu_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_leu_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_drachma_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_drachma_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_bath_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_bath_state_1
						}
					}
				}
				change_variable = {
					name = stockpiling_qiran_state_1
					add = {
						scope:central_bank_site_no_capital = {
							add = var:stockpiling_qiran_state_1
						}
					}
				}
			}

			#actual Capital
			scope:central_bank_site_no_capital = {
				#gold
				set_variable = {
					name = central_bank_gold_reserves_state_1
					value = 0
				}

				#financial product
				set_variable = {
					name = stockpiling_bond_var_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_company_stock_var_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_mining_stock_var_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_railroad_stock_var_state_1
					value = 0
				}

				#goods
				set_variable = {
					name = stockpiling_grain_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_wood_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_coal_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_iron_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_sulfur_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_lead_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_oil_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_dye_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_silk_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_rubber_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_ammunition_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_small_arms_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_artillery_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_tanks_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_aeroplanes_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_manowars_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_ironclads_state_1
					value = 0
				}

				#Currency
				set_variable = {
					name = stockpiling_money_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_franc_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_dollar_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_mark_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_sterling_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_real_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_gulden_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_yuan_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_rupee_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_yen_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_peseta_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_ottoman_lira_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_lira_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_peso_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_rouble_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_swiss_franc_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_belgian_franc_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_florin_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_brazilian_real_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_dinar_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_krone_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_leu_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_drachma_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_bath_state_1
					value = 0
				}
				set_variable = {
					name = stockpiling_qiran_state_1
					value = 0
				}

				remove_modifier = bank_central_place
				remove_modifier = bank_central_historic_place

				remove_modifier = financial_center_place
				remove_modifier =	financial_center_place_spe
				remove_modifier = financial_center_historic_place

				remove_modifier = national_stockpile_place
				remove_modifier = national_stockpile_historic_place

				add_modifier = {
					name = bank_central_place
					months = 1
				}
				add_modifier = {
					name = bank_central_historic_place
					months = 1
				}

				add_modifier = {
					name = financial_center_place
					months = 1
				}
				add_modifier = {
					name = financial_center_place_spe
					months = 1
				}
				add_modifier = {
					name = financial_center_historic_place
					months = 1
				}

				add_modifier = {
					name = national_stockpile_place
					months = 1
				}
				add_modifier = {
					name = national_stockpile_historic_place
					months = 1
				}
			}
		}
	}
}

looting_state_button = {
	is_shown = {
		has_modifier = bank_central_historic_place
		#devastation > 0.15 -> desactiver
		owner = {
			is_at_war = yes
			has_war_with = player
		}
	}
	is_valid = {
		owner = {
			is_at_war = yes
			has_war_with = player
		}
		player = {
			is_at_war = yes
			var:looting_1_year = 0
		}
	}
	effect = {
		every_scope_state = {
			every_country = {
				if  = {
					limit = {
						is_player = yes
					}
					set_variable  = {
						name = looting_1_year
						value = 1
					}
					every_scope_state = {
						limit = {
							has_modifier = bank_central_historic_place
							is_capital = yes
						}
						save_scope_as = central_bank_site_capital_player
					}
				}
			}

			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				save_scope_as = central_bank_site_no_capital_looted
			}

			#actual Capital
			scope:central_bank_site_capital_player = {
				#gold
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.central_bank_gold_reserves_state_25
						}
					}
				}

				#Goods
				change_variable = {
					name = stockpiling_grain_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_grain_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_wood_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_wood_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_coal_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_coal_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_iron_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_iron_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_sulfur_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_sulfur_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_lead_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_lead_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_oil_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_oil_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_dye_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_dye_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_silk_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_silk_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_rubber_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_rubber_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_ammunition_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_ammunition_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_small_arms_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_small_arms_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_artillery_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_artillery_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_tanks_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_tanks_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_aeroplanes_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_aeroplanes_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_manowars_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_manowars_state_1_25
						}
					}
				}
				change_variable = {
					name = stockpiling_ironclads_state_1
					add = {
						scope:central_bank_site_no_capital_looted = {
							add = owner.stockpiling_ironclads_state_1_25
						}
					}
				}
			}

			#actual Capital
			scope:central_bank_site_no_capital_looted = {
				#gold
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = owner.central_bank_gold_reserves_state_25
				}

				#goods
				change_variable = {
					name = stockpiling_grain_state_1
					subtract = owner.stockpiling_grain_state_1_25
				}

				change_variable = {
					name = stockpiling_wood_state_1
					subtract = owner.stockpiling_wood_state_1_25
				}

				change_variable = {
					name = stockpiling_coal_state_1
					subtract = owner.stockpiling_coal_state_1_25
				}

				change_variable = {
					name = stockpiling_iron_state_1
					subtract = owner.stockpiling_iron_state_1_25
				}

				change_variable = {
					name = stockpiling_sulfur_state_1
					subtract = owner.stockpiling_sulfur_state_1_25
				}

				change_variable = {
					name = stockpiling_lead_state_1
					subtract = owner.stockpiling_lead_state_1_25
				}

				change_variable = {
					name = stockpiling_oil_state_1
					subtract = owner.stockpiling_oil_state_1_25
				}

				change_variable = {
					name = stockpiling_dye_state_1
					subtract = owner.stockpiling_dye_state_1_25
				}

				change_variable = {
					name = stockpiling_silk_state_1
					subtract = owner.stockpiling_silk_state_1_25
				}

				change_variable = {
					name = stockpiling_rubber_state_1
					subtract = owner.stockpiling_rubber_state_1_25
				}

				change_variable = {
					name = stockpiling_ammunition_state_1
					subtract = owner.stockpiling_ammunition_state_1_25
				}

				change_variable = {
					name = stockpiling_small_arms_state_1
					subtract = owner.stockpiling_small_arms_state_1_25
				}

				change_variable = {
					name = stockpiling_artillery_state_1
					subtract = owner.stockpiling_artillery_state_1_25
				}

				change_variable = {
					name = stockpiling_tanks_state_1
					subtract = owner.stockpiling_tanks_state_1_25
				}

				change_variable = {
					name = stockpiling_aeroplanes_state_1
					subtract = owner.stockpiling_aeroplanes_state_1_25
				}

				change_variable = {
					name = stockpiling_manowars_state_1
					subtract = owner.stockpiling_manowars_state_1_25
				}

				change_variable = {
					name = stockpiling_ironclads_state_1
					subtract = owner.stockpiling_ironclads_state_1_25
				}
			}
		}
	}
}

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################



############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

money_as_state_currency = {
	is_shown = {
		has_modifier = money_as_state_currency
	}
}
franc_as_state_currency = {
	is_shown = {
		has_modifier = franc_as_state_currency
	}
}
dollar_as_state_currency = {
	is_shown = {
		has_modifier = dollar_as_state_currency
	}
}
franc_as_state_currency = {
	is_shown = {
		has_modifier = franc_as_state_currency
	}
}
mark_as_state_currency = {
	is_shown = {
		has_modifier = mark_as_state_currency
	}
}
sterling_as_state_currency = {
	is_shown = {
		has_modifier = sterling_as_state_currency
	}
}
real_as_state_currency = {
	is_shown = {
		has_modifier = real_as_state_currency
	}
}
gulden_as_state_currency = {
	is_shown = {
		has_modifier = gulden_as_state_currency
	}
}
yuan_as_state_currency = {
	is_shown = {
		has_modifier = yuan_as_state_currency
	}
}
rupee_as_state_currency = {
	is_shown = {
		has_modifier = rupee_as_state_currency
	}
}
yen_as_state_currency = {
	is_shown = {
		has_modifier = yen_as_state_currency
	}
}
peseta_as_state_currency = {
	is_shown = {
		has_modifier = peseta_as_state_currency
	}
}
ottoman_lira_as_state_currency = {
	is_shown = {
		has_modifier = ottoman_lira_as_state_currency
	}
}
lira_as_state_currency = {
	is_shown = {
		has_modifier = lira_as_state_currency
	}
}
peso_as_state_currency = {
	is_shown = {
		has_modifier = peso_as_state_currency
	}
}
rouble_as_state_currency = {
	is_shown = {
		has_modifier = rouble_as_state_currency
	}
}
swiss_franc_as_state_currency = {
	is_shown = {
		has_modifier = swiss_franc_as_state_currency
	}
}
belgian_franc_as_state_currency = {
	is_shown = {
		has_modifier = belgian_franc_as_state_currency
	}
}
florin_as_state_currency = {
	is_shown = {
		has_modifier = florin_as_state_currency
	}
}
brazilian_real_as_state_currency = {
	is_shown = {
		has_modifier = brazilian_real_as_state_currency
	}
}
dinar_as_state_currency = {
	is_shown = {
		has_modifier = dinar_as_state_currency
	}
}
krone_as_state_currency = {
	is_shown = {
		has_modifier = krone_as_state_currency
	}
}
leu_as_state_currency = {
	is_shown = {
		has_modifier = leu_as_state_currency
	}
}
drachma_as_state_currency = {
	is_shown = {
		has_modifier = drachma_as_state_currency
	}
}
bath_as_state_currency = {
	is_shown = {
		has_modifier = bath_as_state_currency
	}
}
qiran_as_state_currency = {
	is_shown = {
		has_modifier = qiran_as_state_currency
	}
}


############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################



############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

stockpiling_money_state_visibility = {
	is_shown = {
		var:stockpiling_money_state_1 > 0
	}
}
stockpiling_franc_state_visibility = {
	is_shown = {
		var:stockpiling_franc_state_1 > 0
	}
}
stockpiling_dollar_state_visibility = {
	is_shown = {
		var:stockpiling_dollar_state_1 > 0
	}
}
stockpiling_mark_state_visibility = {
	is_shown = {
		var:stockpiling_mark_state_1 > 0
	}
}
stockpiling_sterling_state_visibility = {
	is_shown = {
		var:stockpiling_sterling_state_1 > 0
	}
}
stockpiling_real_state_visibility = {
	is_shown = {
		var:stockpiling_real_state_1 > 0
	}
}
stockpiling_gulden_state_visibility = {
	is_shown = {
		var:stockpiling_gulden_state_1 > 0
	}
}
stockpiling_yuan_state_visibility = {
	is_shown = {
		var:stockpiling_yuan_state_1 > 0
	}
}
stockpiling_rupee_state_visibility = {
	is_shown = {
		var:stockpiling_rupee_state_1 > 0
	}
}
stockpiling_yen_state_visibility = {
	is_shown = {
		var:stockpiling_yen_state_1 > 0
	}
}
stockpiling_peseta_state_visibility = {
	is_shown = {
		var:stockpiling_peseta_state_1 > 0
	}
}
stockpiling_ottoman_lira_state_visibility = {
	is_shown = {
		var:stockpiling_ottoman_lira_state_1 > 0
	}
}
stockpiling_lira_state_visibility = {
	is_shown = {
		var:stockpiling_lira_state_1 > 0
	}
}
stockpiling_peso_state_visibility = {
	is_shown = {
		var:stockpiling_peso_state_1 > 0
	}
}
stockpiling_rouble_state_visibility = {
	is_shown = {
		var:stockpiling_rouble_state_1 > 0
	}
}
stockpiling_swiss_franc_state_visibility = {
	is_shown = {
		var:stockpiling_swiss_franc_state_1 > 0
	}
}
stockpiling_belgian_franc_state_visibility = {
	is_shown = {
		var:stockpiling_belgian_franc_state_1 > 0
	}
}
stockpiling_florin_state_visibility = {
	is_shown = {
		var:stockpiling_florin_state_1 > 0
	}
}
stockpiling_brazilian_real_state_visibility = {
	is_shown = {
		var:stockpiling_brazilian_real_state_1 > 0
	}
}
stockpiling_dinar_state_visibility = {
	is_shown = {
		var:stockpiling_dinar_state_1 > 0
	}
}
stockpiling_krone_state_visibility = {
	is_shown = {
		var:stockpiling_krone_state_1 > 0
	}
}
stockpiling_leu_state_visibility = {
	is_shown = {
		var:stockpiling_leu_state_1 > 0
	}
}
stockpiling_drachma_state_visibility = {
	is_shown = {
		var:stockpiling_drachma_state_1 > 0
	}
}
stockpiling_bath_state_visibility = {
	is_shown = {
		var:stockpiling_bath_state_1 > 0
	}
}
stockpiling_qiran_state_visibility = {
	is_shown = {
		var:stockpiling_qiran_state_1 > 0
	}
}

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################



############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

stockpiling_money_visibility = {
	is_shown = {
		stockpiling_money_state > 0
	}
}

stockpiling_franc_visibility = {
	is_shown = {
		stockpiling_franc_state > 0
	}
}
stockpiling_dollar_visibility = {
	is_shown = {
		stockpiling_dollar_state > 0
	}
}
stockpiling_mark_visibility = {
	is_shown = {
		stockpiling_mark_state > 0
	}
}
stockpiling_sterling_visibility = {
	is_shown = {
		stockpiling_sterling_state > 0
	}
}
stockpiling_real_visibility = {
	is_shown = {
		stockpiling_real_state > 0
	}
}
stockpiling_gulden_visibility = {
	is_shown = {
		stockpiling_gulden_state > 0
	}
}
stockpiling_yuan_visibility = {
	is_shown = {
		stockpiling_yuan_state > 0
	}
}
stockpiling_rupee_visibility = {
	is_shown = {
		stockpiling_rupee_state > 0
	}
}
stockpiling_yen_visibility = {
	is_shown = {
		stockpiling_yen_state > 0
	}
}
stockpiling_peseta_visibility = {
	is_shown = {
		stockpiling_peseta_state > 0
	}
}
stockpiling_ottoman_lira_visibility = {
	is_shown = {
		stockpiling_ottoman_lira_state > 0
	}
}
stockpiling_lira_visibility = {
	is_shown = {
		stockpiling_lira_state > 0
	}
}
stockpiling_peso_visibility = {
	is_shown = {
		stockpiling_peso_state > 0
	}
}
stockpiling_rouble_visibility = {
	is_shown = {
		stockpiling_rouble_state > 0
	}
}
stockpiling_swiss_franc_visibility = {
	is_shown = {
		stockpiling_swiss_franc_state > 0
	}
}
stockpiling_belgian_franc_visibility = {
	is_shown = {
		stockpiling_belgian_franc_state > 0
	}
}
stockpiling_florin_visibility = {
	is_shown = {
		stockpiling_florin_state > 0
	}
}
stockpiling_brazilian_real_visibility = {
	is_shown = {
		stockpiling_brazilian_real_state > 0
	}
}
stockpiling_dinar_visibility = {
	is_shown = {
		stockpiling_dinar_state > 0
	}
}
stockpiling_krone_visibility = {
	is_shown = {
		stockpiling_krone_state > 0
	}
}
stockpiling_leu_visibility = {
	is_shown = {
		stockpiling_leu_state > 0
	}
}
stockpiling_drachma_visibility = {
	is_shown = {
		stockpiling_drachma_state > 0
	}
}
stockpiling_bath_visibility = {
	is_shown = {
		stockpiling_bath_state > 0
	}
}
stockpiling_qiran_visibility = {
	is_shown = {
		stockpiling_qiran_state > 0
	}
}


############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################



############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

law_no_monetary_policy_visible = {
	is_shown = {
		has_law = law_type:law_no_market_liquidity
	}
}

law_money_currency_visible = {
	is_shown = {
		has_law = law_type:law_money_currency
	}
}
law_franc_currency_visible = {
	is_shown = {
		has_law = law_type:law_franc_currency
	}
}
law_dollar_currency_visible = {
	is_shown = {
		has_law = law_type:law_dollar_currency
	}
}
law_mark_currency_visible = {
	is_shown = {
		has_law = law_type:law_mark_currency
	}
}
law_sterling_currency_visible = {
	is_shown = {
		has_law = law_type:law_sterling_currency
	}
}
law_real_currency_visible = {
	is_shown = {
		has_law = law_type:law_real_currency
	}
}
law_gulden_currency_visible = {
	is_shown = {
		has_law = law_type:law_gulden_currency
	}
}
law_yuan_currency_visible = {
	is_shown = {
		has_law = law_type:law_yuan_currency
	}
}
law_rupee_currency_visible = {
	is_shown = {
		has_law = law_type:law_rupee_currency
	}
}
law_yen_currency_visible = {
	is_shown = {
		has_law = law_type:law_yen_currency
	}
}
law_peseta_currency_visible = {
	is_shown = {
		has_law = law_type:law_peseta_currency
	}
}
law_ottoman_lira_currency_visible = {
	is_shown = {
		has_law = law_type:law_ottoman_lira_currency
	}
}
law_lira_currency_visible = {
	is_shown = {
		has_law = law_type:law_lira_currency
	}
}
law_peso_currency_visible = {
	is_shown = {
		has_law = law_type:law_peso_currency
	}
}
law_rouble_currency_visible = {
	is_shown = {
		has_law = law_type:law_rouble_currency
	}
}
law_swiss_franc_currency_visible = {
	is_shown = {
		has_law = law_type:law_swiss_franc_currency
	}
}
law_belgian_franc_currency_visible = {
	is_shown = {
		has_law = law_type:law_belgian_franc_currency
	}
}
law_florin_currency_visible = {
	is_shown = {
		has_law = law_type:law_florin_currency
	}
}
law_brazilian_real_currency_visible = {
	is_shown = {
		has_law = law_type:law_brazilian_real_currency
	}
}
law_dinar_currency_visible = {
	is_shown = {
		has_law = law_type:law_dinar_currency
	}
}
law_krone_currency_visible = {
	is_shown = {
		has_law = law_type:law_krone_currency
	}
}
law_leu_currency_visible = {
	is_shown = {
		has_law = law_type:law_leu_currency
	}
}
law_drachma_currency_visible = {
	is_shown = {
		has_law = law_type:law_drachma_currency
	}
}
law_bath_currency_visible = {
	is_shown = {
		has_law = law_type:law_bath_currency
	}
}
law_qiran_currency_visible = {
	is_shown = {
		has_law = law_type:law_qiran_currency
	}
}

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################



############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

		money_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_money_currency
				or = {
					player.var:trade_money_var = 3
				}
			}
		}
		franc_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_franc_currency
				or = {
					player.var:trade_franc_var = 3
				}
			}
		}
		dollar_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_dollar_currency
				or = {
					player.var:trade_dollar_var = 3
				}
			}
		}
		mark_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_mark_currency
				or = {
					player.var:trade_mark_var = 3
				}
			}
		}
		sterling_currency_in_gold = {
			is_shown = {
			has_law = law_type:law_sterling_currency
				or = {
					player.var:trade_sterling_var = 3
				}
			}
		}
		real_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_real_currency
				or = {
					player.var:trade_real_var = 3
				}
			}
		}
		gulden_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_gulden_currency
				or = {
					player.var:trade_gulden_var = 3
				}
			}
		}
		yuan_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_yuan_currency
				or = {
					player.var:trade_yuan_var = 3
				}
			}
		}
		rupee_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_rupee_currency
				or = {
					player.var:trade_rupee_var = 3
				}
			}
		}
		yen_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_yen_currency
				or = {
					player.var:trade_yen_var = 3
				}
			}
		}
		peseta_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_peseta_currency
				or = {
					player.var:trade_peseta_var = 3
				}
			}
		}
		ottoman_lira_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_ottoman_lira_currency
				or = {
					player.var:trade_ottoman_lira_var = 3
				}
			}
		}
		lira_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_lira_currency
				or = {
					player.var:trade_lira_var = 3
				}
			}
		}
		peso_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_peso_currency
				or = {
					player.var:trade_peso_var = 3
				}
			}
		}
		rouble_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_rouble_currency
				or = {
					player.var:trade_rouble_var = 3
				}
			}
		}
		swiss_franc_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_swiss_franc_currency
				or = {
					player.var:trade_swiss_franc_var = 3
				}
			}
		}
		belgian_franc_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_belgian_franc_currency
				or = {
					player.var:trade_belgian_franc_var = 3
				}
			}
		}
		florin_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_florin_currency
				or = {
					player.var:trade_florin_var = 3
				}
			}
		}
		brazilian_real_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_brazilian_real_currency
				or = {
					player.var:trade_brazilian_real_var = 3
				}
			}
		}
		dinar_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_dinar_currency
				or = {
					player.var:trade_dinar_var = 3
				}
			}
		}
		krone_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_krone_currency
				or = {
					player.var:trade_krone_var = 3
				}
			}
		}
		leu_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_leu_currency
				or = {
					player.var:trade_leu_var = 3
				}
			}
		}
		drachma_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_drachma_currency
				or = {
					player.var:trade_drachma_var = 3
				}
			}
		}
		bath_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_bath_currency
				or = {
					player.var:trade_bath_var = 3
				}
			}
		}
		qiran_currency_in_gold = {
			is_shown = {
				has_law = law_type:law_qiran_currency
				or = {
					player.var:trade_qiran_var = 3
				}
			}
		}


############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################



############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

		law_money_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_money_state > 0
				}
			}
		}
		law_franc_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_franc_state > 0
				}
			}
		}
		law_dollar_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_dollar_state > 0
				}
			}
		}
		law_mark_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_mark_state > 0
				}
			}
		}
		law_sterling_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_sterling_state > 0
				}
			}
		}
		law_real_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_real_state > 0
				}
			}
		}
		law_gulden_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_gulden_state > 0
				}
			}
		}
		law_yuan_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_yuan_state > 0
				}
			}
		}
		law_rupee_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_rupee_state > 0
				}
			}
		}
		law_yen_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_yen_state > 0
				}
			}
		}
		law_peseta_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_peseta_state > 0
				}
			}
		}
		law_ottoman_lira_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_ottoman_lira_state > 0
				}
			}
		}
		law_lira_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_lira_state > 0
				}
			}
		}
		law_peso_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_peso_state > 0
				}
			}
		}
		law_rouble_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_rouble_state > 0
				}
			}
		}
		law_swiss_franc_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_swiss_franc_state > 0
				}
			}
		}
		law_belgian_franc_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_belgian_franc_state > 0
				}
			}
		}
		law_florin_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_florin_state > 0
				}
			}
		}
		law_brazilian_real_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_brazilian_real_state > 0
				}
			}
		}
		law_dinar_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_dinar_state > 0
				}
			}
		}
		law_krone_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_krone_state > 0
				}
			}
		}
		law_leu_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_leu_state > 0
				}
			}
		}
		law_drachma_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_drachma_state > 0
				}
			}
		}
		law_bath_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_bath_state > 0
				}
			}
		}
		law_qiran_currency_stockpiling_visible = {
			is_shown = {
				or = {
					stockpiling_qiran_state > 0
				}
			}
		}



############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

#  ██████╗███████╗███╗   ██╗████████╗██████╗  █████╗ ██╗             ██████╗  █████╗ ███╗   ██╗██╗  ██╗         ██████╗  ██████╗ ██╗     ██████╗         ██████╗ ███████╗███████╗███████╗██████╗ ██╗   ██╗███████╗███████╗        ███████╗████████╗ █████╗ ████████╗███████╗     ████████╗██████╗  █████╗
# ██╔════╝██╔════╝████╗  ██║╚══██╔══╝██╔══██╗██╔══██╗██║             ██╔══██╗██╔══██╗████╗  ██║██║ ██╔╝        ██╔════╝ ██╔═══██╗██║     ██╔══██╗        ██╔══██╗██╔════╝██╔════╝██╔════╝██╔══██╗██║   ██║██╔════╝██╔════╝        ██╔════╝╚══██╔══╝██╔══██╗╚══██╔══╝██╔════╝     ╚══██╔══╝██╔══██╗██╔══██╗
# ██║     █████╗  ██╔██╗ ██║   ██║   ██████╔╝███████║██║             ██████╔╝███████║██╔██╗ ██║█████╔╝         ██║  ███╗██║   ██║██║     ██║  ██║        ██████╔╝█████╗  ███████╗█████╗  ██████╔╝██║   ██║█████╗  ███████╗        ███████╗   ██║   ███████║   ██║   █████╗          ██║   ██████╔╝███████║
# ██║     ██╔══╝  ██║╚██╗██║   ██║   ██╔══██╗██╔══██║██║             ██╔══██╗██╔══██║██║╚██╗██║██╔═██╗         ██║   ██║██║   ██║██║     ██║  ██║        ██╔══██╗██╔══╝  ╚════██║██╔══╝  ██╔══██╗╚██╗ ██╔╝██╔══╝  ╚════██║        ╚════██║   ██║   ██╔══██║   ██║   ██╔══╝          ██║   ██╔══██╗██╔══██║
# ╚██████╗███████╗██║ ╚████║   ██║   ██║  ██║██║  ██║███████╗███████╗██████╔╝██║  ██║██║ ╚████║██║  ██╗███████╗╚██████╔╝╚██████╔╝███████╗██████╔╝███████╗██║  ██║███████╗███████║███████╗██║  ██║ ╚████╔╝ ███████╗███████║███████╗███████║   ██║   ██║  ██║   ██║   ███████╗███████╗██║   ██║  ██║██║  ██║
#  ╚═════╝╚══════╝╚═╝  ╚═══╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═══╝╚═╝  ╚═╝╚══════╝ ╚═════╝  ╚═════╝ ╚══════╝╚═════╝ ╚══════╝╚═╝  ╚═╝╚══════╝╚══════╝╚══════╝╚═╝  ╚═╝  ╚═══╝  ╚══════╝╚══════╝╚══════╝╚══════╝   ╚═╝   ╚═╝  ╚═╝   ╚═╝   ╚══════╝╚══════╝╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝
#
# ███╗   ██╗███████╗███████╗███████╗██████╗ ████████╗     ███████╗████████╗ █████╗ ████████╗███████╗         ██████╗ ██╗    ██╗███╗   ██╗███████╗██████╗
# ████╗  ██║██╔════╝██╔════╝██╔════╝██╔══██╗╚══██╔══╝     ██╔════╝╚══██╔══╝██╔══██╗╚══██╔══╝██╔════╝        ██╔═══██╗██║    ██║████╗  ██║██╔════╝██╔══██╗
# ██╔██╗ ██║███████╗█████╗  █████╗  ██████╔╝   ██║        ███████╗   ██║   ███████║   ██║   █████╗          ██║   ██║██║ █╗ ██║██╔██╗ ██║█████╗  ██████╔╝
# ██║╚██╗██║╚════██║██╔══╝  ██╔══╝  ██╔══██╗   ██║        ╚════██║   ██║   ██╔══██║   ██║   ██╔══╝          ██║   ██║██║███╗██║██║╚██╗██║██╔══╝  ██╔══██╗
# ██║ ╚████║███████║██║     ███████╗██║  ██║   ██║███████╗███████║   ██║   ██║  ██║   ██║   ███████╗███████╗╚██████╔╝╚███╔███╔╝██║ ╚████║███████╗██║  ██║
# ╚═╝  ╚═══╝╚══════╝╚═╝     ╚══════╝╚═╝  ╚═╝   ╚═╝╚══════╝╚══════╝   ╚═╝   ╚═╝  ╚═╝   ╚═╝   ╚══════╝╚══════╝ ╚═════╝  ╚══╝╚══╝ ╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

central_bank_gold_reserves_state_transfert_state_owner = {
	is_valid = {
		owner = player
		is_capital = no
	}
}

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

# ███╗   ███╗ ██████╗ ██████╗ ██╗███████╗██╗███████╗██████╗          ██████╗██╗   ██╗██████╗ ██████╗ ███████╗███╗   ██╗ ██████╗██╗   ██╗    ██╗   ██╗ █████╗ ██╗     ██╗   ██╗███████╗        ██╗███╗   ██╗███████╗██╗      █████╗ ████████╗██╗ ██████╗ ███╗   ██╗
# ████╗ ████║██╔═══██╗██╔══██╗██║██╔════╝██║██╔════╝██╔══██╗        ██╔════╝██║   ██║██╔══██╗██╔══██╗██╔════╝████╗  ██║██╔════╝╚██╗ ██╔╝    ██║   ██║██╔══██╗██║     ██║   ██║██╔════╝        ██║████╗  ██║██╔════╝██║     ██╔══██╗╚══██╔══╝██║██╔═══██╗████╗  ██║
# ██╔████╔██║██║   ██║██║  ██║██║█████╗  ██║█████╗  ██████╔╝        ██║     ██║   ██║██████╔╝██████╔╝█████╗  ██╔██╗ ██║██║      ╚████╔╝     ██║   ██║███████║██║     ██║   ██║█████╗          ██║██╔██╗ ██║█████╗  ██║     ███████║   ██║   ██║██║   ██║██╔██╗ ██║
# ██║╚██╔╝██║██║   ██║██║  ██║██║██╔══╝  ██║██╔══╝  ██╔══██╗        ██║     ██║   ██║██╔══██╗██╔══██╗██╔══╝  ██║╚██╗██║██║       ╚██╔╝      ╚██╗ ██╔╝██╔══██║██║     ██║   ██║██╔══╝          ██║██║╚██╗██║██╔══╝  ██║     ██╔══██║   ██║   ██║██║   ██║██║╚██╗██║
# ██║ ╚═╝ ██║╚██████╔╝██████╔╝██║██║     ██║███████╗██║  ██║███████╗╚██████╗╚██████╔╝██║  ██║██║  ██║███████╗██║ ╚████║╚██████╗   ██║███████╗╚████╔╝ ██║  ██║███████╗╚██████╔╝███████╗███████╗██║██║ ╚████║██║     ███████╗██║  ██║   ██║   ██║╚██████╔╝██║ ╚████║
# ╚═╝     ╚═╝ ╚═════╝ ╚═════╝ ╚═╝╚═╝     ╚═╝╚══════╝╚═╝  ╚═╝╚══════╝ ╚═════╝ ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═══╝ ╚═════╝   ╚═╝╚══════╝ ╚═══╝  ╚═╝  ╚═╝╚══════╝ ╚═════╝ ╚══════╝╚══════╝╚═╝╚═╝  ╚═══╝╚═╝     ╚══════╝╚═╝  ╚═╝   ╚═╝   ╚═╝ ╚═════╝ ╚═╝  ╚═══╝

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

modifier_currency_value = {
	effect = {
		if = {
			limit = {
				money_value > 0.00001
				money_value < 1
				Not = {
					has_modifier = strong_currency
				}
			}
			if = {
				limit = {
					has_modifier = has_central_bank
				}
				add_modifier = {
					name = weak_currency
					multiplier = var:month_weak_currency
				}
			}
			if = {
				limit = { #for countru no has_central_bank
					not = {
						has_modifier = has_central_bank
					}
				}
				add_modifier = {
					name = weak_currency
					multiplier = 1
				}
			}
			#set_variable = {
			#	name = month_strong_currency
			#	value = 0
			#}
		}
		if = {
			limit = {
				or = {
					country_rank = rank_value:great_power
					this = c:SWI
					this = c:NET
				}
				Not = {
					has_modifier = weak_currency
					money_value < 1
				}
			}
			add_modifier = {
				name = strong_currency
				multiplier = var:month_strong_currency
			}
			#set_variable = {
			#	name = month_weak_currency
			#	value = 0
			#}
		}
	}
}
modifier_inflation = {
	effect = {
		if = {
			limit = {
				inflation_value > 0.05
			}
			add_modifier = {
				name = inflation_country
				multiplier = inflation_value
			}
		}
		else_if = {
			limit = {
				inflation_value < -0.05
			}
			add_modifier = {
				name = deflation_country
				multiplier = inflation_value
			}
		}
	}
}

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

# ███╗   ███╗ ██████╗ ███╗   ██╗███████╗████████╗ █████╗ ██████╗ ██╗   ██╗    ██████╗  ██████╗ ██╗     ██╗ ██████╗██╗   ██╗
# ████╗ ████║██╔═══██╗████╗  ██║██╔════╝╚══██╔══╝██╔══██╗██╔══██╗╚██╗ ██╔╝    ██╔══██╗██╔═══██╗██║     ██║██╔════╝╚██╗ ██╔╝
# ██╔████╔██║██║   ██║██╔██╗ ██║█████╗     ██║   ███████║██████╔╝ ╚████╔╝     ██████╔╝██║   ██║██║     ██║██║      ╚████╔╝
# ██║╚██╔╝██║██║   ██║██║╚██╗██║██╔══╝     ██║   ██╔══██║██╔══██╗  ╚██╔╝      ██╔═══╝ ██║   ██║██║     ██║██║       ╚██╔╝
# ██║ ╚═╝ ██║╚██████╔╝██║ ╚████║███████╗   ██║   ██║  ██║██║  ██║   ██║       ██║     ╚██████╔╝███████╗██║╚██████╗   ██║
# ╚═╝     ╚═╝ ╚═════╝ ╚═╝  ╚═══╝╚══════╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝       ╚═╝      ╚═════╝ ╚══════╝╚═╝ ╚═════╝   ╚═╝

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

no_monetary_policy_0 = {
	is_shown = {
	}
	effect = {
		activate_law = law_type:law_no_monetary_policy
		random_scope_building = {
			limit = {
				is_building_group = bg_bank
			}
			remove_modifier = devaluation_currency_25
			remove_modifier = devaluation_currency_50
			remove_modifier = devaluation_currency_75
			remove_modifier = devaluation_currency_100
			remove_modifier = revaluation_currency_25
			remove_modifier = revaluation_currency_50
			remove_modifier = revaluation_currency_75
			remove_modifier = revaluation_currency_100
		}
	}
}

################################

################################

devaluation_currency_25 = {
	is_shown = {
	}
	is_valid = {
		has_modifier = has_central_bank
		NOT = {
			is_subject = yes
			is_subject_type = subject_type_customs_union
			is_subject_type = subject_type_protectorate
		}
	}
	effect = {
		activate_law = law_type:law_devaluation_25
		random_scope_building = {
			limit = {
				is_building_group = bg_bank
				not = {
					has_modifier = devaluation_currency_25
				}
			}
			add_modifier = {
				name = devaluation_currency_25
			}
			remove_modifier = devaluation_currency_50
			remove_modifier = devaluation_currency_75
			remove_modifier = devaluation_currency_100
			remove_modifier = revaluation_currency_25
			remove_modifier = revaluation_currency_50
			remove_modifier = revaluation_currency_75
			remove_modifier = revaluation_currency_100
		}
	}
}
devaluation_currency_50 = {
	is_shown = {
	}
	is_valid = {
		has_modifier = has_central_bank
		NOT = {
			is_subject = yes
			is_subject_type = subject_type_customs_union
			is_subject_type = subject_type_protectorate
		}
	}
	effect = {
		activate_law = law_type:law_devaluation_50
		random_scope_building = {
			limit = {
				is_building_group = bg_bank
				not = {
					has_modifier = devaluation_currency_50
				}
			}
			add_modifier = {
				name = devaluation_currency_50
			}
			remove_modifier = devaluation_currency_25
			remove_modifier = devaluation_currency_75
			remove_modifier = devaluation_currency_100
			remove_modifier = revaluation_currency_25
			remove_modifier = revaluation_currency_50
			remove_modifier = revaluation_currency_75
			remove_modifier = revaluation_currency_100
		}
	}
}
devaluation_currency_75 = {
	is_shown = {
	}
	is_valid = {
		always = no
		has_modifier = has_central_bank
		NOT = {
			is_subject = yes
			is_subject_type = subject_type_customs_union
			is_subject_type = subject_type_protectorate
		}
	}
	effect = {
		activate_law = law_type:law_devaluation_75
		random_scope_building = {
			limit = {
				is_building_group = bg_bank
				not = {
					has_modifier = devaluation_currency_75
				}
			}
			add_modifier = {
				name = devaluation_currency_75
			}
			remove_modifier = devaluation_currency_25
			remove_modifier = devaluation_currency_50
			remove_modifier = devaluation_currency_100
			remove_modifier = revaluation_currency_25
			remove_modifier = revaluation_currency_50
			remove_modifier = revaluation_currency_75
			remove_modifier = revaluation_currency_100
		}
	}
}
devaluation_currency_100 = {
	is_shown = {
	}
	is_valid = {
		always = no
		has_modifier = has_central_bank
		NOT = {
			is_subject = yes
			is_subject_type = subject_type_customs_union
			is_subject_type = subject_type_protectorate
		}
	}
	effect = {
		activate_law = law_type:law_devaluation_100
		random_scope_building = {
			limit = {
				is_building_group = bg_bank
				not = {
					has_modifier = devaluation_currency_100
				}
			}
			add_modifier = {
				name = devaluation_currency_100
			}
			remove_modifier = devaluation_currency_25
			remove_modifier = devaluation_currency_50
			remove_modifier = devaluation_currency_75
			remove_modifier = revaluation_currency_25
			remove_modifier = revaluation_currency_50
			remove_modifier = revaluation_currency_75
			remove_modifier = revaluation_currency_100
		}
	}
}
revaluation_currency_25 = {
	is_shown = {
	}
	is_valid = {
		has_modifier = has_central_bank
		NOT = {
			is_subject = yes
			is_subject_type = subject_type_customs_union
			is_subject_type = subject_type_protectorate
		}
	}
	effect = {
		activate_law = law_type:law_revaluation_25
		random_scope_building = {
			limit = {
				is_building_group = bg_bank
				not = {
					has_modifier = revaluation_currency_25
				}
			}
			add_modifier = {
				name = revaluation_currency_25
			}
			remove_modifier = devaluation_currency_25
			remove_modifier = devaluation_currency_50
			remove_modifier = devaluation_currency_75
			remove_modifier = devaluation_currency_100
			remove_modifier = revaluation_currency_50
			remove_modifier = revaluation_currency_75
			remove_modifier = revaluation_currency_100
		}
	}
}
revaluation_currency_50 = {
	is_shown = {
	}
	is_valid = {
		has_modifier = has_central_bank
		NOT = {
			is_subject = yes
			is_subject_type = subject_type_customs_union
			is_subject_type = subject_type_protectorate
		}
	}
	effect = {
		activate_law = law_type:law_revaluation_50
		random_scope_building = {
			limit = {
				is_building_group = bg_bank
				not = {
					has_modifier = revaluation_currency_50
				}
			}
			add_modifier = {
				name = revaluation_currency_50
			}
			remove_modifier = devaluation_currency_25
			remove_modifier = devaluation_currency_50
			remove_modifier = devaluation_currency_75
			remove_modifier = devaluation_currency_100
			remove_modifier = revaluation_currency_25
			remove_modifier = revaluation_currency_75
			remove_modifier = revaluation_currency_100
		}
	}
}
revaluation_currency_75 = {
	is_shown = {
	}
	is_valid = {
		always = no
		has_modifier = has_central_bank
		NOT = {
			is_subject = yes
			is_subject_type = subject_type_customs_union
			is_subject_type = subject_type_protectorate
		}
	}
	effect = {
		activate_law = law_type:law_revaluation_75
		random_scope_building = {
			limit = {
				is_building_group = bg_bank
				not = {
					has_modifier = revaluation_currency_75
				}
			}
			add_modifier = {
				name = revaluation_currency_75
			}
			remove_modifier = devaluation_currency_25
			remove_modifier = devaluation_currency_50
			remove_modifier = devaluation_currency_75
			remove_modifier = devaluation_currency_100
			remove_modifier = revaluation_currency_50
			remove_modifier = revaluation_currency_100
		}
	}
}
revaluation_currency_100 = {
	is_shown = {
	}
	is_valid = {
		always = no
		has_modifier = has_central_bank
		NOT = {
			is_subject = yes
			is_subject_type = subject_type_customs_union
			is_subject_type = subject_type_protectorate
		}
	}
	effect = {
		activate_law = law_type:law_revaluation_100
		random_scope_building = {
			limit = {
				is_building_group = bg_bank
				not = {
					has_modifier = revaluation_currency_100
				}
			}
			add_modifier = {
				name = revaluation_currency_100
			}
			remove_modifier = devaluation_currency_25
			remove_modifier = devaluation_currency_50
			remove_modifier = devaluation_currency_75
			remove_modifier = devaluation_currency_100
			remove_modifier = revaluation_currency_25
			remove_modifier = revaluation_currency_50
			remove_modifier = revaluation_currency_75
		}
	}
}

################################

################################

devaluation_currency_75_visible = {
	is_valid = {
		always = no
	}
}

devaluation_currency_100_visible = {
	is_valid = {
		always = no
	}
}

revaluation_currency_75_visible = {
	is_valid = {
		always = no
	}
}

revaluation_currency_100_visible = {
	is_valid = {
		always = no
	}
}

################################################################################################
################################################################################################
################################################################################################
################################################################################################

# ███╗   ███╗ ██████╗ ███╗   ██╗███████╗██╗   ██╗    ██╗   ██╗ █████╗ ██╗     ██╗   ██╗███████╗
# ████╗ ████║██╔═══██╗████╗  ██║██╔════╝╚██╗ ██╔╝    ██║   ██║██╔══██╗██║     ██║   ██║██╔════╝
# ██╔████╔██║██║   ██║██╔██╗ ██║█████╗   ╚████╔╝     ██║   ██║███████║██║     ██║   ██║█████╗
# ██║╚██╔╝██║██║   ██║██║╚██╗██║██╔══╝    ╚██╔╝      ╚██╗ ██╔╝██╔══██║██║     ██║   ██║██╔══╝
# ██║ ╚═╝ ██║╚██████╔╝██║ ╚████║███████╗   ██║        ╚████╔╝ ██║  ██║███████╗╚██████╔╝███████╗
# ╚═╝     ╚═╝ ╚═════╝ ╚═╝  ╚═══╝╚══════╝   ╚═╝         ╚═══╝  ╚═╝  ╚═╝╚══════╝ ╚═════╝ ╚══════╝
#
# ████████╗ █████╗ ██████╗  ██████╗ ███████╗████████╗
# ╚══██╔══╝██╔══██╗██╔══██╗██╔════╝ ██╔════╝╚══██╔══╝
#    ██║   ███████║██████╔╝██║  ███╗█████╗     ██║
#    ██║   ██╔══██║██╔══██╗██║   ██║██╔══╝     ██║
#    ██║   ██║  ██║██║  ██║╚██████╔╝███████╗   ██║
#    ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚══════╝   ╚═╝

################################################################################################
################################################################################################
################################################################################################
################################################################################################

money_value_target_increase = {
	is_shown = {
		#var:money_value_target <= 10
	}
	effect = {
		if = {
			limit = {
				has_variable = money_value_target_2
				#var:money_value_target_1 > 0.5
			}
			change_variable = {
				name = money_value_target_2
				add = 0.25
			}
		}
	}
}
money_value_target_reduce = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
				has_variable = money_value_target_2
				var:money_value_target_2 > 0.25
			}
			change_variable = {
				name = money_value_target_2
				subtract = 0.25
			}
		}
	}
}

set_money_value_target  = {
	is_valid = {
		not = {
			var:money_value_target_time = 1 
		}
	}
	effect = {
		set_variable = {
			name = money_value_target_1
			value = var:money_value_target_2
		}
		set_variable = {
			name = money_value_target_time
			value = 1
		}
	}
}

################################################################################################
################################################################################################
################################################################################################
################################################################################################

# ██████╗  █████╗ ██████╗ ██╗████████╗██╗   ██╗     ███████╗ ██████╗ █████╗ ██╗     ███████╗██████╗         ██████╗ ██╗   ██╗  ████████╗██╗  ██╗███████╗
# ██╔══██╗██╔══██╗██╔══██╗██║╚══██╔══╝╚██╗ ██╔╝     ██╔════╝██╔════╝██╔══██╗██║     ██╔════╝██╔══██╗        ██╔══██╗╚██╗ ██╔╝  ╚══██╔══╝██║  ██║██╔════╝
# ██████╔╝███████║██████╔╝██║   ██║    ╚████╔╝      ███████╗██║     ███████║██║     █████╗  ██║  ██║        ██████╔╝ ╚████╔╝      ██║   ███████║█████╗
# ██╔═══╝ ██╔══██║██╔══██╗██║   ██║     ╚██╔╝       ╚════██║██║     ██╔══██║██║     ██╔══╝  ██║  ██║        ██╔══██╗  ╚██╔╝       ██║   ██╔══██║██╔══╝
# ██║     ██║  ██║██║  ██║██║   ██║      ██║███████╗███████║╚██████╗██║  ██║███████╗███████╗██████╔╝███████╗██████╔╝   ██║███████╗██║   ██║  ██║███████╗
# ╚═╝     ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝   ╚═╝      ╚═╝╚══════╝╚══════╝ ╚═════╝╚═╝  ╚═╝╚══════╝╚══════╝╚═════╝ ╚══════╝╚═════╝    ╚═╝╚══════╝╚═╝   ╚═╝  ╚═╝╚══════╝
#
#          ██████╗ ██╗   ██╗███████╗██████╗ ██╗      ██████╗ ██████╗ ██████╗
#         ██╔═══██╗██║   ██║██╔════╝██╔══██╗██║     ██╔═══██╗██╔══██╗██╔══██╗
#         ██║   ██║██║   ██║█████╗  ██████╔╝██║     ██║   ██║██████╔╝██║  ██║
#         ██║   ██║╚██╗ ██╔╝██╔══╝  ██╔══██╗██║     ██║   ██║██╔══██╗██║  ██║
# ███████╗╚██████╔╝ ╚████╔╝ ███████╗██║  ██║███████╗╚██████╔╝██║  ██║██████╔╝
# ╚══════╝ ╚═════╝   ╚═══╝  ╚══════╝╚═╝  ╚═╝╚══════╝ ╚═════╝ ╚═╝  ╚═╝╚═════╝

################################################################################################
################################################################################################
################################################################################################
################################################################################################

is_subject_no = {
	is_shown = {
		or = {
			##is_subject = no
			NOT = {
				is_subject_type = subject_type_dominion
				is_subject_type = subject_type_customs_union
				is_subject_type = subject_type_protectorate
				is_subject_type = subject_type_puppet
				is_subject_type = subject_type_personal_union
				is_subject_type = subject_type_vassal
				is_subject_type = subject_type_tributary
			}
		}
	}
}

is_subject_yes = {
	is_shown = {
		or = {
			is_subject = yes
			is_subject_type = subject_type_dominion
			is_subject_type = subject_type_customs_union
			is_subject_type = subject_type_protectorate
			is_subject_type = subject_type_puppet
			is_subject_type = subject_type_personal_union
			is_subject_type = subject_type_vassal
			is_subject_type = subject_type_tributary
		}
	}
}

parity_scaled_by_the_overlord_1_enabled = {
	is_valid = {
		not = {
			parity_scaled_by_the_overlord = 1
		}
	}
}

parity_scaled_by_the_overlord_2_enabled = {
	is_valid = {
		not = {
			parity_scaled_by_the_overlord = 5
		}
	}
}

parity_scaled_by_the_overlord_3_enabled = {
	is_valid = {
		not = {
			parity_scaled_by_the_overlord = 10
		}
	}
}

parity_scaled_by_the_overlord_4_enabled = {
	is_valid = {
		not = {
			parity_scaled_by_the_overlord = 15
		}
	}
}

################################

################################

parity_scaled_by_the_overlord_increase = {
	is_shown = {
		#var:parity_scaled_by_the_overlord <= 10
	}
	effect = {
		if = {
			limit = {
				has_variable = parity_scaled_by_the_overlord
				var:parity_scaled_by_the_overlord <10

			}
			change_variable = {
				name = parity_scaled_by_the_overlord
				add = 1
			}
		}
	}
}
parity_scaled_by_the_overlord_reduce = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
				has_variable = parity_scaled_by_the_overlord
				var:parity_scaled_by_the_overlord >1

			}
			change_variable = {
				name = parity_scaled_by_the_overlord
				subtract = 1
			}
		}
	}
}

################################
#Supp
################################
parity_scaled_by_the_overlord_set_1 = {
	effect = {
		set_variable = {
			name = parity_scaled_by_the_overlord
			value = 1
		}
		#1
	}
}
parity_scaled_by_the_overlord_set_2 = {
	effect = {
		set_variable = {
			name = parity_scaled_by_the_overlord
			value = 2
		}
		#5
	}
}
parity_scaled_by_the_overlord_set_3 = {
	effect = {
		set_variable = {
			name = parity_scaled_by_the_overlord
			value = 3
		}
		#10
	}
}
parity_scaled_by_the_overlord_set_4 = {
	effect = {
		set_variable = {
			name = parity_scaled_by_the_overlord
			value = 4
		}
		#15
	}
}
################################
#Supp
################################

################################################################################################
################################################################################################
################################################################################################
################################################################################################

# ████████╗██████╗  █████╗ ███╗   ██╗███████╗███████╗███████╗██████╗          ██████╗  ██████╗ ██╗     ██████╗      ████████╗ ██████╗          ██████╗
# ╚══██╔══╝██╔══██╗██╔══██╗████╗  ██║██╔════╝██╔════╝██╔════╝██╔══██╗        ██╔════╝ ██╔═══██╗██║     ██╔══██╗     ╚══██╔══╝██╔═══██╗        ██╔════╝
#    ██║   ██████╔╝███████║██╔██╗ ██║███████╗█████╗  █████╗  ██████╔╝        ██║  ███╗██║   ██║██║     ██║  ██║        ██║   ██║   ██║        ██║
#    ██║   ██╔══██╗██╔══██║██║╚██╗██║╚════██║██╔══╝  ██╔══╝  ██╔══██╗        ██║   ██║██║   ██║██║     ██║  ██║        ██║   ██║   ██║        ██║
#    ██║   ██║  ██║██║  ██║██║ ╚████║███████║██║     ███████╗██║  ██║███████╗╚██████╔╝╚██████╔╝███████╗██████╔╝███████╗██║   ╚██████╔╝███████╗╚██████╗
#    ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝     ╚══════╝╚═╝  ╚═╝╚══════╝ ╚═════╝  ╚═════╝ ╚══════╝╚═════╝ ╚══════╝╚═╝    ╚═════╝ ╚══════╝ ╚═════╝
#
# ███████╗███╗   ██╗████████╗██████╗  █████╗ ██╗             ██████╗  █████╗ ███╗   ██╗██╗  ██╗         ██████╗  ██████╗ ██╗     ██████╗
# ██╔════╝████╗  ██║╚══██╔══╝██╔══██╗██╔══██╗██║             ██╔══██╗██╔══██╗████╗  ██║██║ ██╔╝        ██╔════╝ ██╔═══██╗██║     ██╔══██╗
# █████╗  ██╔██╗ ██║   ██║   ██████╔╝███████║██║             ██████╔╝███████║██╔██╗ ██║█████╔╝         ██║  ███╗██║   ██║██║     ██║  ██║
# ██╔══╝  ██║╚██╗██║   ██║   ██╔══██╗██╔══██║██║             ██╔══██╗██╔══██║██║╚██╗██║██╔═██╗         ██║   ██║██║   ██║██║     ██║  ██║
# ███████╗██║ ╚████║   ██║   ██║  ██║██║  ██║███████╗███████╗██████╔╝██║  ██║██║ ╚████║██║  ██╗███████╗╚██████╔╝╚██████╔╝███████╗██████╔╝███████╗
# ╚══════╝╚═╝  ╚═══╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═══╝╚═╝  ╚═╝╚══════╝ ╚═════╝  ╚═════╝ ╚══════╝╚═════╝ ╚══════╝
#
# ██████╗ ███████╗███████╗███████╗██████╗ ██╗   ██╗███████╗███████╗
# ██╔══██╗██╔════╝██╔════╝██╔════╝██╔══██╗██║   ██║██╔════╝██╔════╝
# ██████╔╝█████╗  ███████╗█████╗  ██████╔╝██║   ██║█████╗  ███████╗
# ██╔══██╗██╔══╝  ╚════██║██╔══╝  ██╔══██╗╚██╗ ██╔╝██╔══╝  ╚════██║
# ██║  ██║███████╗███████║███████╗██║  ██║ ╚████╔╝ ███████╗███████║
# ╚═╝  ╚═╝╚══════╝╚══════╝╚══════╝╚═╝  ╚═╝  ╚═══╝  ╚══════╝╚══════╝

################################################################################################
################################################################################################
################################################################################################
################################################################################################


transfer_gold_to_central_bank_gold_reserves_increase = {
	is_shown = {
		#var:transfer_gold_to_central_bank_gold_reserves <= 10
	}
	effect = {
		if = {
			limit = {
				has_variable = transfer_gold_to_central_bank_gold_reserves
				#var:transfer_gold_to_central_bank_gold_reserves <25000000
			}
			change_variable = {
				name = transfer_gold_to_central_bank_gold_reserves
				add = 25000000
			}
		}
	}
}
transfer_gold_to_central_bank_gold_reserves_reduce = {
	is_shown = {
	}
	effect = {
		if = {
			limit = {
				has_variable = transfer_gold_to_central_bank_gold_reserves
				var:transfer_gold_to_central_bank_gold_reserves > 25000000
			}
			change_variable = {
				name = transfer_gold_to_central_bank_gold_reserves
				subtract = 25000000
			}
		}
	}
}

################################

################################

transfer_gold_to_central_bank_gold_reserves = {
	effect = {
		add_treasury = {
			value = 0
			subtract = var:transfer_gold_to_central_bank_gold_reserves
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
					#is_homeland_of_country_cultures = ROOT
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					add = root.var:transfer_gold_to_central_bank_gold_reserves
				}

			}
		}
	}
}

################################

################################

transfer_gold_to_central_bank_gold_reserves_visible = {
	is_valid = {
		gold_reserves_var > var:transfer_gold_to_central_bank_gold_reserves
	}
}

################################################################################################
################################################################################################
################################################################################################
################################################################################################

# ███████╗ ██████╗ ██████╗ ███████╗██╗  ██╗        ███╗   ███╗ █████╗ ██████╗ ██╗  ██╗███████╗████████╗     ██████╗  █████╗ ███╗   ██╗███████╗██╗
# ██╔════╝██╔═══██╗██╔══██╗██╔════╝╚██╗██╔╝        ████╗ ████║██╔══██╗██╔══██╗██║ ██╔╝██╔════╝╚══██╔══╝     ██╔══██╗██╔══██╗████╗  ██║██╔════╝██║
# █████╗  ██║   ██║██████╔╝█████╗   ╚███╔╝         ██╔████╔██║███████║██████╔╝█████╔╝ █████╗     ██║        ██████╔╝███████║██╔██╗ ██║█████╗  ██║
# ██╔══╝  ██║   ██║██╔══██╗██╔══╝   ██╔██╗         ██║╚██╔╝██║██╔══██║██╔══██╗██╔═██╗ ██╔══╝     ██║        ██╔═══╝ ██╔══██║██║╚██╗██║██╔══╝  ██║
# ██║     ╚██████╔╝██║  ██║███████╗██╔╝ ██╗███████╗██║ ╚═╝ ██║██║  ██║██║  ██║██║  ██╗███████╗   ██║███████╗██║     ██║  ██║██║ ╚████║███████╗███████╗
# ╚═╝      ╚═════╝ ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚══════╝╚═╝     ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝   ╚═╝╚══════╝╚═╝     ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚══════╝

################################################################################################
################################################################################################
################################################################################################
################################################################################################

################################################################################################################################################################

#money

money_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = money_quantity
				#var:money_quantity < market.owner.stockpiling_money_state
				var:money_quantity < sell_limit_currency_var_rest
				var:money_quantity < 25000000
			}
			change_variable = {
				name = money_quantity
				add = 5000000
			}
		}
	}
}
money_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = money_quantity
				var:money_quantity > 5000000
			}
			change_variable = {
				name = money_quantity
				subtract = 5000000
			}
		}
	}
}

buy_money_market_panel_enabled = {
	is_valid = {
		stockpiling_money_state > player.var:money_quantity
		buy_money_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_money_order_valid = 0
		}
	}
}

buy_money_market_panel = {
	is_shown = {
		var:money_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = money_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:money_order = 1
				var:money_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = money_sell_1 #Player country quantity of money buy 
					value  = scope:player_country.var:money_quantity
				}

				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = money_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:money_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = money_buy_1 #Player country quantity of money buy 
					value  = var:money_quantity
				}
				
				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_1
					value = scope:target.var:money_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = money_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:money_quantity
							multiply = var:money_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_money_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_money_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:money_order = 2
				var:money_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = money_sell_2 #Player country quantity of money buy 
					value  = scope:player_country.var:money_quantity
				}

				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = money_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:money_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = money_buy_2 #Player country quantity of money buy 
					value  = var:money_quantity
				}
				
				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_2
					value = scope:target.var:money_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = money_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:money_quantity
							multiply = var:money_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_money_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_money_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:money_order = 3
				var:money_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = money_sell_3 #Player country quantity of money buy 
					value  = scope:player_country.var:money_quantity
				}

				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = money_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:money_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = money_buy_3 #Player country quantity of money buy 
					value  = var:money_quantity
				}
				
				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_3
					value = scope:target.var:money_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = money_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:money_quantity
							multiply = var:money_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_money_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_money_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:money_order = 4
				var:money_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = money_sell_4 #Player country quantity of money buy 
					value  = scope:player_country.var:money_quantity
				}

				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = money_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:money_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = money_buy_4 #Player country quantity of money buy 
					value  = var:money_quantity
				}
				
				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_4
					value = scope:target.var:money_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = money_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:money_quantity
							multiply = var:money_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_money_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_money_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:money_order = 5
				var:money_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = money_sell_5 #Player country quantity of money buy 
					value  = scope:player_country.var:money_quantity
				}

				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = money_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:money_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = money_buy_5 #Player country quantity of money buy 
					value  = var:money_quantity
				}
				
				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_5
					value = scope:target.var:money_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = money_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:money_quantity
							multiply = var:money_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_money_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_money_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:money_order >= 5
			}
			set_variable = {
				name = money_order
				#Player country quantity of money buy 
				value  = 0
			}
		}
	}
}

sell_money_market_panel_enabled = {
	is_valid = {
		stockpiling_money_state > player.var:money_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:money_quantity < player.stockpiling_money_state
		not = {
			player.buy_money_order_valid = 0
		}
	}
}

sell_money_market_panel = {
	is_shown = {
		var:money_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = money_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:money_order = 1
				var:money_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = money_sell_1 #Player country quantity of money sell 
					value  = scope:player_country.var:money_quantity
				}

				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = money_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:money_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = money_sell_1 #Player country quantity of money sell 
					value  = var:money_quantity
				}
				
				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_1
					value = scope:target.var:money_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = money_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:money_quantity
							multiply = var:money_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_money_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_money_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:money_order = 2
				var:money_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = money_sell_2 #Player country quantity of money sell 
					value  = scope:player_country.var:money_quantity
				}

				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = money_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:money_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = money_sell_2 #Player country quantity of money sell 
					value  = var:money_quantity
				}
				
				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_2
					value = scope:target.var:money_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = money_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:money_quantity
							multiply = var:money_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_money_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_money_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:money_order = 3
				var:money_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = money_sell_3 #Player country quantity of money sell 
					value  = scope:player_country.var:money_quantity
				}

				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = money_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:money_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = money_sell_3 #Player country quantity of money sell 
					value  = var:money_quantity
				}
				
				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_3
					value = scope:target.var:money_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = money_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:money_quantity
							multiply = var:money_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_money_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_money_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:money_order = 4
				var:money_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = money_sell_4 #Player country quantity of money sell 
					value  = scope:player_country.var:money_quantity
				}

				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = money_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:money_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = money_sell_4 #Player country quantity of money sell 
					value  = var:money_quantity
				}
				
				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_4
					value = scope:target.var:money_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = money_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:money_quantity
							multiply = var:money_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_money_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_money_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:money_order = 5
				var:money_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = money_sell_5 #Player country quantity of money sell 
					value  = scope:player_country.var:money_quantity
				}

				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = money_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:money_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = money_sell_5 #Player country quantity of money sell 
					value  = var:money_quantity
				}
				
				#exchange rate
				set_variable = {
					name = money_to_player_currency_exchange_rate_5
					value = scope:target.var:money_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = money_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:money_quantity
							multiply = var:money_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_money_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_money_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:money_order >= 5
			}
			set_variable = {
				name = money_order
				#Player country quantity of money sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#franc

franc_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = franc_quantity
				#var:franc_quantity < market.owner.stockpiling_franc_state
				var:franc_quantity < sell_limit_currency_var_rest
				var:franc_quantity < 25000000
			}
			change_variable = {
				name = franc_quantity
				add = 5000000
			}
		}
	}
}
franc_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = franc_quantity
				var:franc_quantity > 5000000
			}
			change_variable = {
				name = franc_quantity
				subtract = 5000000
			}
		}
	}
}

buy_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_franc_state > player.var:franc_quantity
		buy_franc_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_franc_order_valid = 0
		}
	}
}

buy_franc_market_panel = {
	is_shown = {
		var:franc_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:franc_order = 1
				var:franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_1 #Player country quantity of franc buy 
					value  = scope:player_country.var:franc_quantity
				}

				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = franc_buy_1 #Player country quantity of franc buy 
					value  = var:franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_1
					value = scope:target.var:franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:franc_quantity
							multiply = var:franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_franc_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:franc_order = 2
				var:franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_2 #Player country quantity of franc buy 
					value  = scope:player_country.var:franc_quantity
				}

				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = franc_buy_2 #Player country quantity of franc buy 
					value  = var:franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_2
					value = scope:target.var:franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:franc_quantity
							multiply = var:franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_franc_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:franc_order = 3
				var:franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_3 #Player country quantity of franc buy 
					value  = scope:player_country.var:franc_quantity
				}

				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = franc_buy_3 #Player country quantity of franc buy 
					value  = var:franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_3
					value = scope:target.var:franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:franc_quantity
							multiply = var:franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_franc_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:franc_order = 4
				var:franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_4 #Player country quantity of franc buy 
					value  = scope:player_country.var:franc_quantity
				}

				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = franc_buy_4 #Player country quantity of franc buy 
					value  = var:franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_4
					value = scope:target.var:franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:franc_quantity
							multiply = var:franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_franc_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:franc_order = 5
				var:franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_5 #Player country quantity of franc buy 
					value  = scope:player_country.var:franc_quantity
				}

				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = franc_buy_5 #Player country quantity of franc buy 
					value  = var:franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_5
					value = scope:target.var:franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:franc_quantity
							multiply = var:franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_franc_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:franc_order >= 5
			}
			set_variable = {
				name = franc_order
				#Player country quantity of franc buy 
				value  = 0
			}
		}
	}
}

sell_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_franc_state > player.var:franc_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:franc_quantity < player.stockpiling_franc_state
		not = {
			player.buy_franc_order_valid = 0
		}
	}
}

sell_franc_market_panel = {
	is_shown = {
		var:franc_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:franc_order = 1
				var:franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_1 #Player country quantity of franc sell 
					value  = scope:player_country.var:franc_quantity
				}

				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_1 #Player country quantity of franc sell 
					value  = var:franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_1
					value = scope:target.var:franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:franc_quantity
							multiply = var:franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_franc_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:franc_order = 2
				var:franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_2 #Player country quantity of franc sell 
					value  = scope:player_country.var:franc_quantity
				}

				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_2 #Player country quantity of franc sell 
					value  = var:franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_2
					value = scope:target.var:franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:franc_quantity
							multiply = var:franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_franc_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:franc_order = 3
				var:franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_3 #Player country quantity of franc sell 
					value  = scope:player_country.var:franc_quantity
				}

				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_3 #Player country quantity of franc sell 
					value  = var:franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_3
					value = scope:target.var:franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:franc_quantity
							multiply = var:franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_franc_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:franc_order = 4
				var:franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_4 #Player country quantity of franc sell 
					value  = scope:player_country.var:franc_quantity
				}

				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_4 #Player country quantity of franc sell 
					value  = var:franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_4
					value = scope:target.var:franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:franc_quantity
							multiply = var:franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_franc_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:franc_order = 5
				var:franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_5 #Player country quantity of franc sell 
					value  = scope:player_country.var:franc_quantity
				}

				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = franc_sell_5 #Player country quantity of franc sell 
					value  = var:franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = franc_to_player_currency_exchange_rate_5
					value = scope:target.var:franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:franc_quantity
							multiply = var:franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_franc_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:franc_order >= 5
			}
			set_variable = {
				name = franc_order
				#Player country quantity of franc sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#dollar

dollar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = dollar_quantity
				#var:dollar_quantity < market.owner.stockpiling_dollar_state
				var:dollar_quantity < sell_limit_currency_var_rest
				var:dollar_quantity < 25000000
			}
			change_variable = {
				name = dollar_quantity
				add = 5000000
			}
		}
	}
}
dollar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = dollar_quantity
				var:dollar_quantity > 5000000
			}
			change_variable = {
				name = dollar_quantity
				subtract = 5000000
			}
		}
	}
}

buy_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_dollar_state > player.var:dollar_quantity
		buy_dollar_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_dollar_order_valid = 0
		}
	}
}

buy_dollar_market_panel = {
	is_shown = {
		var:dollar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:dollar_order = 1
				var:dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_1 #Player country quantity of dollar buy 
					value  = scope:player_country.var:dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dollar_buy_1 #Player country quantity of dollar buy 
					value  = var:dollar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dollar_quantity
							multiply = var:dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dollar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:dollar_order = 2
				var:dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_2 #Player country quantity of dollar buy 
					value  = scope:player_country.var:dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dollar_buy_2 #Player country quantity of dollar buy 
					value  = var:dollar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dollar_quantity
							multiply = var:dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dollar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:dollar_order = 3
				var:dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_3 #Player country quantity of dollar buy 
					value  = scope:player_country.var:dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dollar_buy_3 #Player country quantity of dollar buy 
					value  = var:dollar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dollar_quantity
							multiply = var:dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dollar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:dollar_order = 4
				var:dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_4 #Player country quantity of dollar buy 
					value  = scope:player_country.var:dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dollar_buy_4 #Player country quantity of dollar buy 
					value  = var:dollar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dollar_quantity
							multiply = var:dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dollar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:dollar_order = 5
				var:dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_5 #Player country quantity of dollar buy 
					value  = scope:player_country.var:dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dollar_buy_5 #Player country quantity of dollar buy 
					value  = var:dollar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dollar_quantity
							multiply = var:dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dollar_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:dollar_order >= 5
			}
			set_variable = {
				name = dollar_order
				#Player country quantity of dollar buy 
				value  = 0
			}
		}
	}
}

sell_dollar_market_panel_enabled = {
	is_valid = {
		stockpiling_dollar_state > player.var:dollar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:dollar_quantity < player.stockpiling_dollar_state
		not = {
			player.buy_dollar_order_valid = 0
		}
	}
}

sell_dollar_market_panel = {
	is_shown = {
		var:dollar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = dollar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:dollar_order = 1
				var:dollar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_1 #Player country quantity of dollar sell 
					value  = scope:player_country.var:dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dollar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_1 #Player country quantity of dollar sell 
					value  = var:dollar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_1
					value = scope:target.var:dollar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dollar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dollar_quantity
							multiply = var:dollar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_dollar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dollar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:dollar_order = 2
				var:dollar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_2 #Player country quantity of dollar sell 
					value  = scope:player_country.var:dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dollar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_2 #Player country quantity of dollar sell 
					value  = var:dollar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_2
					value = scope:target.var:dollar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dollar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dollar_quantity
							multiply = var:dollar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_dollar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dollar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:dollar_order = 3
				var:dollar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_3 #Player country quantity of dollar sell 
					value  = scope:player_country.var:dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dollar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_3 #Player country quantity of dollar sell 
					value  = var:dollar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_3
					value = scope:target.var:dollar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dollar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dollar_quantity
							multiply = var:dollar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_dollar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dollar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:dollar_order = 4
				var:dollar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_4 #Player country quantity of dollar sell 
					value  = scope:player_country.var:dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dollar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_4 #Player country quantity of dollar sell 
					value  = var:dollar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_4
					value = scope:target.var:dollar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dollar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dollar_quantity
							multiply = var:dollar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_dollar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dollar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:dollar_order = 5
				var:dollar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_5 #Player country quantity of dollar sell 
					value  = scope:player_country.var:dollar_quantity
				}

				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dollar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dollar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dollar_sell_5 #Player country quantity of dollar sell 
					value  = var:dollar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dollar_to_player_currency_exchange_rate_5
					value = scope:target.var:dollar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dollar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dollar_quantity
							multiply = var:dollar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_dollar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dollar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:dollar_order >= 5
			}
			set_variable = {
				name = dollar_order
				#Player country quantity of dollar sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#mark

mark_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = mark_quantity
				#var:mark_quantity < market.owner.stockpiling_mark_state
				var:mark_quantity < sell_limit_currency_var_rest
				var:mark_quantity < 25000000
			}
			change_variable = {
				name = mark_quantity
				add = 5000000
			}
		}
	}
}
mark_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = mark_quantity
				var:mark_quantity > 5000000
			}
			change_variable = {
				name = mark_quantity
				subtract = 5000000
			}
		}
	}
}

buy_mark_market_panel_enabled = {
	is_valid = {
		stockpiling_mark_state > player.var:mark_quantity
		buy_mark_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_mark_order_valid = 0
		}
	}
}

buy_mark_market_panel = {
	is_shown = {
		var:mark_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = mark_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:mark_order = 1
				var:mark_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_1 #Player country quantity of mark buy 
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_buy_1 #Player country quantity of mark buy 
					value  = var:mark_quantity
				}
				
				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_1
					value = scope:target.var:mark_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_mark_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:mark_order = 2
				var:mark_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_2 #Player country quantity of mark buy 
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_buy_2 #Player country quantity of mark buy 
					value  = var:mark_quantity
				}
				
				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_2
					value = scope:target.var:mark_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_mark_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:mark_order = 3
				var:mark_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_3 #Player country quantity of mark buy 
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_buy_3 #Player country quantity of mark buy 
					value  = var:mark_quantity
				}
				
				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_3
					value = scope:target.var:mark_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_mark_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:mark_order = 4
				var:mark_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_4 #Player country quantity of mark buy 
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_buy_4 #Player country quantity of mark buy 
					value  = var:mark_quantity
				}
				
				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_4
					value = scope:target.var:mark_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_mark_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:mark_order = 5
				var:mark_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_5 #Player country quantity of mark buy 
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_buy_5 #Player country quantity of mark buy 
					value  = var:mark_quantity
				}
				
				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_5
					value = scope:target.var:mark_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_mark_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:mark_order >= 5
			}
			set_variable = {
				name = mark_order
				#Player country quantity of mark buy 
				value  = 0
			}
		}
	}
}

sell_mark_market_panel_enabled = {
	is_valid = {
		stockpiling_mark_state > player.var:mark_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:mark_quantity < player.stockpiling_mark_state
		not = {
			player.buy_mark_order_valid = 0
		}
	}
}

sell_mark_market_panel = {
	is_shown = {
		var:mark_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = mark_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:mark_order = 1
				var:mark_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_1 #Player country quantity of mark sell 
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_1 #Player country quantity of mark sell 
					value  = var:mark_quantity
				}
				
				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_1
					value = scope:target.var:mark_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_mark_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:mark_order = 2
				var:mark_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_2 #Player country quantity of mark sell 
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_2 #Player country quantity of mark sell 
					value  = var:mark_quantity
				}
				
				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_2
					value = scope:target.var:mark_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_mark_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:mark_order = 3
				var:mark_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_3 #Player country quantity of mark sell 
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_3 #Player country quantity of mark sell 
					value  = var:mark_quantity
				}
				
				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_3
					value = scope:target.var:mark_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_mark_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:mark_order = 4
				var:mark_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_4 #Player country quantity of mark sell 
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_4 #Player country quantity of mark sell 
					value  = var:mark_quantity
				}
				
				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_4
					value = scope:target.var:mark_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_mark_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:mark_order = 5
				var:mark_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_5 #Player country quantity of mark sell 
					value  = scope:player_country.var:mark_quantity
				}

				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = mark_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:mark_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = mark_sell_5 #Player country quantity of mark sell 
					value  = var:mark_quantity
				}
				
				#exchange rate
				set_variable = {
					name = mark_to_player_currency_exchange_rate_5
					value = scope:target.var:mark_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = mark_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:mark_quantity
							multiply = var:mark_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_mark_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_mark_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:mark_order >= 5
			}
			set_variable = {
				name = mark_order
				#Player country quantity of mark sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#sterling

sterling_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = sterling_quantity
				#var:sterling_quantity < market.owner.stockpiling_sterling_state
				var:sterling_quantity < sell_limit_currency_var_rest
				var:sterling_quantity < 25000000
			}
			change_variable = {
				name = sterling_quantity
				add = 5000000
			}
		}
	}
}
sterling_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = sterling_quantity
				var:sterling_quantity > 5000000
			}
			change_variable = {
				name = sterling_quantity
				subtract = 5000000
			}
		}
	}
}

buy_sterling_market_panel_enabled = {
	is_valid = {
		stockpiling_sterling_state > player.var:sterling_quantity
		buy_sterling_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_sterling_order_valid = 0
		}
	}
}

buy_sterling_market_panel = {
	is_shown = {
		var:sterling_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = sterling_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:sterling_order = 1
				var:sterling_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_1 #Player country quantity of sterling buy 
					value  = scope:player_country.var:sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = sterling_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sterling_buy_1 #Player country quantity of sterling buy 
					value  = var:sterling_quantity
				}
				
				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_1
					value = scope:target.var:sterling_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = sterling_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sterling_quantity
							multiply = var:sterling_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_sterling_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sterling_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:sterling_order = 2
				var:sterling_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_2 #Player country quantity of sterling buy 
					value  = scope:player_country.var:sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = sterling_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sterling_buy_2 #Player country quantity of sterling buy 
					value  = var:sterling_quantity
				}
				
				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_2
					value = scope:target.var:sterling_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = sterling_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sterling_quantity
							multiply = var:sterling_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_sterling_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sterling_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:sterling_order = 3
				var:sterling_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_3 #Player country quantity of sterling buy 
					value  = scope:player_country.var:sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = sterling_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sterling_buy_3 #Player country quantity of sterling buy 
					value  = var:sterling_quantity
				}
				
				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_3
					value = scope:target.var:sterling_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = sterling_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sterling_quantity
							multiply = var:sterling_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_sterling_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sterling_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:sterling_order = 4
				var:sterling_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_4 #Player country quantity of sterling buy 
					value  = scope:player_country.var:sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = sterling_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sterling_buy_4 #Player country quantity of sterling buy 
					value  = var:sterling_quantity
				}
				
				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_4
					value = scope:target.var:sterling_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = sterling_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sterling_quantity
							multiply = var:sterling_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_sterling_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sterling_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:sterling_order = 5
				var:sterling_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_5 #Player country quantity of sterling buy 
					value  = scope:player_country.var:sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = sterling_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sterling_buy_5 #Player country quantity of sterling buy 
					value  = var:sterling_quantity
				}
				
				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_5
					value = scope:target.var:sterling_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = sterling_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sterling_quantity
							multiply = var:sterling_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_sterling_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sterling_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:sterling_order >= 5
			}
			set_variable = {
				name = sterling_order
				#Player country quantity of sterling buy 
				value  = 0
			}
		}
	}
}

sell_sterling_market_panel_enabled = {
	is_valid = {
		stockpiling_sterling_state > player.var:sterling_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:sterling_quantity < player.stockpiling_sterling_state
		not = {
			player.buy_sterling_order_valid = 0
		}
	}
}

sell_sterling_market_panel = {
	is_shown = {
		var:sterling_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = sterling_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:sterling_order = 1
				var:sterling_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_1 #Player country quantity of sterling sell 
					value  = scope:player_country.var:sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = sterling_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_1 #Player country quantity of sterling sell 
					value  = var:sterling_quantity
				}
				
				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_1
					value = scope:target.var:sterling_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = sterling_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sterling_quantity
							multiply = var:sterling_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_sterling_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sterling_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:sterling_order = 2
				var:sterling_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_2 #Player country quantity of sterling sell 
					value  = scope:player_country.var:sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = sterling_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_2 #Player country quantity of sterling sell 
					value  = var:sterling_quantity
				}
				
				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_2
					value = scope:target.var:sterling_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = sterling_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sterling_quantity
							multiply = var:sterling_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_sterling_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sterling_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:sterling_order = 3
				var:sterling_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_3 #Player country quantity of sterling sell 
					value  = scope:player_country.var:sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = sterling_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_3 #Player country quantity of sterling sell 
					value  = var:sterling_quantity
				}
				
				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_3
					value = scope:target.var:sterling_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = sterling_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sterling_quantity
							multiply = var:sterling_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_sterling_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sterling_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:sterling_order = 4
				var:sterling_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_4 #Player country quantity of sterling sell 
					value  = scope:player_country.var:sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = sterling_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_4 #Player country quantity of sterling sell 
					value  = var:sterling_quantity
				}
				
				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_4
					value = scope:target.var:sterling_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = sterling_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sterling_quantity
							multiply = var:sterling_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_sterling_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sterling_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:sterling_order = 5
				var:sterling_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_5 #Player country quantity of sterling sell 
					value  = scope:player_country.var:sterling_quantity
				}

				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = sterling_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:sterling_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = sterling_sell_5 #Player country quantity of sterling sell 
					value  = var:sterling_quantity
				}
				
				#exchange rate
				set_variable = {
					name = sterling_to_player_currency_exchange_rate_5
					value = scope:target.var:sterling_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = sterling_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:sterling_quantity
							multiply = var:sterling_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_sterling_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_sterling_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:sterling_order >= 5
			}
			set_variable = {
				name = sterling_order
				#Player country quantity of sterling sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#real

real_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = real_quantity
				#var:real_quantity < market.owner.stockpiling_real_state
				var:real_quantity < sell_limit_currency_var_rest
				var:real_quantity < 25000000
			}
			change_variable = {
				name = real_quantity
				add = 5000000
			}
		}
	}
}
real_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = real_quantity
				var:real_quantity > 5000000
			}
			change_variable = {
				name = real_quantity
				subtract = 5000000
			}
		}
	}
}

buy_real_market_panel_enabled = {
	is_valid = {
		stockpiling_real_state > player.var:real_quantity
		buy_real_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_real_order_valid = 0
		}
	}
}

buy_real_market_panel = {
	is_shown = {
		var:real_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = real_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:real_order = 1
				var:real_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_1 #Player country quantity of real buy 
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_buy_1 #Player country quantity of real buy 
					value  = var:real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_1
					value = scope:target.var:real_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_real_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:real_order = 2
				var:real_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_2 #Player country quantity of real buy 
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_buy_2 #Player country quantity of real buy 
					value  = var:real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_2
					value = scope:target.var:real_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_real_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:real_order = 3
				var:real_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_3 #Player country quantity of real buy 
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_buy_3 #Player country quantity of real buy 
					value  = var:real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_3
					value = scope:target.var:real_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_real_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:real_order = 4
				var:real_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_4 #Player country quantity of real buy 
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_buy_4 #Player country quantity of real buy 
					value  = var:real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_4
					value = scope:target.var:real_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_real_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:real_order = 5
				var:real_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_5 #Player country quantity of real buy 
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_buy_5 #Player country quantity of real buy 
					value  = var:real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_5
					value = scope:target.var:real_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_real_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:real_order >= 5
			}
			set_variable = {
				name = real_order
				#Player country quantity of real buy 
				value  = 0
			}
		}
	}
}

sell_real_market_panel_enabled = {
	is_valid = {
		stockpiling_real_state > player.var:real_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:real_quantity < player.stockpiling_real_state
		not = {
			player.buy_real_order_valid = 0
		}
	}
}

sell_real_market_panel = {
	is_shown = {
		var:real_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = real_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:real_order = 1
				var:real_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_1 #Player country quantity of real sell 
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_sell_1 #Player country quantity of real sell 
					value  = var:real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_1
					value = scope:target.var:real_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_real_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:real_order = 2
				var:real_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_2 #Player country quantity of real sell 
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_sell_2 #Player country quantity of real sell 
					value  = var:real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_2
					value = scope:target.var:real_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_real_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:real_order = 3
				var:real_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_3 #Player country quantity of real sell 
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_sell_3 #Player country quantity of real sell 
					value  = var:real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_3
					value = scope:target.var:real_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_real_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:real_order = 4
				var:real_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_4 #Player country quantity of real sell 
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_sell_4 #Player country quantity of real sell 
					value  = var:real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_4
					value = scope:target.var:real_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_real_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:real_order = 5
				var:real_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = real_sell_5 #Player country quantity of real sell 
					value  = scope:player_country.var:real_quantity
				}

				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = real_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = real_sell_5 #Player country quantity of real sell 
					value  = var:real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = real_to_player_currency_exchange_rate_5
					value = scope:target.var:real_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = real_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:real_quantity
							multiply = var:real_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_real_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_real_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:real_order >= 5
			}
			set_variable = {
				name = real_order
				#Player country quantity of real sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#gulden

gulden_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = gulden_quantity
				#var:gulden_quantity < market.owner.stockpiling_gulden_state
				var:gulden_quantity < sell_limit_currency_var_rest
				var:gulden_quantity < 25000000
			}
			change_variable = {
				name = gulden_quantity
				add = 5000000
			}
		}
	}
}
gulden_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = gulden_quantity
				var:gulden_quantity > 5000000
			}
			change_variable = {
				name = gulden_quantity
				subtract = 5000000
			}
		}
	}
}

buy_gulden_market_panel_enabled = {
	is_valid = {
		stockpiling_gulden_state > player.var:gulden_quantity
		buy_gulden_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_gulden_order_valid = 0
		}
	}
}

buy_gulden_market_panel = {
	is_shown = {
		var:gulden_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = gulden_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:gulden_order = 1
				var:gulden_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_1 #Player country quantity of gulden buy 
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_buy_1 #Player country quantity of gulden buy 
					value  = var:gulden_quantity
				}
				
				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_1
					value = scope:target.var:gulden_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_gulden_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:gulden_order = 2
				var:gulden_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_2 #Player country quantity of gulden buy 
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_buy_2 #Player country quantity of gulden buy 
					value  = var:gulden_quantity
				}
				
				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_2
					value = scope:target.var:gulden_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_gulden_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:gulden_order = 3
				var:gulden_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_3 #Player country quantity of gulden buy 
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_buy_3 #Player country quantity of gulden buy 
					value  = var:gulden_quantity
				}
				
				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_3
					value = scope:target.var:gulden_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_gulden_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:gulden_order = 4
				var:gulden_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_4 #Player country quantity of gulden buy 
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_buy_4 #Player country quantity of gulden buy 
					value  = var:gulden_quantity
				}
				
				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_4
					value = scope:target.var:gulden_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_gulden_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:gulden_order = 5
				var:gulden_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_5 #Player country quantity of gulden buy 
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_buy_5 #Player country quantity of gulden buy 
					value  = var:gulden_quantity
				}
				
				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_5
					value = scope:target.var:gulden_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_gulden_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:gulden_order >= 5
			}
			set_variable = {
				name = gulden_order
				#Player country quantity of gulden buy 
				value  = 0
			}
		}
	}
}

sell_gulden_market_panel_enabled = {
	is_valid = {
		stockpiling_gulden_state > player.var:gulden_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:gulden_quantity < player.stockpiling_gulden_state
		not = {
			player.buy_gulden_order_valid = 0
		}
	}
}

sell_gulden_market_panel = {
	is_shown = {
		var:gulden_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = gulden_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:gulden_order = 1
				var:gulden_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_1 #Player country quantity of gulden sell 
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_1 #Player country quantity of gulden sell 
					value  = var:gulden_quantity
				}
				
				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_1
					value = scope:target.var:gulden_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_gulden_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:gulden_order = 2
				var:gulden_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_2 #Player country quantity of gulden sell 
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_2 #Player country quantity of gulden sell 
					value  = var:gulden_quantity
				}
				
				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_2
					value = scope:target.var:gulden_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_gulden_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:gulden_order = 3
				var:gulden_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_3 #Player country quantity of gulden sell 
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_3 #Player country quantity of gulden sell 
					value  = var:gulden_quantity
				}
				
				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_3
					value = scope:target.var:gulden_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_gulden_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:gulden_order = 4
				var:gulden_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_4 #Player country quantity of gulden sell 
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_4 #Player country quantity of gulden sell 
					value  = var:gulden_quantity
				}
				
				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_4
					value = scope:target.var:gulden_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_gulden_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:gulden_order = 5
				var:gulden_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_5 #Player country quantity of gulden sell 
					value  = scope:player_country.var:gulden_quantity
				}

				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = gulden_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:gulden_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = gulden_sell_5 #Player country quantity of gulden sell 
					value  = var:gulden_quantity
				}
				
				#exchange rate
				set_variable = {
					name = gulden_to_player_currency_exchange_rate_5
					value = scope:target.var:gulden_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = gulden_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:gulden_quantity
							multiply = var:gulden_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_gulden_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_gulden_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:gulden_order >= 5
			}
			set_variable = {
				name = gulden_order
				#Player country quantity of gulden sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#yuan

yuan_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = yuan_quantity
				#var:yuan_quantity < market.owner.stockpiling_yuan_state
				var:yuan_quantity < sell_limit_currency_var_rest
				var:yuan_quantity < 25000000
			}
			change_variable = {
				name = yuan_quantity
				add = 5000000
			}
		}
	}
}
yuan_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = yuan_quantity
				var:yuan_quantity > 5000000
			}
			change_variable = {
				name = yuan_quantity
				subtract = 5000000
			}
		}
	}
}

buy_yuan_market_panel_enabled = {
	is_valid = {
		stockpiling_yuan_state > player.var:yuan_quantity
		buy_yuan_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_yuan_order_valid = 0
		}
	}
}

buy_yuan_market_panel = {
	is_shown = {
		var:yuan_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = yuan_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:yuan_order = 1
				var:yuan_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_1 #Player country quantity of yuan buy 
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_buy_1 #Player country quantity of yuan buy 
					value  = var:yuan_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_1
					value = scope:target.var:yuan_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_yuan_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:yuan_order = 2
				var:yuan_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_2 #Player country quantity of yuan buy 
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_buy_2 #Player country quantity of yuan buy 
					value  = var:yuan_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_2
					value = scope:target.var:yuan_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_yuan_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:yuan_order = 3
				var:yuan_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_3 #Player country quantity of yuan buy 
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_buy_3 #Player country quantity of yuan buy 
					value  = var:yuan_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_3
					value = scope:target.var:yuan_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_yuan_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:yuan_order = 4
				var:yuan_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_4 #Player country quantity of yuan buy 
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_buy_4 #Player country quantity of yuan buy 
					value  = var:yuan_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_4
					value = scope:target.var:yuan_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_yuan_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:yuan_order = 5
				var:yuan_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_5 #Player country quantity of yuan buy 
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_buy_5 #Player country quantity of yuan buy 
					value  = var:yuan_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_5
					value = scope:target.var:yuan_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_yuan_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:yuan_order >= 5
			}
			set_variable = {
				name = yuan_order
				#Player country quantity of yuan buy 
				value  = 0
			}
		}
	}
}

sell_yuan_market_panel_enabled = {
	is_valid = {
		stockpiling_yuan_state > player.var:yuan_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:yuan_quantity < player.stockpiling_yuan_state
		not = {
			player.buy_yuan_order_valid = 0
		}
	}
}

sell_yuan_market_panel = {
	is_shown = {
		var:yuan_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = yuan_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:yuan_order = 1
				var:yuan_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_1 #Player country quantity of yuan sell 
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_1 #Player country quantity of yuan sell 
					value  = var:yuan_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_1
					value = scope:target.var:yuan_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_yuan_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:yuan_order = 2
				var:yuan_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_2 #Player country quantity of yuan sell 
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_2 #Player country quantity of yuan sell 
					value  = var:yuan_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_2
					value = scope:target.var:yuan_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_yuan_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:yuan_order = 3
				var:yuan_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_3 #Player country quantity of yuan sell 
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_3 #Player country quantity of yuan sell 
					value  = var:yuan_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_3
					value = scope:target.var:yuan_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_yuan_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:yuan_order = 4
				var:yuan_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_4 #Player country quantity of yuan sell 
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_4 #Player country quantity of yuan sell 
					value  = var:yuan_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_4
					value = scope:target.var:yuan_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_yuan_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:yuan_order = 5
				var:yuan_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_5 #Player country quantity of yuan sell 
					value  = scope:player_country.var:yuan_quantity
				}

				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yuan_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yuan_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yuan_sell_5 #Player country quantity of yuan sell 
					value  = var:yuan_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yuan_to_player_currency_exchange_rate_5
					value = scope:target.var:yuan_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yuan_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yuan_quantity
							multiply = var:yuan_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_yuan_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yuan_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:yuan_order >= 5
			}
			set_variable = {
				name = yuan_order
				#Player country quantity of yuan sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#rupee

rupee_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = rupee_quantity
				#var:rupee_quantity < market.owner.stockpiling_rupee_state
				var:rupee_quantity < sell_limit_currency_var_rest
				var:rupee_quantity < 25000000
			}
			change_variable = {
				name = rupee_quantity
				add = 5000000
			}
		}
	}
}
rupee_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = rupee_quantity
				var:rupee_quantity > 5000000
			}
			change_variable = {
				name = rupee_quantity
				subtract = 5000000
			}
		}
	}
}

buy_rupee_market_panel_enabled = {
	is_valid = {
		stockpiling_rupee_state > player.var:rupee_quantity
		buy_rupee_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_rupee_order_valid = 0
		}
	}
}

buy_rupee_market_panel = {
	is_shown = {
		var:rupee_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = rupee_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:rupee_order = 1
				var:rupee_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_1 #Player country quantity of rupee buy 
					value  = scope:player_country.var:rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rupee_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rupee_buy_1 #Player country quantity of rupee buy 
					value  = var:rupee_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_1
					value = scope:target.var:rupee_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rupee_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rupee_quantity
							multiply = var:rupee_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_rupee_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rupee_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:rupee_order = 2
				var:rupee_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_2 #Player country quantity of rupee buy 
					value  = scope:player_country.var:rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rupee_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rupee_buy_2 #Player country quantity of rupee buy 
					value  = var:rupee_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_2
					value = scope:target.var:rupee_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rupee_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rupee_quantity
							multiply = var:rupee_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_rupee_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rupee_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:rupee_order = 3
				var:rupee_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_3 #Player country quantity of rupee buy 
					value  = scope:player_country.var:rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rupee_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rupee_buy_3 #Player country quantity of rupee buy 
					value  = var:rupee_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_3
					value = scope:target.var:rupee_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rupee_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rupee_quantity
							multiply = var:rupee_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_rupee_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rupee_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:rupee_order = 4
				var:rupee_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_4 #Player country quantity of rupee buy 
					value  = scope:player_country.var:rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rupee_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rupee_buy_4 #Player country quantity of rupee buy 
					value  = var:rupee_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_4
					value = scope:target.var:rupee_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rupee_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rupee_quantity
							multiply = var:rupee_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_rupee_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rupee_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:rupee_order = 5
				var:rupee_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_5 #Player country quantity of rupee buy 
					value  = scope:player_country.var:rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rupee_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rupee_buy_5 #Player country quantity of rupee buy 
					value  = var:rupee_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_5
					value = scope:target.var:rupee_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rupee_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rupee_quantity
							multiply = var:rupee_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_rupee_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rupee_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:rupee_order >= 5
			}
			set_variable = {
				name = rupee_order
				#Player country quantity of rupee buy 
				value  = 0
			}
		}
	}
}

sell_rupee_market_panel_enabled = {
	is_valid = {
		stockpiling_rupee_state > player.var:rupee_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:rupee_quantity < player.stockpiling_rupee_state
		not = {
			player.buy_rupee_order_valid = 0
		}
	}
}

sell_rupee_market_panel = {
	is_shown = {
		var:rupee_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = rupee_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:rupee_order = 1
				var:rupee_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_1 #Player country quantity of rupee sell 
					value  = scope:player_country.var:rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rupee_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_1 #Player country quantity of rupee sell 
					value  = var:rupee_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_1
					value = scope:target.var:rupee_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rupee_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rupee_quantity
							multiply = var:rupee_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_rupee_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rupee_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:rupee_order = 2
				var:rupee_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_2 #Player country quantity of rupee sell 
					value  = scope:player_country.var:rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rupee_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_2 #Player country quantity of rupee sell 
					value  = var:rupee_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_2
					value = scope:target.var:rupee_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rupee_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rupee_quantity
							multiply = var:rupee_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_rupee_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rupee_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:rupee_order = 3
				var:rupee_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_3 #Player country quantity of rupee sell 
					value  = scope:player_country.var:rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rupee_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_3 #Player country quantity of rupee sell 
					value  = var:rupee_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_3
					value = scope:target.var:rupee_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rupee_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rupee_quantity
							multiply = var:rupee_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_rupee_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rupee_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:rupee_order = 4
				var:rupee_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_4 #Player country quantity of rupee sell 
					value  = scope:player_country.var:rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rupee_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_4 #Player country quantity of rupee sell 
					value  = var:rupee_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_4
					value = scope:target.var:rupee_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rupee_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rupee_quantity
							multiply = var:rupee_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_rupee_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rupee_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:rupee_order = 5
				var:rupee_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_5 #Player country quantity of rupee sell 
					value  = scope:player_country.var:rupee_quantity
				}

				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rupee_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rupee_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rupee_sell_5 #Player country quantity of rupee sell 
					value  = var:rupee_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rupee_to_player_currency_exchange_rate_5
					value = scope:target.var:rupee_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rupee_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rupee_quantity
							multiply = var:rupee_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_rupee_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rupee_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:rupee_order >= 5
			}
			set_variable = {
				name = rupee_order
				#Player country quantity of rupee sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#yen

yen_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = yen_quantity
				#var:yen_quantity < market.owner.stockpiling_yen_state
				var:yen_quantity < sell_limit_currency_var_rest
				var:yen_quantity < 25000000
			}
			change_variable = {
				name = yen_quantity
				add = 5000000
			}
		}
	}
}
yen_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = yen_quantity
				var:yen_quantity > 5000000
			}
			change_variable = {
				name = yen_quantity
				subtract = 5000000
			}
		}
	}
}

buy_yen_market_panel_enabled = {
	is_valid = {
		stockpiling_yen_state > player.var:yen_quantity
		buy_yen_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_yen_order_valid = 0
		}
	}
}

buy_yen_market_panel = {
	is_shown = {
		var:yen_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = yen_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:yen_order = 1
				var:yen_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_1 #Player country quantity of yen buy 
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_buy_1 #Player country quantity of yen buy 
					value  = var:yen_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_1
					value = scope:target.var:yen_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_yen_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:yen_order = 2
				var:yen_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_2 #Player country quantity of yen buy 
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_buy_2 #Player country quantity of yen buy 
					value  = var:yen_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_2
					value = scope:target.var:yen_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_yen_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:yen_order = 3
				var:yen_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_3 #Player country quantity of yen buy 
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_buy_3 #Player country quantity of yen buy 
					value  = var:yen_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_3
					value = scope:target.var:yen_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_yen_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:yen_order = 4
				var:yen_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_4 #Player country quantity of yen buy 
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_buy_4 #Player country quantity of yen buy 
					value  = var:yen_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_4
					value = scope:target.var:yen_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_yen_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:yen_order = 5
				var:yen_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_5 #Player country quantity of yen buy 
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_buy_5 #Player country quantity of yen buy 
					value  = var:yen_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_5
					value = scope:target.var:yen_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_yen_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:yen_order >= 5
			}
			set_variable = {
				name = yen_order
				#Player country quantity of yen buy 
				value  = 0
			}
		}
	}
}

sell_yen_market_panel_enabled = {
	is_valid = {
		stockpiling_yen_state > player.var:yen_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:yen_quantity < player.stockpiling_yen_state
		not = {
			player.buy_yen_order_valid = 0
		}
	}
}

sell_yen_market_panel = {
	is_shown = {
		var:yen_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = yen_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:yen_order = 1
				var:yen_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_1 #Player country quantity of yen sell 
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_1 #Player country quantity of yen sell 
					value  = var:yen_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_1
					value = scope:target.var:yen_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_yen_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:yen_order = 2
				var:yen_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_2 #Player country quantity of yen sell 
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_2 #Player country quantity of yen sell 
					value  = var:yen_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_2
					value = scope:target.var:yen_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_yen_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:yen_order = 3
				var:yen_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_3 #Player country quantity of yen sell 
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_3 #Player country quantity of yen sell 
					value  = var:yen_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_3
					value = scope:target.var:yen_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_yen_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:yen_order = 4
				var:yen_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_4 #Player country quantity of yen sell 
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_4 #Player country quantity of yen sell 
					value  = var:yen_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_4
					value = scope:target.var:yen_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_yen_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:yen_order = 5
				var:yen_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_5 #Player country quantity of yen sell 
					value  = scope:player_country.var:yen_quantity
				}

				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = yen_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:yen_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = yen_sell_5 #Player country quantity of yen sell 
					value  = var:yen_quantity
				}
				
				#exchange rate
				set_variable = {
					name = yen_to_player_currency_exchange_rate_5
					value = scope:target.var:yen_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = yen_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:yen_quantity
							multiply = var:yen_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_yen_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_yen_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:yen_order >= 5
			}
			set_variable = {
				name = yen_order
				#Player country quantity of yen sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#peseta

peseta_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = peseta_quantity
				#var:peseta_quantity < market.owner.stockpiling_peseta_state
				var:peseta_quantity < sell_limit_currency_var_rest
				var:peseta_quantity < 25000000
			}
			change_variable = {
				name = peseta_quantity
				add = 5000000
			}
		}
	}
}
peseta_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = peseta_quantity
				var:peseta_quantity > 5000000
			}
			change_variable = {
				name = peseta_quantity
				subtract = 5000000
			}
		}
	}
}

buy_peseta_market_panel_enabled = {
	is_valid = {
		stockpiling_peseta_state > player.var:peseta_quantity
		buy_peseta_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_peseta_order_valid = 0
		}
	}
}

buy_peseta_market_panel = {
	is_shown = {
		var:peseta_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = peseta_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:peseta_order = 1
				var:peseta_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_1 #Player country quantity of peseta buy 
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_buy_1 #Player country quantity of peseta buy 
					value  = var:peseta_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_1
					value = scope:target.var:peseta_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_peseta_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:peseta_order = 2
				var:peseta_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_2 #Player country quantity of peseta buy 
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_buy_2 #Player country quantity of peseta buy 
					value  = var:peseta_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_2
					value = scope:target.var:peseta_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_peseta_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:peseta_order = 3
				var:peseta_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_3 #Player country quantity of peseta buy 
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_buy_3 #Player country quantity of peseta buy 
					value  = var:peseta_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_3
					value = scope:target.var:peseta_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_peseta_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:peseta_order = 4
				var:peseta_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_4 #Player country quantity of peseta buy 
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_buy_4 #Player country quantity of peseta buy 
					value  = var:peseta_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_4
					value = scope:target.var:peseta_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_peseta_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:peseta_order = 5
				var:peseta_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_5 #Player country quantity of peseta buy 
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_buy_5 #Player country quantity of peseta buy 
					value  = var:peseta_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_5
					value = scope:target.var:peseta_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_peseta_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:peseta_order >= 5
			}
			set_variable = {
				name = peseta_order
				#Player country quantity of peseta buy 
				value  = 0
			}
		}
	}
}

sell_peseta_market_panel_enabled = {
	is_valid = {
		stockpiling_peseta_state > player.var:peseta_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:peseta_quantity < player.stockpiling_peseta_state
		not = {
			player.buy_peseta_order_valid = 0
		}
	}
}

sell_peseta_market_panel = {
	is_shown = {
		var:peseta_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = peseta_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:peseta_order = 1
				var:peseta_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_1 #Player country quantity of peseta sell 
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_1 #Player country quantity of peseta sell 
					value  = var:peseta_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_1
					value = scope:target.var:peseta_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_peseta_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:peseta_order = 2
				var:peseta_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_2 #Player country quantity of peseta sell 
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_2 #Player country quantity of peseta sell 
					value  = var:peseta_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_2
					value = scope:target.var:peseta_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_peseta_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:peseta_order = 3
				var:peseta_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_3 #Player country quantity of peseta sell 
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_3 #Player country quantity of peseta sell 
					value  = var:peseta_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_3
					value = scope:target.var:peseta_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_peseta_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:peseta_order = 4
				var:peseta_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_4 #Player country quantity of peseta sell 
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_4 #Player country quantity of peseta sell 
					value  = var:peseta_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_4
					value = scope:target.var:peseta_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_peseta_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:peseta_order = 5
				var:peseta_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_5 #Player country quantity of peseta sell 
					value  = scope:player_country.var:peseta_quantity
				}

				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peseta_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peseta_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peseta_sell_5 #Player country quantity of peseta sell 
					value  = var:peseta_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peseta_to_player_currency_exchange_rate_5
					value = scope:target.var:peseta_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peseta_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peseta_quantity
							multiply = var:peseta_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_peseta_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peseta_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:peseta_order >= 5
			}
			set_variable = {
				name = peseta_order
				#Player country quantity of peseta sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#ottoman_lira

ottoman_lira_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = ottoman_lira_quantity
				#var:ottoman_lira_quantity < market.owner.stockpiling_ottoman_lira_state
				var:ottoman_lira_quantity < sell_limit_currency_var_rest
				var:ottoman_lira_quantity < 25000000
			}
			change_variable = {
				name = ottoman_lira_quantity
				add = 5000000
			}
		}
	}
}
ottoman_lira_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = ottoman_lira_quantity
				var:ottoman_lira_quantity > 5000000
			}
			change_variable = {
				name = ottoman_lira_quantity
				subtract = 5000000
			}
		}
	}
}

buy_ottoman_lira_market_panel_enabled = {
	is_valid = {
		stockpiling_ottoman_lira_state > player.var:ottoman_lira_quantity
		buy_ottoman_lira_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_ottoman_lira_order_valid = 0
		}
	}
}

buy_ottoman_lira_market_panel = {
	is_shown = {
		var:ottoman_lira_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ottoman_lira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ottoman_lira_order = 1
				var:ottoman_lira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_1 #Player country quantity of ottoman_lira buy 
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_buy_1 #Player country quantity of ottoman_lira buy 
					value  = var:ottoman_lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_1
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_ottoman_lira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ottoman_lira_order = 2
				var:ottoman_lira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_2 #Player country quantity of ottoman_lira buy 
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_buy_2 #Player country quantity of ottoman_lira buy 
					value  = var:ottoman_lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_2
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_ottoman_lira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ottoman_lira_order = 3
				var:ottoman_lira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_3 #Player country quantity of ottoman_lira buy 
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_buy_3 #Player country quantity of ottoman_lira buy 
					value  = var:ottoman_lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_3
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_ottoman_lira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ottoman_lira_order = 4
				var:ottoman_lira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_4 #Player country quantity of ottoman_lira buy 
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_buy_4 #Player country quantity of ottoman_lira buy 
					value  = var:ottoman_lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_4
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_ottoman_lira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ottoman_lira_order = 5
				var:ottoman_lira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_5 #Player country quantity of ottoman_lira buy 
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_buy_5 #Player country quantity of ottoman_lira buy 
					value  = var:ottoman_lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_5
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_ottoman_lira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:ottoman_lira_order >= 5
			}
			set_variable = {
				name = ottoman_lira_order
				#Player country quantity of ottoman_lira buy 
				value  = 0
			}
		}
	}
}

sell_ottoman_lira_market_panel_enabled = {
	is_valid = {
		stockpiling_ottoman_lira_state > player.var:ottoman_lira_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:ottoman_lira_quantity < player.stockpiling_ottoman_lira_state
		not = {
			player.buy_ottoman_lira_order_valid = 0
		}
	}
}

sell_ottoman_lira_market_panel = {
	is_shown = {
		var:ottoman_lira_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = ottoman_lira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:ottoman_lira_order = 1
				var:ottoman_lira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_1 #Player country quantity of ottoman_lira sell 
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_1 #Player country quantity of ottoman_lira sell 
					value  = var:ottoman_lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_1
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_ottoman_lira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:ottoman_lira_order = 2
				var:ottoman_lira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_2 #Player country quantity of ottoman_lira sell 
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_2 #Player country quantity of ottoman_lira sell 
					value  = var:ottoman_lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_2
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_ottoman_lira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:ottoman_lira_order = 3
				var:ottoman_lira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_3 #Player country quantity of ottoman_lira sell 
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_3 #Player country quantity of ottoman_lira sell 
					value  = var:ottoman_lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_3
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_ottoman_lira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:ottoman_lira_order = 4
				var:ottoman_lira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_4 #Player country quantity of ottoman_lira sell 
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_4 #Player country quantity of ottoman_lira sell 
					value  = var:ottoman_lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_4
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_ottoman_lira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:ottoman_lira_order = 5
				var:ottoman_lira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_5 #Player country quantity of ottoman_lira sell 
					value  = scope:player_country.var:ottoman_lira_quantity
				}

				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = ottoman_lira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:ottoman_lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = ottoman_lira_sell_5 #Player country quantity of ottoman_lira sell 
					value  = var:ottoman_lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = ottoman_lira_to_player_currency_exchange_rate_5
					value = scope:target.var:ottoman_lira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = ottoman_lira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:ottoman_lira_quantity
							multiply = var:ottoman_lira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_ottoman_lira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_ottoman_lira_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:ottoman_lira_order >= 5
			}
			set_variable = {
				name = ottoman_lira_order
				#Player country quantity of ottoman_lira sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#lira

lira_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = lira_quantity
				#var:lira_quantity < market.owner.stockpiling_lira_state
				var:lira_quantity < sell_limit_currency_var_rest
				var:lira_quantity < 25000000
			}
			change_variable = {
				name = lira_quantity
				add = 5000000
			}
		}
	}
}
lira_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = lira_quantity
				var:lira_quantity > 5000000
			}
			change_variable = {
				name = lira_quantity
				subtract = 5000000
			}
		}
	}
}

buy_lira_market_panel_enabled = {
	is_valid = {
		stockpiling_lira_state > player.var:lira_quantity
		buy_lira_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_lira_order_valid = 0
		}
	}
}

buy_lira_market_panel = {
	is_shown = {
		var:lira_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = lira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:lira_order = 1
				var:lira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_1 #Player country quantity of lira buy 
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_buy_1 #Player country quantity of lira buy 
					value  = var:lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_1
					value = scope:target.var:lira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_lira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:lira_order = 2
				var:lira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_2 #Player country quantity of lira buy 
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_buy_2 #Player country quantity of lira buy 
					value  = var:lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_2
					value = scope:target.var:lira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_lira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:lira_order = 3
				var:lira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_3 #Player country quantity of lira buy 
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_buy_3 #Player country quantity of lira buy 
					value  = var:lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_3
					value = scope:target.var:lira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_lira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:lira_order = 4
				var:lira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_4 #Player country quantity of lira buy 
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_buy_4 #Player country quantity of lira buy 
					value  = var:lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_4
					value = scope:target.var:lira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_lira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:lira_order = 5
				var:lira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_5 #Player country quantity of lira buy 
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_buy_5 #Player country quantity of lira buy 
					value  = var:lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_5
					value = scope:target.var:lira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_lira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:lira_order >= 5
			}
			set_variable = {
				name = lira_order
				#Player country quantity of lira buy 
				value  = 0
			}
		}
	}
}

sell_lira_market_panel_enabled = {
	is_valid = {
		stockpiling_lira_state > player.var:lira_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:lira_quantity < player.stockpiling_lira_state
		not = {
			player.buy_lira_order_valid = 0
		}
	}
}

sell_lira_market_panel = {
	is_shown = {
		var:lira_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = lira_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:lira_order = 1
				var:lira_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_1 #Player country quantity of lira sell 
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_1 #Player country quantity of lira sell 
					value  = var:lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_1
					value = scope:target.var:lira_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_lira_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:lira_order = 2
				var:lira_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_2 #Player country quantity of lira sell 
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_2 #Player country quantity of lira sell 
					value  = var:lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_2
					value = scope:target.var:lira_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_lira_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:lira_order = 3
				var:lira_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_3 #Player country quantity of lira sell 
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_3 #Player country quantity of lira sell 
					value  = var:lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_3
					value = scope:target.var:lira_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_lira_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:lira_order = 4
				var:lira_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_4 #Player country quantity of lira sell 
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_4 #Player country quantity of lira sell 
					value  = var:lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_4
					value = scope:target.var:lira_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_lira_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:lira_order = 5
				var:lira_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_5 #Player country quantity of lira sell 
					value  = scope:player_country.var:lira_quantity
				}

				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = lira_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:lira_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = lira_sell_5 #Player country quantity of lira sell 
					value  = var:lira_quantity
				}
				
				#exchange rate
				set_variable = {
					name = lira_to_player_currency_exchange_rate_5
					value = scope:target.var:lira_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = lira_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:lira_quantity
							multiply = var:lira_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_lira_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_lira_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:lira_order >= 5
			}
			set_variable = {
				name = lira_order
				#Player country quantity of lira sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#peso

peso_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = peso_quantity
				#var:peso_quantity < market.owner.stockpiling_peso_state
				var:peso_quantity < sell_limit_currency_var_rest
				var:peso_quantity < 25000000
			}
			change_variable = {
				name = peso_quantity
				add = 5000000
			}
		}
	}
}
peso_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = peso_quantity
				var:peso_quantity > 5000000
			}
			change_variable = {
				name = peso_quantity
				subtract = 5000000
			}
		}
	}
}

buy_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_peso_state > player.var:peso_quantity
		buy_peso_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_peso_order_valid = 0
		}
	}
}

buy_peso_market_panel = {
	is_shown = {
		var:peso_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:peso_order = 1
				var:peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_1 #Player country quantity of peso buy 
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_buy_1 #Player country quantity of peso buy 
					value  = var:peso_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_1
					value = scope:target.var:peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:peso_order = 2
				var:peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_2 #Player country quantity of peso buy 
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_buy_2 #Player country quantity of peso buy 
					value  = var:peso_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_2
					value = scope:target.var:peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:peso_order = 3
				var:peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_3 #Player country quantity of peso buy 
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_buy_3 #Player country quantity of peso buy 
					value  = var:peso_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_3
					value = scope:target.var:peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:peso_order = 4
				var:peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_4 #Player country quantity of peso buy 
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_buy_4 #Player country quantity of peso buy 
					value  = var:peso_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_4
					value = scope:target.var:peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:peso_order = 5
				var:peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_5 #Player country quantity of peso buy 
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_buy_5 #Player country quantity of peso buy 
					value  = var:peso_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_5
					value = scope:target.var:peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:peso_order >= 5
			}
			set_variable = {
				name = peso_order
				#Player country quantity of peso buy 
				value  = 0
			}
		}
	}
}

sell_peso_market_panel_enabled = {
	is_valid = {
		stockpiling_peso_state > player.var:peso_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:peso_quantity < player.stockpiling_peso_state
		not = {
			player.buy_peso_order_valid = 0
		}
	}
}

sell_peso_market_panel = {
	is_shown = {
		var:peso_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = peso_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:peso_order = 1
				var:peso_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_1 #Player country quantity of peso sell 
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_1 #Player country quantity of peso sell 
					value  = var:peso_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_1
					value = scope:target.var:peso_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_peso_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:peso_order = 2
				var:peso_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_2 #Player country quantity of peso sell 
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_2 #Player country quantity of peso sell 
					value  = var:peso_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_2
					value = scope:target.var:peso_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_peso_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:peso_order = 3
				var:peso_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_3 #Player country quantity of peso sell 
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_3 #Player country quantity of peso sell 
					value  = var:peso_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_3
					value = scope:target.var:peso_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_peso_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:peso_order = 4
				var:peso_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_4 #Player country quantity of peso sell 
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_4 #Player country quantity of peso sell 
					value  = var:peso_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_4
					value = scope:target.var:peso_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_peso_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:peso_order = 5
				var:peso_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_5 #Player country quantity of peso sell 
					value  = scope:player_country.var:peso_quantity
				}

				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = peso_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:peso_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = peso_sell_5 #Player country quantity of peso sell 
					value  = var:peso_quantity
				}
				
				#exchange rate
				set_variable = {
					name = peso_to_player_currency_exchange_rate_5
					value = scope:target.var:peso_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = peso_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:peso_quantity
							multiply = var:peso_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_peso_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_peso_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:peso_order >= 5
			}
			set_variable = {
				name = peso_order
				#Player country quantity of peso sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#rouble

rouble_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = rouble_quantity
				#var:rouble_quantity < market.owner.stockpiling_rouble_state
				var:rouble_quantity < sell_limit_currency_var_rest
				var:rouble_quantity < 25000000
			}
			change_variable = {
				name = rouble_quantity
				add = 5000000
			}
		}
	}
}
rouble_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = rouble_quantity
				var:rouble_quantity > 5000000
			}
			change_variable = {
				name = rouble_quantity
				subtract = 5000000
			}
		}
	}
}

buy_rouble_market_panel_enabled = {
	is_valid = {
		stockpiling_rouble_state > player.var:rouble_quantity
		buy_rouble_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_rouble_order_valid = 0
		}
	}
}

buy_rouble_market_panel = {
	is_shown = {
		var:rouble_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = rouble_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:rouble_order = 1
				var:rouble_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_1 #Player country quantity of rouble buy 
					value  = scope:player_country.var:rouble_quantity
				}

				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rouble_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rouble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rouble_buy_1 #Player country quantity of rouble buy 
					value  = var:rouble_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_1
					value = scope:target.var:rouble_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rouble_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rouble_quantity
							multiply = var:rouble_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_rouble_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rouble_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:rouble_order = 2
				var:rouble_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_2 #Player country quantity of rouble buy 
					value  = scope:player_country.var:rouble_quantity
				}

				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rouble_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rouble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rouble_buy_2 #Player country quantity of rouble buy 
					value  = var:rouble_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_2
					value = scope:target.var:rouble_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rouble_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rouble_quantity
							multiply = var:rouble_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_rouble_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rouble_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:rouble_order = 3
				var:rouble_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_3 #Player country quantity of rouble buy 
					value  = scope:player_country.var:rouble_quantity
				}

				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rouble_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rouble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rouble_buy_3 #Player country quantity of rouble buy 
					value  = var:rouble_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_3
					value = scope:target.var:rouble_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rouble_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rouble_quantity
							multiply = var:rouble_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_rouble_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rouble_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:rouble_order = 4
				var:rouble_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_4 #Player country quantity of rouble buy 
					value  = scope:player_country.var:rouble_quantity
				}

				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rouble_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rouble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rouble_buy_4 #Player country quantity of rouble buy 
					value  = var:rouble_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_4
					value = scope:target.var:rouble_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rouble_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rouble_quantity
							multiply = var:rouble_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_rouble_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rouble_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:rouble_order = 5
				var:rouble_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_5 #Player country quantity of rouble buy 
					value  = scope:player_country.var:rouble_quantity
				}

				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rouble_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rouble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rouble_buy_5 #Player country quantity of rouble buy 
					value  = var:rouble_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_5
					value = scope:target.var:rouble_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rouble_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rouble_quantity
							multiply = var:rouble_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_rouble_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rouble_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:rouble_order >= 5
			}
			set_variable = {
				name = rouble_order
				#Player country quantity of rouble buy 
				value  = 0
			}
		}
	}
}

sell_rouble_market_panel_enabled = {
	is_valid = {
		stockpiling_rouble_state > player.var:rouble_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:rouble_quantity < player.stockpiling_rouble_state
		not = {
			player.buy_rouble_order_valid = 0
		}
	}
}

sell_rouble_market_panel = {
	is_shown = {
		var:rouble_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = rouble_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:rouble_order = 1
				var:rouble_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_1 #Player country quantity of rouble sell 
					value  = scope:player_country.var:rouble_quantity
				}

				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rouble_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rouble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_1 #Player country quantity of rouble sell 
					value  = var:rouble_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_1
					value = scope:target.var:rouble_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rouble_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rouble_quantity
							multiply = var:rouble_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_rouble_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rouble_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:rouble_order = 2
				var:rouble_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_2 #Player country quantity of rouble sell 
					value  = scope:player_country.var:rouble_quantity
				}

				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rouble_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rouble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_2 #Player country quantity of rouble sell 
					value  = var:rouble_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_2
					value = scope:target.var:rouble_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rouble_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rouble_quantity
							multiply = var:rouble_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_rouble_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rouble_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:rouble_order = 3
				var:rouble_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_3 #Player country quantity of rouble sell 
					value  = scope:player_country.var:rouble_quantity
				}

				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rouble_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rouble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_3 #Player country quantity of rouble sell 
					value  = var:rouble_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_3
					value = scope:target.var:rouble_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rouble_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rouble_quantity
							multiply = var:rouble_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_rouble_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rouble_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:rouble_order = 4
				var:rouble_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_4 #Player country quantity of rouble sell 
					value  = scope:player_country.var:rouble_quantity
				}

				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rouble_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rouble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_4 #Player country quantity of rouble sell 
					value  = var:rouble_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_4
					value = scope:target.var:rouble_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rouble_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rouble_quantity
							multiply = var:rouble_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_rouble_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rouble_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:rouble_order = 5
				var:rouble_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_5 #Player country quantity of rouble sell 
					value  = scope:player_country.var:rouble_quantity
				}

				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = rouble_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:rouble_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = rouble_sell_5 #Player country quantity of rouble sell 
					value  = var:rouble_quantity
				}
				
				#exchange rate
				set_variable = {
					name = rouble_to_player_currency_exchange_rate_5
					value = scope:target.var:rouble_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = rouble_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:rouble_quantity
							multiply = var:rouble_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_rouble_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_rouble_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:rouble_order >= 5
			}
			set_variable = {
				name = rouble_order
				#Player country quantity of rouble sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#swiss_franc

swiss_franc_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = swiss_franc_quantity
				#var:swiss_franc_quantity < market.owner.stockpiling_swiss_franc_state
				var:swiss_franc_quantity < sell_limit_currency_var_rest
				var:swiss_franc_quantity < 25000000
			}
			change_variable = {
				name = swiss_franc_quantity
				add = 5000000
			}
		}
	}
}
swiss_franc_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = swiss_franc_quantity
				var:swiss_franc_quantity > 5000000
			}
			change_variable = {
				name = swiss_franc_quantity
				subtract = 5000000
			}
		}
	}
}

buy_swiss_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_swiss_franc_state > player.var:swiss_franc_quantity
		buy_swiss_franc_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_swiss_franc_order_valid = 0
		}
	}
}

buy_swiss_franc_market_panel = {
	is_shown = {
		var:swiss_franc_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = swiss_franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:swiss_franc_order = 1
				var:swiss_franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_1 #Player country quantity of swiss_franc buy 
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_buy_1 #Player country quantity of swiss_franc buy 
					value  = var:swiss_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_1
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_swiss_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:swiss_franc_order = 2
				var:swiss_franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_2 #Player country quantity of swiss_franc buy 
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_buy_2 #Player country quantity of swiss_franc buy 
					value  = var:swiss_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_2
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_swiss_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:swiss_franc_order = 3
				var:swiss_franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_3 #Player country quantity of swiss_franc buy 
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_buy_3 #Player country quantity of swiss_franc buy 
					value  = var:swiss_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_3
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_swiss_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:swiss_franc_order = 4
				var:swiss_franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_4 #Player country quantity of swiss_franc buy 
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_buy_4 #Player country quantity of swiss_franc buy 
					value  = var:swiss_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_4
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_swiss_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:swiss_franc_order = 5
				var:swiss_franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_5 #Player country quantity of swiss_franc buy 
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_buy_5 #Player country quantity of swiss_franc buy 
					value  = var:swiss_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_5
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_swiss_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:swiss_franc_order >= 5
			}
			set_variable = {
				name = swiss_franc_order
				#Player country quantity of swiss_franc buy 
				value  = 0
			}
		}
	}
}

sell_swiss_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_swiss_franc_state > player.var:swiss_franc_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:swiss_franc_quantity < player.stockpiling_swiss_franc_state
		not = {
			player.buy_swiss_franc_order_valid = 0
		}
	}
}

sell_swiss_franc_market_panel = {
	is_shown = {
		var:swiss_franc_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = swiss_franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:swiss_franc_order = 1
				var:swiss_franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_1 #Player country quantity of swiss_franc sell 
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_1 #Player country quantity of swiss_franc sell 
					value  = var:swiss_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_1
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_swiss_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:swiss_franc_order = 2
				var:swiss_franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_2 #Player country quantity of swiss_franc sell 
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_2 #Player country quantity of swiss_franc sell 
					value  = var:swiss_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_2
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_swiss_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:swiss_franc_order = 3
				var:swiss_franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_3 #Player country quantity of swiss_franc sell 
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_3 #Player country quantity of swiss_franc sell 
					value  = var:swiss_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_3
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_swiss_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:swiss_franc_order = 4
				var:swiss_franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_4 #Player country quantity of swiss_franc sell 
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_4 #Player country quantity of swiss_franc sell 
					value  = var:swiss_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_4
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_swiss_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:swiss_franc_order = 5
				var:swiss_franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_5 #Player country quantity of swiss_franc sell 
					value  = scope:player_country.var:swiss_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = swiss_franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:swiss_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = swiss_franc_sell_5 #Player country quantity of swiss_franc sell 
					value  = var:swiss_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = swiss_franc_to_player_currency_exchange_rate_5
					value = scope:target.var:swiss_franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = swiss_franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:swiss_franc_quantity
							multiply = var:swiss_franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_swiss_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_swiss_franc_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:swiss_franc_order >= 5
			}
			set_variable = {
				name = swiss_franc_order
				#Player country quantity of swiss_franc sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#belgian_franc

belgian_franc_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = belgian_franc_quantity
				#var:belgian_franc_quantity < market.owner.stockpiling_belgian_franc_state
				var:belgian_franc_quantity < sell_limit_currency_var_rest
				var:belgian_franc_quantity < 25000000
			}
			change_variable = {
				name = belgian_franc_quantity
				add = 5000000
			}
		}
	}
}
belgian_franc_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = belgian_franc_quantity
				var:belgian_franc_quantity > 5000000
			}
			change_variable = {
				name = belgian_franc_quantity
				subtract = 5000000
			}
		}
	}
}

buy_belgian_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_belgian_franc_state > player.var:belgian_franc_quantity
		buy_belgian_franc_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_belgian_franc_order_valid = 0
		}
	}
}

buy_belgian_franc_market_panel = {
	is_shown = {
		var:belgian_franc_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = belgian_franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:belgian_franc_order = 1
				var:belgian_franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_1 #Player country quantity of belgian_franc buy 
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_buy_1 #Player country quantity of belgian_franc buy 
					value  = var:belgian_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_1
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_belgian_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:belgian_franc_order = 2
				var:belgian_franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_2 #Player country quantity of belgian_franc buy 
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_buy_2 #Player country quantity of belgian_franc buy 
					value  = var:belgian_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_2
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_belgian_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:belgian_franc_order = 3
				var:belgian_franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_3 #Player country quantity of belgian_franc buy 
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_buy_3 #Player country quantity of belgian_franc buy 
					value  = var:belgian_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_3
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_belgian_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:belgian_franc_order = 4
				var:belgian_franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_4 #Player country quantity of belgian_franc buy 
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_buy_4 #Player country quantity of belgian_franc buy 
					value  = var:belgian_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_4
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_belgian_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:belgian_franc_order = 5
				var:belgian_franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_5 #Player country quantity of belgian_franc buy 
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_buy_5 #Player country quantity of belgian_franc buy 
					value  = var:belgian_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_5
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_belgian_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:belgian_franc_order >= 5
			}
			set_variable = {
				name = belgian_franc_order
				#Player country quantity of belgian_franc buy 
				value  = 0
			}
		}
	}
}

sell_belgian_franc_market_panel_enabled = {
	is_valid = {
		stockpiling_belgian_franc_state > player.var:belgian_franc_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:belgian_franc_quantity < player.stockpiling_belgian_franc_state
		not = {
			player.buy_belgian_franc_order_valid = 0
		}
	}
}

sell_belgian_franc_market_panel = {
	is_shown = {
		var:belgian_franc_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = belgian_franc_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:belgian_franc_order = 1
				var:belgian_franc_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_1 #Player country quantity of belgian_franc sell 
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_1 #Player country quantity of belgian_franc sell 
					value  = var:belgian_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_1
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_belgian_franc_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:belgian_franc_order = 2
				var:belgian_franc_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_2 #Player country quantity of belgian_franc sell 
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_2 #Player country quantity of belgian_franc sell 
					value  = var:belgian_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_2
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_belgian_franc_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:belgian_franc_order = 3
				var:belgian_franc_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_3 #Player country quantity of belgian_franc sell 
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_3 #Player country quantity of belgian_franc sell 
					value  = var:belgian_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_3
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_belgian_franc_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:belgian_franc_order = 4
				var:belgian_franc_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_4 #Player country quantity of belgian_franc sell 
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_4 #Player country quantity of belgian_franc sell 
					value  = var:belgian_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_4
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_belgian_franc_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:belgian_franc_order = 5
				var:belgian_franc_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_5 #Player country quantity of belgian_franc sell 
					value  = scope:player_country.var:belgian_franc_quantity
				}

				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = belgian_franc_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:belgian_franc_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = belgian_franc_sell_5 #Player country quantity of belgian_franc sell 
					value  = var:belgian_franc_quantity
				}
				
				#exchange rate
				set_variable = {
					name = belgian_franc_to_player_currency_exchange_rate_5
					value = scope:target.var:belgian_franc_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = belgian_franc_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:belgian_franc_quantity
							multiply = var:belgian_franc_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_belgian_franc_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_belgian_franc_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:belgian_franc_order >= 5
			}
			set_variable = {
				name = belgian_franc_order
				#Player country quantity of belgian_franc sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#florin

florin_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = florin_quantity
				#var:florin_quantity < market.owner.stockpiling_florin_state
				var:florin_quantity < sell_limit_currency_var_rest
				var:florin_quantity < 25000000
			}
			change_variable = {
				name = florin_quantity
				add = 5000000
			}
		}
	}
}
florin_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = florin_quantity
				var:florin_quantity > 5000000
			}
			change_variable = {
				name = florin_quantity
				subtract = 5000000
			}
		}
	}
}

buy_florin_market_panel_enabled = {
	is_valid = {
		stockpiling_florin_state > player.var:florin_quantity
		buy_florin_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_florin_order_valid = 0
		}
	}
}

buy_florin_market_panel = {
	is_shown = {
		var:florin_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = florin_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:florin_order = 1
				var:florin_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_1 #Player country quantity of florin buy 
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_buy_1 #Player country quantity of florin buy 
					value  = var:florin_quantity
				}
				
				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_1
					value = scope:target.var:florin_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_florin_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:florin_order = 2
				var:florin_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_2 #Player country quantity of florin buy 
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_buy_2 #Player country quantity of florin buy 
					value  = var:florin_quantity
				}
				
				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_2
					value = scope:target.var:florin_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_florin_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:florin_order = 3
				var:florin_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_3 #Player country quantity of florin buy 
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_buy_3 #Player country quantity of florin buy 
					value  = var:florin_quantity
				}
				
				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_3
					value = scope:target.var:florin_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_florin_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:florin_order = 4
				var:florin_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_4 #Player country quantity of florin buy 
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_buy_4 #Player country quantity of florin buy 
					value  = var:florin_quantity
				}
				
				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_4
					value = scope:target.var:florin_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_florin_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:florin_order = 5
				var:florin_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_5 #Player country quantity of florin buy 
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_buy_5 #Player country quantity of florin buy 
					value  = var:florin_quantity
				}
				
				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_5
					value = scope:target.var:florin_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_florin_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:florin_order >= 5
			}
			set_variable = {
				name = florin_order
				#Player country quantity of florin buy 
				value  = 0
			}
		}
	}
}

sell_florin_market_panel_enabled = {
	is_valid = {
		stockpiling_florin_state > player.var:florin_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:florin_quantity < player.stockpiling_florin_state
		not = {
			player.buy_florin_order_valid = 0
		}
	}
}

sell_florin_market_panel = {
	is_shown = {
		var:florin_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = florin_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:florin_order = 1
				var:florin_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_1 #Player country quantity of florin sell 
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_1 #Player country quantity of florin sell 
					value  = var:florin_quantity
				}
				
				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_1
					value = scope:target.var:florin_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_florin_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:florin_order = 2
				var:florin_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_2 #Player country quantity of florin sell 
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_2 #Player country quantity of florin sell 
					value  = var:florin_quantity
				}
				
				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_2
					value = scope:target.var:florin_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_florin_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:florin_order = 3
				var:florin_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_3 #Player country quantity of florin sell 
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_3 #Player country quantity of florin sell 
					value  = var:florin_quantity
				}
				
				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_3
					value = scope:target.var:florin_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_florin_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:florin_order = 4
				var:florin_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_4 #Player country quantity of florin sell 
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_4 #Player country quantity of florin sell 
					value  = var:florin_quantity
				}
				
				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_4
					value = scope:target.var:florin_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_florin_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:florin_order = 5
				var:florin_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_5 #Player country quantity of florin sell 
					value  = scope:player_country.var:florin_quantity
				}

				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = florin_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:florin_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = florin_sell_5 #Player country quantity of florin sell 
					value  = var:florin_quantity
				}
				
				#exchange rate
				set_variable = {
					name = florin_to_player_currency_exchange_rate_5
					value = scope:target.var:florin_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = florin_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:florin_quantity
							multiply = var:florin_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_florin_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_florin_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:florin_order >= 5
			}
			set_variable = {
				name = florin_order
				#Player country quantity of florin sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#brazilian_real

brazilian_real_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = brazilian_real_quantity
				#var:brazilian_real_quantity < market.owner.stockpiling_brazilian_real_state
				var:brazilian_real_quantity < sell_limit_currency_var_rest
				var:brazilian_real_quantity < 25000000
			}
			change_variable = {
				name = brazilian_real_quantity
				add = 5000000
			}
		}
	}
}
brazilian_real_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = brazilian_real_quantity
				var:brazilian_real_quantity > 5000000
			}
			change_variable = {
				name = brazilian_real_quantity
				subtract = 5000000
			}
		}
	}
}

buy_brazilian_real_market_panel_enabled = {
	is_valid = {
		stockpiling_brazilian_real_state > player.var:brazilian_real_quantity
		buy_brazilian_real_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_brazilian_real_order_valid = 0
		}
	}
}

buy_brazilian_real_market_panel = {
	is_shown = {
		var:brazilian_real_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = brazilian_real_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:brazilian_real_order = 1
				var:brazilian_real_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_1 #Player country quantity of brazilian_real buy 
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_buy_1 #Player country quantity of brazilian_real buy 
					value  = var:brazilian_real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_1
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_brazilian_real_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:brazilian_real_order = 2
				var:brazilian_real_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_2 #Player country quantity of brazilian_real buy 
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_buy_2 #Player country quantity of brazilian_real buy 
					value  = var:brazilian_real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_2
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_brazilian_real_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:brazilian_real_order = 3
				var:brazilian_real_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_3 #Player country quantity of brazilian_real buy 
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_buy_3 #Player country quantity of brazilian_real buy 
					value  = var:brazilian_real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_3
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_brazilian_real_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:brazilian_real_order = 4
				var:brazilian_real_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_4 #Player country quantity of brazilian_real buy 
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_buy_4 #Player country quantity of brazilian_real buy 
					value  = var:brazilian_real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_4
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_brazilian_real_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:brazilian_real_order = 5
				var:brazilian_real_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_5 #Player country quantity of brazilian_real buy 
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_buy_5 #Player country quantity of brazilian_real buy 
					value  = var:brazilian_real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_5
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_brazilian_real_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:brazilian_real_order >= 5
			}
			set_variable = {
				name = brazilian_real_order
				#Player country quantity of brazilian_real buy 
				value  = 0
			}
		}
	}
}

sell_brazilian_real_market_panel_enabled = {
	is_valid = {
		stockpiling_brazilian_real_state > player.var:brazilian_real_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:brazilian_real_quantity < player.stockpiling_brazilian_real_state
		not = {
			player.buy_brazilian_real_order_valid = 0
		}
	}
}

sell_brazilian_real_market_panel = {
	is_shown = {
		var:brazilian_real_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = brazilian_real_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:brazilian_real_order = 1
				var:brazilian_real_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_1 #Player country quantity of brazilian_real sell 
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_1 #Player country quantity of brazilian_real sell 
					value  = var:brazilian_real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_1
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_brazilian_real_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:brazilian_real_order = 2
				var:brazilian_real_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_2 #Player country quantity of brazilian_real sell 
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_2 #Player country quantity of brazilian_real sell 
					value  = var:brazilian_real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_2
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_brazilian_real_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:brazilian_real_order = 3
				var:brazilian_real_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_3 #Player country quantity of brazilian_real sell 
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_3 #Player country quantity of brazilian_real sell 
					value  = var:brazilian_real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_3
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_brazilian_real_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:brazilian_real_order = 4
				var:brazilian_real_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_4 #Player country quantity of brazilian_real sell 
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_4 #Player country quantity of brazilian_real sell 
					value  = var:brazilian_real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_4
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_brazilian_real_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:brazilian_real_order = 5
				var:brazilian_real_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_5 #Player country quantity of brazilian_real sell 
					value  = scope:player_country.var:brazilian_real_quantity
				}

				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = brazilian_real_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:brazilian_real_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = brazilian_real_sell_5 #Player country quantity of brazilian_real sell 
					value  = var:brazilian_real_quantity
				}
				
				#exchange rate
				set_variable = {
					name = brazilian_real_to_player_currency_exchange_rate_5
					value = scope:target.var:brazilian_real_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = brazilian_real_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:brazilian_real_quantity
							multiply = var:brazilian_real_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_brazilian_real_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_brazilian_real_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:brazilian_real_order >= 5
			}
			set_variable = {
				name = brazilian_real_order
				#Player country quantity of brazilian_real sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#dinar

dinar_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = dinar_quantity
				#var:dinar_quantity < market.owner.stockpiling_dinar_state
				var:dinar_quantity < sell_limit_currency_var_rest
				var:dinar_quantity < 25000000
			}
			change_variable = {
				name = dinar_quantity
				add = 5000000
			}
		}
	}
}
dinar_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = dinar_quantity
				var:dinar_quantity > 5000000
			}
			change_variable = {
				name = dinar_quantity
				subtract = 5000000
			}
		}
	}
}

buy_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_dinar_state > player.var:dinar_quantity
		buy_dinar_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_dinar_order_valid = 0
		}
	}
}

buy_dinar_market_panel = {
	is_shown = {
		var:dinar_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:dinar_order = 1
				var:dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_1 #Player country quantity of dinar buy 
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_buy_1 #Player country quantity of dinar buy 
					value  = var:dinar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:dinar_order = 2
				var:dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_2 #Player country quantity of dinar buy 
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_buy_2 #Player country quantity of dinar buy 
					value  = var:dinar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:dinar_order = 3
				var:dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_3 #Player country quantity of dinar buy 
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_buy_3 #Player country quantity of dinar buy 
					value  = var:dinar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:dinar_order = 4
				var:dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_4 #Player country quantity of dinar buy 
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_buy_4 #Player country quantity of dinar buy 
					value  = var:dinar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:dinar_order = 5
				var:dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_5 #Player country quantity of dinar buy 
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_buy_5 #Player country quantity of dinar buy 
					value  = var:dinar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:dinar_order >= 5
			}
			set_variable = {
				name = dinar_order
				#Player country quantity of dinar buy 
				value  = 0
			}
		}
	}
}

sell_dinar_market_panel_enabled = {
	is_valid = {
		stockpiling_dinar_state > player.var:dinar_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:dinar_quantity < player.stockpiling_dinar_state
		not = {
			player.buy_dinar_order_valid = 0
		}
	}
}

sell_dinar_market_panel = {
	is_shown = {
		var:dinar_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = dinar_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:dinar_order = 1
				var:dinar_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_1 #Player country quantity of dinar sell 
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_1 #Player country quantity of dinar sell 
					value  = var:dinar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_1
					value = scope:target.var:dinar_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_dinar_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:dinar_order = 2
				var:dinar_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_2 #Player country quantity of dinar sell 
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_2 #Player country quantity of dinar sell 
					value  = var:dinar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_2
					value = scope:target.var:dinar_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_dinar_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:dinar_order = 3
				var:dinar_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_3 #Player country quantity of dinar sell 
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_3 #Player country quantity of dinar sell 
					value  = var:dinar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_3
					value = scope:target.var:dinar_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_dinar_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:dinar_order = 4
				var:dinar_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_4 #Player country quantity of dinar sell 
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_4 #Player country quantity of dinar sell 
					value  = var:dinar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_4
					value = scope:target.var:dinar_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_dinar_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:dinar_order = 5
				var:dinar_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_5 #Player country quantity of dinar sell 
					value  = scope:player_country.var:dinar_quantity
				}

				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = dinar_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:dinar_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = dinar_sell_5 #Player country quantity of dinar sell 
					value  = var:dinar_quantity
				}
				
				#exchange rate
				set_variable = {
					name = dinar_to_player_currency_exchange_rate_5
					value = scope:target.var:dinar_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = dinar_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:dinar_quantity
							multiply = var:dinar_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_dinar_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_dinar_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:dinar_order >= 5
			}
			set_variable = {
				name = dinar_order
				#Player country quantity of dinar sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#krone

krone_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = krone_quantity
				#var:krone_quantity < market.owner.stockpiling_krone_state
				var:krone_quantity < sell_limit_currency_var_rest
				var:krone_quantity < 25000000
			}
			change_variable = {
				name = krone_quantity
				add = 5000000
			}
		}
	}
}
krone_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = krone_quantity
				var:krone_quantity > 5000000
			}
			change_variable = {
				name = krone_quantity
				subtract = 5000000
			}
		}
	}
}

buy_krone_market_panel_enabled = {
	is_valid = {
		stockpiling_krone_state > player.var:krone_quantity
		buy_krone_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_krone_order_valid = 0
		}
	}
}

buy_krone_market_panel = {
	is_shown = {
		var:krone_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = krone_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:krone_order = 1
				var:krone_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_1 #Player country quantity of krone buy 
					value  = scope:player_country.var:krone_quantity
				}

				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = krone_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = krone_buy_1 #Player country quantity of krone buy 
					value  = var:krone_quantity
				}
				
				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_1
					value = scope:target.var:krone_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = krone_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:krone_quantity
							multiply = var:krone_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_krone_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_krone_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:krone_order = 2
				var:krone_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_2 #Player country quantity of krone buy 
					value  = scope:player_country.var:krone_quantity
				}

				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = krone_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = krone_buy_2 #Player country quantity of krone buy 
					value  = var:krone_quantity
				}
				
				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_2
					value = scope:target.var:krone_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = krone_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:krone_quantity
							multiply = var:krone_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_krone_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_krone_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:krone_order = 3
				var:krone_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_3 #Player country quantity of krone buy 
					value  = scope:player_country.var:krone_quantity
				}

				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = krone_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = krone_buy_3 #Player country quantity of krone buy 
					value  = var:krone_quantity
				}
				
				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_3
					value = scope:target.var:krone_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = krone_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:krone_quantity
							multiply = var:krone_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_krone_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_krone_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:krone_order = 4
				var:krone_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_4 #Player country quantity of krone buy 
					value  = scope:player_country.var:krone_quantity
				}

				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = krone_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = krone_buy_4 #Player country quantity of krone buy 
					value  = var:krone_quantity
				}
				
				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_4
					value = scope:target.var:krone_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = krone_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:krone_quantity
							multiply = var:krone_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_krone_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_krone_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:krone_order = 5
				var:krone_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_5 #Player country quantity of krone buy 
					value  = scope:player_country.var:krone_quantity
				}

				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = krone_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = krone_buy_5 #Player country quantity of krone buy 
					value  = var:krone_quantity
				}
				
				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_5
					value = scope:target.var:krone_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = krone_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:krone_quantity
							multiply = var:krone_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_krone_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_krone_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:krone_order >= 5
			}
			set_variable = {
				name = krone_order
				#Player country quantity of krone buy 
				value  = 0
			}
		}
	}
}

sell_krone_market_panel_enabled = {
	is_valid = {
		stockpiling_krone_state > player.var:krone_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:krone_quantity < player.stockpiling_krone_state
		not = {
			player.buy_krone_order_valid = 0
		}
	}
}

sell_krone_market_panel = {
	is_shown = {
		var:krone_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = krone_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:krone_order = 1
				var:krone_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_1 #Player country quantity of krone sell 
					value  = scope:player_country.var:krone_quantity
				}

				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = krone_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_1 #Player country quantity of krone sell 
					value  = var:krone_quantity
				}
				
				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_1
					value = scope:target.var:krone_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = krone_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:krone_quantity
							multiply = var:krone_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_krone_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_krone_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:krone_order = 2
				var:krone_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_2 #Player country quantity of krone sell 
					value  = scope:player_country.var:krone_quantity
				}

				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = krone_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_2 #Player country quantity of krone sell 
					value  = var:krone_quantity
				}
				
				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_2
					value = scope:target.var:krone_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = krone_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:krone_quantity
							multiply = var:krone_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_krone_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_krone_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:krone_order = 3
				var:krone_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_3 #Player country quantity of krone sell 
					value  = scope:player_country.var:krone_quantity
				}

				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = krone_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_3 #Player country quantity of krone sell 
					value  = var:krone_quantity
				}
				
				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_3
					value = scope:target.var:krone_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = krone_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:krone_quantity
							multiply = var:krone_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_krone_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_krone_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:krone_order = 4
				var:krone_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_4 #Player country quantity of krone sell 
					value  = scope:player_country.var:krone_quantity
				}

				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = krone_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_4 #Player country quantity of krone sell 
					value  = var:krone_quantity
				}
				
				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_4
					value = scope:target.var:krone_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = krone_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:krone_quantity
							multiply = var:krone_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_krone_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_krone_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:krone_order = 5
				var:krone_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_5 #Player country quantity of krone sell 
					value  = scope:player_country.var:krone_quantity
				}

				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = krone_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:krone_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = krone_sell_5 #Player country quantity of krone sell 
					value  = var:krone_quantity
				}
				
				#exchange rate
				set_variable = {
					name = krone_to_player_currency_exchange_rate_5
					value = scope:target.var:krone_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = krone_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:krone_quantity
							multiply = var:krone_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_krone_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_krone_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:krone_order >= 5
			}
			set_variable = {
				name = krone_order
				#Player country quantity of krone sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#leu

leu_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = leu_quantity
				#var:leu_quantity < market.owner.stockpiling_leu_state
				var:leu_quantity < sell_limit_currency_var_rest
				var:leu_quantity < 25000000
			}
			change_variable = {
				name = leu_quantity
				add = 5000000
			}
		}
	}
}
leu_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = leu_quantity
				var:leu_quantity > 5000000
			}
			change_variable = {
				name = leu_quantity
				subtract = 5000000
			}
		}
	}
}

buy_leu_market_panel_enabled = {
	is_valid = {
		stockpiling_leu_state > player.var:leu_quantity
		buy_leu_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_leu_order_valid = 0
		}
	}
}

buy_leu_market_panel = {
	is_shown = {
		var:leu_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = leu_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:leu_order = 1
				var:leu_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_1 #Player country quantity of leu buy 
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_buy_1 #Player country quantity of leu buy 
					value  = var:leu_quantity
				}
				
				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_1
					value = scope:target.var:leu_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_leu_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:leu_order = 2
				var:leu_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_2 #Player country quantity of leu buy 
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_buy_2 #Player country quantity of leu buy 
					value  = var:leu_quantity
				}
				
				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_2
					value = scope:target.var:leu_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_leu_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:leu_order = 3
				var:leu_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_3 #Player country quantity of leu buy 
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_buy_3 #Player country quantity of leu buy 
					value  = var:leu_quantity
				}
				
				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_3
					value = scope:target.var:leu_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_leu_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:leu_order = 4
				var:leu_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_4 #Player country quantity of leu buy 
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_buy_4 #Player country quantity of leu buy 
					value  = var:leu_quantity
				}
				
				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_4
					value = scope:target.var:leu_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_leu_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:leu_order = 5
				var:leu_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_5 #Player country quantity of leu buy 
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_buy_5 #Player country quantity of leu buy 
					value  = var:leu_quantity
				}
				
				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_5
					value = scope:target.var:leu_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_leu_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:leu_order >= 5
			}
			set_variable = {
				name = leu_order
				#Player country quantity of leu buy 
				value  = 0
			}
		}
	}
}

sell_leu_market_panel_enabled = {
	is_valid = {
		stockpiling_leu_state > player.var:leu_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:leu_quantity < player.stockpiling_leu_state
		not = {
			player.buy_leu_order_valid = 0
		}
	}
}

sell_leu_market_panel = {
	is_shown = {
		var:leu_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = leu_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:leu_order = 1
				var:leu_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_1 #Player country quantity of leu sell 
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_1 #Player country quantity of leu sell 
					value  = var:leu_quantity
				}
				
				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_1
					value = scope:target.var:leu_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_leu_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:leu_order = 2
				var:leu_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_2 #Player country quantity of leu sell 
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_2 #Player country quantity of leu sell 
					value  = var:leu_quantity
				}
				
				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_2
					value = scope:target.var:leu_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_leu_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:leu_order = 3
				var:leu_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_3 #Player country quantity of leu sell 
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_3 #Player country quantity of leu sell 
					value  = var:leu_quantity
				}
				
				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_3
					value = scope:target.var:leu_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_leu_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:leu_order = 4
				var:leu_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_4 #Player country quantity of leu sell 
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_4 #Player country quantity of leu sell 
					value  = var:leu_quantity
				}
				
				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_4
					value = scope:target.var:leu_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_leu_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:leu_order = 5
				var:leu_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_5 #Player country quantity of leu sell 
					value  = scope:player_country.var:leu_quantity
				}

				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = leu_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:leu_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = leu_sell_5 #Player country quantity of leu sell 
					value  = var:leu_quantity
				}
				
				#exchange rate
				set_variable = {
					name = leu_to_player_currency_exchange_rate_5
					value = scope:target.var:leu_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = leu_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:leu_quantity
							multiply = var:leu_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_leu_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_leu_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:leu_order >= 5
			}
			set_variable = {
				name = leu_order
				#Player country quantity of leu sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#drachma

drachma_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = drachma_quantity
				#var:drachma_quantity < market.owner.stockpiling_drachma_state
				var:drachma_quantity < sell_limit_currency_var_rest
				var:drachma_quantity < 25000000
			}
			change_variable = {
				name = drachma_quantity
				add = 5000000
			}
		}
	}
}
drachma_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = drachma_quantity
				var:drachma_quantity > 5000000
			}
			change_variable = {
				name = drachma_quantity
				subtract = 5000000
			}
		}
	}
}

buy_drachma_market_panel_enabled = {
	is_valid = {
		stockpiling_drachma_state > player.var:drachma_quantity
		buy_drachma_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_drachma_order_valid = 0
		}
	}
}

buy_drachma_market_panel = {
	is_shown = {
		var:drachma_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = drachma_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:drachma_order = 1
				var:drachma_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_1 #Player country quantity of drachma buy 
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_buy_1 #Player country quantity of drachma buy 
					value  = var:drachma_quantity
				}
				
				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_1
					value = scope:target.var:drachma_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_drachma_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:drachma_order = 2
				var:drachma_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_2 #Player country quantity of drachma buy 
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_buy_2 #Player country quantity of drachma buy 
					value  = var:drachma_quantity
				}
				
				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_2
					value = scope:target.var:drachma_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_drachma_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:drachma_order = 3
				var:drachma_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_3 #Player country quantity of drachma buy 
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_buy_3 #Player country quantity of drachma buy 
					value  = var:drachma_quantity
				}
				
				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_3
					value = scope:target.var:drachma_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_drachma_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:drachma_order = 4
				var:drachma_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_4 #Player country quantity of drachma buy 
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_buy_4 #Player country quantity of drachma buy 
					value  = var:drachma_quantity
				}
				
				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_4
					value = scope:target.var:drachma_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_drachma_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:drachma_order = 5
				var:drachma_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_5 #Player country quantity of drachma buy 
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_buy_5 #Player country quantity of drachma buy 
					value  = var:drachma_quantity
				}
				
				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_5
					value = scope:target.var:drachma_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_drachma_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:drachma_order >= 5
			}
			set_variable = {
				name = drachma_order
				#Player country quantity of drachma buy 
				value  = 0
			}
		}
	}
}

sell_drachma_market_panel_enabled = {
	is_valid = {
		stockpiling_drachma_state > player.var:drachma_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:drachma_quantity < player.stockpiling_drachma_state
		not = {
			player.buy_drachma_order_valid = 0
		}
	}
}

sell_drachma_market_panel = {
	is_shown = {
		var:drachma_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = drachma_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:drachma_order = 1
				var:drachma_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_1 #Player country quantity of drachma sell 
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_1 #Player country quantity of drachma sell 
					value  = var:drachma_quantity
				}
				
				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_1
					value = scope:target.var:drachma_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_drachma_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:drachma_order = 2
				var:drachma_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_2 #Player country quantity of drachma sell 
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_2 #Player country quantity of drachma sell 
					value  = var:drachma_quantity
				}
				
				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_2
					value = scope:target.var:drachma_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_drachma_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:drachma_order = 3
				var:drachma_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_3 #Player country quantity of drachma sell 
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_3 #Player country quantity of drachma sell 
					value  = var:drachma_quantity
				}
				
				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_3
					value = scope:target.var:drachma_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_drachma_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:drachma_order = 4
				var:drachma_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_4 #Player country quantity of drachma sell 
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_4 #Player country quantity of drachma sell 
					value  = var:drachma_quantity
				}
				
				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_4
					value = scope:target.var:drachma_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_drachma_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:drachma_order = 5
				var:drachma_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_5 #Player country quantity of drachma sell 
					value  = scope:player_country.var:drachma_quantity
				}

				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = drachma_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:drachma_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = drachma_sell_5 #Player country quantity of drachma sell 
					value  = var:drachma_quantity
				}
				
				#exchange rate
				set_variable = {
					name = drachma_to_player_currency_exchange_rate_5
					value = scope:target.var:drachma_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = drachma_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:drachma_quantity
							multiply = var:drachma_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_drachma_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_drachma_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:drachma_order >= 5
			}
			set_variable = {
				name = drachma_order
				#Player country quantity of drachma sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#bath

bath_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = bath_quantity
				#var:bath_quantity < market.owner.stockpiling_bath_state
				var:bath_quantity < sell_limit_currency_var_rest
				var:bath_quantity < 25000000
			}
			change_variable = {
				name = bath_quantity
				add = 5000000
			}
		}
	}
}
bath_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = bath_quantity
				var:bath_quantity > 5000000
			}
			change_variable = {
				name = bath_quantity
				subtract = 5000000
			}
		}
	}
}

buy_bath_market_panel_enabled = {
	is_valid = {
		stockpiling_bath_state > player.var:bath_quantity
		buy_bath_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_bath_order_valid = 0
		}
	}
}

buy_bath_market_panel = {
	is_shown = {
		var:bath_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = bath_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:bath_order = 1
				var:bath_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_1 #Player country quantity of bath buy 
					value  = scope:player_country.var:bath_quantity
				}

				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = bath_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bath_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bath_buy_1 #Player country quantity of bath buy 
					value  = var:bath_quantity
				}
				
				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_1
					value = scope:target.var:bath_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = bath_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bath_quantity
							multiply = var:bath_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_bath_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bath_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:bath_order = 2
				var:bath_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_2 #Player country quantity of bath buy 
					value  = scope:player_country.var:bath_quantity
				}

				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = bath_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bath_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bath_buy_2 #Player country quantity of bath buy 
					value  = var:bath_quantity
				}
				
				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_2
					value = scope:target.var:bath_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = bath_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bath_quantity
							multiply = var:bath_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_bath_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bath_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:bath_order = 3
				var:bath_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_3 #Player country quantity of bath buy 
					value  = scope:player_country.var:bath_quantity
				}

				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = bath_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bath_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bath_buy_3 #Player country quantity of bath buy 
					value  = var:bath_quantity
				}
				
				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_3
					value = scope:target.var:bath_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = bath_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bath_quantity
							multiply = var:bath_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_bath_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bath_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:bath_order = 4
				var:bath_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_4 #Player country quantity of bath buy 
					value  = scope:player_country.var:bath_quantity
				}

				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = bath_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bath_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bath_buy_4 #Player country quantity of bath buy 
					value  = var:bath_quantity
				}
				
				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_4
					value = scope:target.var:bath_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = bath_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bath_quantity
							multiply = var:bath_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_bath_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bath_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:bath_order = 5
				var:bath_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_5 #Player country quantity of bath buy 
					value  = scope:player_country.var:bath_quantity
				}

				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = bath_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bath_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bath_buy_5 #Player country quantity of bath buy 
					value  = var:bath_quantity
				}
				
				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_5
					value = scope:target.var:bath_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = bath_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bath_quantity
							multiply = var:bath_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_bath_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bath_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:bath_order >= 5
			}
			set_variable = {
				name = bath_order
				#Player country quantity of bath buy 
				value  = 0
			}
		}
	}
}

sell_bath_market_panel_enabled = {
	is_valid = {
		stockpiling_bath_state > player.var:bath_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:bath_quantity < player.stockpiling_bath_state
		not = {
			player.buy_bath_order_valid = 0
		}
	}
}

sell_bath_market_panel = {
	is_shown = {
		var:bath_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = bath_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:bath_order = 1
				var:bath_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_1 #Player country quantity of bath sell 
					value  = scope:player_country.var:bath_quantity
				}

				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = bath_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bath_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_1 #Player country quantity of bath sell 
					value  = var:bath_quantity
				}
				
				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_1
					value = scope:target.var:bath_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = bath_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bath_quantity
							multiply = var:bath_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_bath_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bath_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:bath_order = 2
				var:bath_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_2 #Player country quantity of bath sell 
					value  = scope:player_country.var:bath_quantity
				}

				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = bath_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bath_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_2 #Player country quantity of bath sell 
					value  = var:bath_quantity
				}
				
				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_2
					value = scope:target.var:bath_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = bath_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bath_quantity
							multiply = var:bath_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_bath_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bath_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:bath_order = 3
				var:bath_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_3 #Player country quantity of bath sell 
					value  = scope:player_country.var:bath_quantity
				}

				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = bath_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bath_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_3 #Player country quantity of bath sell 
					value  = var:bath_quantity
				}
				
				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_3
					value = scope:target.var:bath_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = bath_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bath_quantity
							multiply = var:bath_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_bath_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bath_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:bath_order = 4
				var:bath_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_4 #Player country quantity of bath sell 
					value  = scope:player_country.var:bath_quantity
				}

				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = bath_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bath_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_4 #Player country quantity of bath sell 
					value  = var:bath_quantity
				}
				
				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_4
					value = scope:target.var:bath_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = bath_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bath_quantity
							multiply = var:bath_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_bath_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bath_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:bath_order = 5
				var:bath_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_5 #Player country quantity of bath sell 
					value  = scope:player_country.var:bath_quantity
				}

				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = bath_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:bath_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = bath_sell_5 #Player country quantity of bath sell 
					value  = var:bath_quantity
				}
				
				#exchange rate
				set_variable = {
					name = bath_to_player_currency_exchange_rate_5
					value = scope:target.var:bath_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = bath_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:bath_quantity
							multiply = var:bath_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_bath_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_bath_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:bath_order >= 5
			}
			set_variable = {
				name = bath_order
				#Player country quantity of bath sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################

#qiran

qiran_quantity_increase = {
	effect = {
		if = {
			limit = {
				has_variable = qiran_quantity
				#var:qiran_quantity < market.owner.stockpiling_qiran_state
				var:qiran_quantity < sell_limit_currency_var_rest
				var:qiran_quantity < 25000000
			}
			change_variable = {
				name = qiran_quantity
				add = 5000000
			}
		}
	}
}
qiran_quantity_reduce = {
	effect = {
		if = {
			limit = {
				has_variable = qiran_quantity
				var:qiran_quantity > 5000000
			}
			change_variable = {
				name = qiran_quantity
				subtract = 5000000
			}
		}
	}
}

buy_qiran_market_panel_enabled = {
	is_valid = {
		stockpiling_qiran_state > player.var:qiran_quantity
		buy_qiran_market_panel < player.money_supply
		money_quantity < player.sell_limit_currency_var_rest
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		not = {
			player.buy_qiran_order_valid = 0
		}
	}
}

buy_qiran_market_panel = {
	is_shown = {
		var:qiran_buy_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = qiran_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:qiran_order = 1
				var:qiran_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_1 #Player country quantity of qiran buy 
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_buy_1 #Player country quantity of qiran buy 
					value  = var:qiran_quantity
				}
				
				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_1
					value = scope:target.var:qiran_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = buy_qiran_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_buy_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:qiran_order = 2
				var:qiran_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_2 #Player country quantity of qiran buy 
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_buy_2 #Player country quantity of qiran buy 
					value  = var:qiran_quantity
				}
				
				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_2
					value = scope:target.var:qiran_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = buy_qiran_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_buy_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:qiran_order = 3
				var:qiran_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_3 #Player country quantity of qiran buy 
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_buy_3 #Player country quantity of qiran buy 
					value  = var:qiran_quantity
				}
				
				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_3
					value = scope:target.var:qiran_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = buy_qiran_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_buy_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:qiran_order = 4
				var:qiran_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_4 #Player country quantity of qiran buy 
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_buy_4 #Player country quantity of qiran buy 
					value  = var:qiran_quantity
				}
				
				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_4
					value = scope:target.var:qiran_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = buy_qiran_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_buy_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:qiran_order = 5
				var:qiran_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_5 #Player country quantity of qiran buy 
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_buy_5 #Player country quantity of qiran buy 
					value  = var:qiran_quantity
				}
				
				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_5
					value = scope:target.var:qiran_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = buy_qiran_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_buy_5
					target = prev
				}
			}
		}
		
		#reset
		if = {
			limit = {
				var:qiran_order >= 5
			}
			set_variable = {
				name = qiran_order
				#Player country quantity of qiran buy 
				value  = 0
			}
		}
	}
}

sell_qiran_market_panel_enabled = {
	is_valid = {
		stockpiling_qiran_state > player.var:qiran_quantity
		player.var:sell_limit_currency_var_1 < player.sell_limit_currency_var_0
		player.var:qiran_quantity < player.stockpiling_qiran_state
		not = {
			player.buy_qiran_order_valid = 0
		}
	}
}

sell_qiran_market_panel = {
	is_shown = {
		var:qiran_sell_1 > 0
	}
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		change_variable = {
			name = qiran_order
			add = 1
		}

		#_1
		if = {
			limit = {
				var:qiran_order = 1
				var:qiran_sell_1 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_1 #Player country quantity of qiran sell 
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_1
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_1 #Player country quantity of qiran sell 
					value  = var:qiran_quantity
				}
				
				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_1
					value = scope:target.var:qiran_to_player_currency_exchange_rate_1
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_1 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_1
						}
					}
				}
				set_variable = {
					name = sell_qiran_1
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_sell_1
					target = prev
				}
			}
		}
		#_2
		if = {
			limit = {
				var:qiran_order = 2
				var:qiran_sell_2 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_2 #Player country quantity of qiran sell 
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_2
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_2 #Player country quantity of qiran sell 
					value  = var:qiran_quantity
				}
				
				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_2
					value = scope:target.var:qiran_to_player_currency_exchange_rate_2
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_2 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_2
						}
					}
				}
				set_variable = {
					name = sell_qiran_2
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_sell_2
					target = prev
				}
			}
		}
		#_3
		if = {
			limit = {
				var:qiran_order = 3
				var:qiran_sell_3 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_3 #Player country quantity of qiran sell 
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_3
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_3 #Player country quantity of qiran sell 
					value  = var:qiran_quantity
				}
				
				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_3
					value = scope:target.var:qiran_to_player_currency_exchange_rate_3
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_3 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_3
						}
					}
				}
				set_variable = {
					name = sell_qiran_3
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_sell_3
					target = prev
				}
			}
		}
		#_4
		if = {
			limit = {
				var:qiran_order = 4
				var:qiran_sell_4 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_4 #Player country quantity of qiran sell 
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_4
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_4 #Player country quantity of qiran sell 
					value  = var:qiran_quantity
				}
				
				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_4
					value = scope:target.var:qiran_to_player_currency_exchange_rate_4
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_4 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_4
						}
					}
				}
				set_variable = {
					name = sell_qiran_4
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_sell_4
					target = prev
				}
			}
		}
		#_5
		if = {
			limit = {
				var:qiran_order = 5
				var:qiran_sell_5 = 0
			}
			scope:target = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_5 #Player country quantity of qiran sell 
					value  = scope:player_country.var:qiran_quantity
				}

				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_5
					value  = {
						value = money_value_rapported_inflation
						divide = scope:player_country.money_value_rapported_inflation 
					}
				}

				set_variable = {
					name = qiran_spe_to_add_to_specific_reserves_currency_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = scope:player_country.var:qiran_quantity
							multiply = {
								add = {
									add = owner.money_value_rapported_inflation
									divide = scope:player_country.money_value_rapported_inflation
								}
							}
						}
					}
				}
			}
			scope:player_country = {
				#Sterling quantity
				set_variable = {
					name = qiran_sell_5 #Player country quantity of qiran sell 
					value  = var:qiran_quantity
				}
				
				#exchange rate
				set_variable = {
					name = qiran_to_player_currency_exchange_rate_5
					value = scope:target.var:qiran_to_player_currency_exchange_rate_5
				}

				#Player currency to subtract to money_suply
				set_variable = {
					name = qiran_spe_to_subtract_to_money_suply_5 #Player country quantity of currency lost
					value  = {
						value = 0
						add = {
							add = var:qiran_quantity
							multiply = var:qiran_to_player_currency_exchange_rate_5
						}
					}
				}
				set_variable = {
					name = sell_qiran_5
					value  = 1
				}
				add_to_variable_list = {
					name = order_display_qiran_sell_5
					target = prev
				}
			}
		}

		#reset
		if = {
			limit = {
				var:qiran_order >= 5
			}
			set_variable = {
				name = qiran_order
				#Player country quantity of qiran sell 
				value  = 0
			}
		}
	}
}

################################################################################################################################################################

################################################################################################
################################################################################################
################################################################################################
################################################################################################

# ███████╗███████╗██╗     ██╗             ██╗███╗   ██╗         ██████╗  ██████╗ ██╗     ██████╗
# ██╔════╝██╔════╝██║     ██║             ██║████╗  ██║        ██╔════╝ ██╔═══██╗██║     ██╔══██╗
# ███████╗█████╗  ██║     ██║             ██║██╔██╗ ██║        ██║  ███╗██║   ██║██║     ██║  ██║
# ╚════██║██╔══╝  ██║     ██║             ██║██║╚██╗██║        ██║   ██║██║   ██║██║     ██║  ██║
# ███████║███████╗███████╗███████╗███████╗██║██║ ╚████║███████╗╚██████╔╝╚██████╔╝███████╗██████╔╝
# ╚══════╝╚══════╝╚══════╝╚══════╝╚══════╝╚═╝╚═╝  ╚═══╝╚══════╝ ╚═════╝  ╚═════╝ ╚══════╝╚═════╝

################################################################################################
################################################################################################
################################################################################################
################################################################################################

################################################################################################################################################################

################################################################################################################################################################

#money

sell_money_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:money_quantity < player.stockpiling_money_state
		#sell_money_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_money_in_gold_market_panel
	}
}

money_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_money_state_1
					add = scope:player_country.var:money_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:money_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_money_state_1
						subtract = owner.var:money_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:money_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#franc

sell_franc_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:franc_quantity < player.stockpiling_franc_state
		#sell_franc_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_franc_in_gold_market_panel
	}
}

franc_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_franc_state_1
					add = scope:player_country.var:franc_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:franc_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_franc_state_1
						subtract = owner.var:franc_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:franc_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#dollar

sell_dollar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:dollar_quantity < player.stockpiling_dollar_state
		#sell_dollar_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_dollar_in_gold_market_panel
	}
}

dollar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_dollar_state_1
					add = scope:player_country.var:dollar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:dollar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_dollar_state_1
						subtract = owner.var:dollar_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:dollar_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#mark

sell_mark_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:mark_quantity < player.stockpiling_mark_state
		#sell_mark_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_mark_in_gold_market_panel
	}
}

mark_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_mark_state_1
					add = scope:player_country.var:mark_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:mark_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_mark_state_1
						subtract = owner.var:mark_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:mark_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#sterling

sell_sterling_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:sterling_quantity < player.stockpiling_sterling_state
		#sell_sterling_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_sterling_in_gold_market_panel
	}
}

sterling_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_sterling_state_1
					add = scope:player_country.var:sterling_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:sterling_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_sterling_state_1
						subtract = owner.var:sterling_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:sterling_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#real

sell_real_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:real_quantity < player.stockpiling_real_state
		#sell_real_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_real_in_gold_market_panel
	}
}

real_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_real_state_1
					add = scope:player_country.var:real_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:real_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_real_state_1
						subtract = owner.var:real_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:real_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#gulden

sell_gulden_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:gulden_quantity < player.stockpiling_gulden_state
		#sell_gulden_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_gulden_in_gold_market_panel
	}
}

gulden_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_gulden_state_1
					add = scope:player_country.var:gulden_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:gulden_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_gulden_state_1
						subtract = owner.var:gulden_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:gulden_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#yuan

sell_yuan_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:yuan_quantity < player.stockpiling_yuan_state
		#sell_yuan_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_yuan_in_gold_market_panel
	}
}

yuan_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_yuan_state_1
					add = scope:player_country.var:yuan_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:yuan_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_yuan_state_1
						subtract = owner.var:yuan_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:yuan_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#rupee

sell_rupee_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:rupee_quantity < player.stockpiling_rupee_state
		#sell_rupee_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_rupee_in_gold_market_panel
	}
}

rupee_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_rupee_state_1
					add = scope:player_country.var:rupee_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:rupee_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_rupee_state_1
						subtract = owner.var:rupee_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:rupee_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#yen

sell_yen_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:yen_quantity < player.stockpiling_yen_state
		#sell_yen_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_yen_in_gold_market_panel
	}
}

yen_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_yen_state_1
					add = scope:player_country.var:yen_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:yen_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_yen_state_1
						subtract = owner.var:yen_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:yen_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#peseta

sell_peseta_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:peseta_quantity < player.stockpiling_peseta_state
		#sell_peseta_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_peseta_in_gold_market_panel
	}
}

peseta_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_peseta_state_1
					add = scope:player_country.var:peseta_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:peseta_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_peseta_state_1
						subtract = owner.var:peseta_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:peseta_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#ottoman_lira

sell_ottoman_lira_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:ottoman_lira_quantity < player.stockpiling_ottoman_lira_state
		#sell_ottoman_lira_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_ottoman_lira_in_gold_market_panel
	}
}

ottoman_lira_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_ottoman_lira_state_1
					add = scope:player_country.var:ottoman_lira_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:ottoman_lira_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_ottoman_lira_state_1
						subtract = owner.var:ottoman_lira_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:ottoman_lira_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#lira

sell_lira_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:lira_quantity < player.stockpiling_lira_state
		#sell_lira_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_lira_in_gold_market_panel
	}
}

lira_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_lira_state_1
					add = scope:player_country.var:lira_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:lira_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_lira_state_1
						subtract = owner.var:lira_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:lira_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#peso

sell_peso_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:peso_quantity < player.stockpiling_peso_state
		#sell_peso_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_peso_in_gold_market_panel
	}
}

peso_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_peso_state_1
					add = scope:player_country.var:peso_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:peso_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_peso_state_1
						subtract = owner.var:peso_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:peso_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#rouble

sell_rouble_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:rouble_quantity < player.stockpiling_rouble_state
		#sell_rouble_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_rouble_in_gold_market_panel
	}
}

rouble_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_rouble_state_1
					add = scope:player_country.var:rouble_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:rouble_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_rouble_state_1
						subtract = owner.var:rouble_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:rouble_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#swiss_franc

sell_swiss_franc_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:swiss_franc_quantity < player.stockpiling_swiss_franc_state
		#sell_swiss_franc_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_swiss_franc_in_gold_market_panel
	}
}

swiss_franc_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_swiss_franc_state_1
					add = scope:player_country.var:swiss_franc_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:swiss_franc_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_swiss_franc_state_1
						subtract = owner.var:swiss_franc_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:swiss_franc_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#belgian_franc

sell_belgian_franc_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:belgian_franc_quantity < player.stockpiling_belgian_franc_state
		#sell_belgian_franc_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_belgian_franc_in_gold_market_panel
	}
}

belgian_franc_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_belgian_franc_state_1
					add = scope:player_country.var:belgian_franc_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:belgian_franc_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_belgian_franc_state_1
						subtract = owner.var:belgian_franc_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:belgian_franc_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#florin

sell_florin_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:florin_quantity < player.stockpiling_florin_state
		#sell_florin_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_florin_in_gold_market_panel
	}
}

florin_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_florin_state_1
					add = scope:player_country.var:florin_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:florin_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_florin_state_1
						subtract = owner.var:florin_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:florin_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#brazilian_real

sell_brazilian_real_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:brazilian_real_quantity < player.stockpiling_brazilian_real_state
		#sell_brazilian_real_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_brazilian_real_in_gold_market_panel
	}
}

brazilian_real_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_brazilian_real_state_1
					add = scope:player_country.var:brazilian_real_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:brazilian_real_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_brazilian_real_state_1
						subtract = owner.var:brazilian_real_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:brazilian_real_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#dinar

sell_dinar_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:dinar_quantity < player.stockpiling_dinar_state
		#sell_dinar_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_dinar_in_gold_market_panel
	}
}

dinar_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_dinar_state_1
					add = scope:player_country.var:dinar_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:dinar_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_dinar_state_1
						subtract = owner.var:dinar_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:dinar_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#krone

sell_krone_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:krone_quantity < player.stockpiling_krone_state
		#sell_krone_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_krone_in_gold_market_panel
	}
}

krone_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_krone_state_1
					add = scope:player_country.var:krone_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:krone_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_krone_state_1
						subtract = owner.var:krone_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:krone_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#leu

sell_leu_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:leu_quantity < player.stockpiling_leu_state
		#sell_leu_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_leu_in_gold_market_panel
	}
}

leu_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_leu_state_1
					add = scope:player_country.var:leu_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:leu_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_leu_state_1
						subtract = owner.var:leu_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:leu_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#drachma

sell_drachma_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:drachma_quantity < player.stockpiling_drachma_state
		#sell_drachma_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_drachma_in_gold_market_panel
	}
}

drachma_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_drachma_state_1
					add = scope:player_country.var:drachma_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:drachma_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_drachma_state_1
						subtract = owner.var:drachma_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:drachma_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#bath

sell_bath_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:bath_quantity < player.stockpiling_bath_state
		#sell_bath_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_bath_in_gold_market_panel
	}
}

bath_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_bath_state_1
					add = scope:player_country.var:bath_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:bath_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_bath_state_1
						subtract = owner.var:bath_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:bath_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################

################################################################################################################################################################

#qiran

sell_qiran_in_gold_market_panel_enabled = {
	is_valid = {
		player.var:qiran_quantity < player.stockpiling_qiran_state
		#sell_qiran_in_gold_market_panel < player.gold_reserves_rest
		central_bank_gold_reserves_state > sell_qiran_in_gold_market_panel
	}
}

qiran_sell_in_gold = {
	effect = {
		root = {
			save_scope_as = target
		}
		every_country = {
			limit = {
				is_player = yes
			}
			save_scope_as = player_country
		}

		every_scope_state = {
			if = {
				limit = {
					has_modifier = bank_central_historic_place
					is_capital = yes
				}
				change_variable = {
					name = stockpiling_qiran_state_1
					add = scope:player_country.var:qiran_quantity
				}
				change_variable = {
					name = central_bank_gold_reserves_state_1
					subtract = {
						value = scope:player_country.var:qiran_quantity
						multiply = owner.money_value_rapported_inflation
					}

				}
			}
		}
		every_country = {
			limit = {
				is_player = yes
			}
			every_scope_state = {
				if = {
					limit = {
						has_modifier = bank_central_historic_place
						is_capital = yes
					}
					change_variable = {
						name = stockpiling_qiran_state_1
						subtract = owner.var:qiran_quantity
					}
				}
			}
			add_treasury = {
				value = scope:player_country.var:qiran_quantity
				multiply = scope:target.money_value_rapported_inflation
			}
		}
	}
}

################################################################################################################################################################

################################################################################################################################################################


################################################################################################################################################################
################################################################################################################################################################
################################################################################################################################################################
################################################################################################################################################################

# ███████╗ ██████╗ ██████╗ ███████╗██╗ ██████╗ ███╗   ██╗
# ██╔════╝██╔═══██╗██╔══██╗██╔════╝██║██╔════╝ ████╗  ██║
# █████╗  ██║   ██║██████╔╝█████╗  ██║██║  ███╗██╔██╗ ██║
# ██╔══╝  ██║   ██║██╔══██╗██╔══╝  ██║██║   ██║██║╚██╗██║
# ██║     ╚██████╔╝██║  ██║███████╗██║╚██████╔╝██║ ╚████║
# ╚═╝      ╚═════╝ ╚═╝  ╚═╝╚══════╝╚═╝ ╚═════╝ ╚═╝  ╚═══╝
#
# ██╗███╗   ██╗██╗   ██╗███████╗███████╗████████╗███╗   ███╗███████╗███╗   ██╗████████╗
# ██║████╗  ██║██║   ██║██╔════╝██╔════╝╚══██╔══╝████╗ ████║██╔════╝████╗  ██║╚══██╔══╝
# ██║██╔██╗ ██║██║   ██║█████╗  ███████╗   ██║   ██╔████╔██║█████╗  ██╔██╗ ██║   ██║
# ██║██║╚██╗██║╚██╗ ██╔╝██╔══╝  ╚════██║   ██║   ██║╚██╔╝██║██╔══╝  ██║╚██╗██║   ██║
# ██║██║ ╚████║ ╚████╔╝ ███████╗███████║   ██║   ██║ ╚═╝ ██║███████╗██║ ╚████║   ██║
# ╚═╝╚═╝  ╚═══╝  ╚═══╝  ╚══════╝╚══════╝   ╚═╝   ╚═╝     ╚═╝╚══════╝╚═╝  ╚═══╝   ╚═╝
#
# ██╗   ██╗██╗███████╗██╗██████╗ ██╗██╗     ██╗████████╗██╗   ██╗
# ██║   ██║██║██╔════╝██║██╔══██╗██║██║     ██║╚══██╔══╝╚██╗ ██╔╝
# ██║   ██║██║███████╗██║██████╔╝██║██║     ██║   ██║    ╚████╔╝
# ╚██╗ ██╔╝██║╚════██║██║██╔══██╗██║██║     ██║   ██║     ╚██╔╝
#  ╚████╔╝ ██║███████║██║██████╔╝██║███████╗██║   ██║      ██║
#   ╚═══╝  ╚═╝╚══════╝╚═╝╚═════╝ ╚═╝╚══════╝╚═╝   ╚═╝      ╚═╝

################################################################################################################################################################
################################################################################################################################################################
################################################################################################################################################################
################################################################################################################################################################

foreign_investment_visibility = {
	is_shown = {
		or = {
			has_modifier = 10_year_buyer_maturity_seller_1
			has_modifier = 10_year_buyer_maturity_seller_2
			has_modifier = 10_year_buyer_maturity_seller_3
			has_modifier = 10_year_buyer_maturity_seller_4
			has_modifier = 10_year_buyer_maturity_seller_5
			has_modifier = 5_year_buyer_maturity_seller_6
			has_modifier = 5_year_buyer_maturity_seller_7
			has_modifier = 5_year_buyer_maturity_seller_8
			has_modifier = 5_year_buyer_maturity_seller_9
			has_modifier = 5_year_buyer_maturity_seller_10

			has_modifier = 10_year_buyer_maturity_buyer_1
			has_modifier = 10_year_buyer_maturity_buyer_2
			has_modifier = 10_year_buyer_maturity_buyer_3
			has_modifier = 10_year_buyer_maturity_buyer_4
			has_modifier = 10_year_buyer_maturity_buyer_5
			has_modifier = 5_year_buyer_maturity_buyer_6
			has_modifier = 5_year_buyer_maturity_buyer_7
			has_modifier = 5_year_buyer_maturity_buyer_8
			has_modifier = 5_year_buyer_maturity_buyer_9
			has_modifier = 5_year_buyer_maturity_buyer_10

			has_modifier = ai_10_year_buyer_maturity_seller_1
			has_modifier = ai_10_year_buyer_maturity_seller_2
			has_modifier = ai_10_year_buyer_maturity_seller_3
			has_modifier = ai_10_year_buyer_maturity_seller_4
			has_modifier = ai_10_year_buyer_maturity_seller_5
			has_modifier = ai_5_year_buyer_maturity_seller_6
			has_modifier = ai_5_year_buyer_maturity_seller_7
			has_modifier = ai_5_year_buyer_maturity_seller_8
			has_modifier = ai_5_year_buyer_maturity_seller_9
			has_modifier = ai_5_year_buyer_maturity_seller_10

			has_modifier = ai_10_year_buyer_maturity_buyer_1
			has_modifier = ai_10_year_buyer_maturity_buyer_2
			has_modifier = ai_10_year_buyer_maturity_buyer_3
			has_modifier = ai_10_year_buyer_maturity_buyer_4
			has_modifier = ai_10_year_buyer_maturity_buyer_5
			has_modifier = ai_5_year_buyer_maturity_buyer_6
			has_modifier = ai_5_year_buyer_maturity_buyer_7
			has_modifier = ai_5_year_buyer_maturity_buyer_8
			has_modifier = ai_5_year_buyer_maturity_buyer_9
			has_modifier = ai_5_year_buyer_maturity_buyer_10
		}
	}
}

seller_country_general_10Y_oclick = {
	effect = {
		set_variable = {
			name = seller_country_general
			value = 10
		}
	}
}

buyer_country_general_5Y_oclick = {
	effect = {
		set_variable = {
			name = seller_country_general
			value = 5
		}
	}
}

seller_country_general_10Y_visible = {
	is_shown = {
		var:seller_country_general = 10
	}
}

buyer_country_general_5Y_visible = {
	is_shown = {
		var:seller_country_general = 5
	}
}

################################################################################################################################################################
################################################################################################################################################################
################################################################################################################################################################
################################################################################################################################################################
